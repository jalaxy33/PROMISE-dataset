package
org
apache
tools
ant
taskdefs
optional
jlink
import
java
io
DataInput
import
java
io
DataInputStream
import
java
io
IOException
import
java
io
InputStream
class
ConstantPool
static
final
byte
UTF8
UNUSED
INTEGER
FLOAT
LONG
DOUBLE
CLASS
STRING
FIELDREF
METHODREF
INTERFACEMETHODREF
NAMEANDTYPE
byte
types
Object
values
ConstantPool
DataInput
data
throws
IOException
super
int
count
data
readUnsignedShort
types
new
byte
count
values
new
Object
count
for
int
i
i
count
i
byte
type
data
readByte
types
i
type
switch
type
case
UTF8
values
i
data
readUTF
break
case
UNUSED
break
case
INTEGER
values
i
new
Integer
data
readInt
break
case
FLOAT
values
i
new
Float
data
readFloat
break
case
LONG
values
i
new
Long
data
readLong
i
break
case
DOUBLE
values
i
new
Double
data
readDouble
i
break
case
CLASS
case
STRING
values
i
new
Integer
data
readUnsignedShort
break
case
FIELDREF
case
METHODREF
case
INTERFACEMETHODREF
case
NAMEANDTYPE
values
i
new
Integer
data
readInt
break
default
public
class
ClassNameReader
extends
Object
public
static
String
getClassName
InputStream
input
throws
IOException
DataInputStream
data
new
DataInputStream
input
int
cookie
data
readInt
if
cookie
return
data
readInt
ConstantPool
constants
new
ConstantPool
data
Object
values
constants
values
data
readUnsignedShort
int
classIndex
data
readUnsignedShort
Integer
stringIndex
Integer
values
classIndex
String
className
String
values
stringIndex
intValue
return
className
