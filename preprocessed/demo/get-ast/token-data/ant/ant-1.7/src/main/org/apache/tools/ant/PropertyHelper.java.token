package
org
apache
tools
ant
import
java
util
Hashtable
import
java
util
Vector
import
java
util
Enumeration
public
class
PropertyHelper
private
Project
project
private
PropertyHelper
next
private
Hashtable
properties
new
Hashtable
private
Hashtable
userProperties
new
Hashtable
private
Hashtable
inheritedProperties
new
Hashtable
protected
PropertyHelper
public
void
setProject
Project
p
this
project
p
public
void
setNext
PropertyHelper
next
this
next
next
public
PropertyHelper
getNext
return
next
public
static
synchronized
PropertyHelper
getPropertyHelper
Project
project
PropertyHelper
helper
PropertyHelper
project
getReference
MagicNames
REFID_PROPERTY_HELPER
if
helper
return
helper
helper
new
PropertyHelper
helper
setProject
project
project
addReference
MagicNames
REFID_PROPERTY_HELPER
helper
return
helper
public
boolean
setPropertyHook
String
ns
String
name
Object
value
boolean
inherited
boolean
user
boolean
isNew
if
getNext
boolean
subst
getNext
setPropertyHook
ns
name
value
inherited
user
isNew
if
subst
return
return
public
Object
getPropertyHook
String
ns
String
name
boolean
user
if
getNext
Object
o
getNext
getPropertyHook
ns
name
user
if
o
return
o
if
name
startsWith
name
name
substring
length
Object
v
project
getReference
name
return
v
v
toString
return
public
void
parsePropertyString
String
value
Vector
fragments
Vector
propertyRefs
throws
BuildException
parsePropertyStringDefault
value
fragments
propertyRefs
public
String
replaceProperties
String
ns
String
value
Hashtable
keys
throws
BuildException
if
value
value
indexOf
return
value
Vector
fragments
new
Vector
Vector
propertyRefs
new
Vector
parsePropertyString
value
fragments
propertyRefs
StringBuffer
sb
new
StringBuffer
Enumeration
i
fragments
elements
Enumeration
j
propertyRefs
elements
while
i
hasMoreElements
String
fragment
String
i
nextElement
if
fragment
String
propertyName
String
j
nextElement
Object
replacement
if
keys
replacement
keys
get
propertyName
if
replacement
replacement
getProperty
ns
propertyName
if
replacement
project
log
propertyName
Project
MSG_VERBOSE
fragment
replacement
replacement
toString
propertyName
sb
append
fragment
return
sb
toString
public
synchronized
boolean
setProperty
String
ns
String
name
Object
value
boolean
verbose
if
userProperties
get
name
if
verbose
project
log
name
Project
MSG_VERBOSE
return
boolean
done
setPropertyHook
ns
name
value
if
done
return
if
properties
get
name
verbose
project
log
name
Project
MSG_VERBOSE
if
verbose
project
log
name
value
Project
MSG_DEBUG
properties
put
name
value
return
public
synchronized
void
setNewProperty
String
ns
String
name
Object
value
if
properties
get
name
project
log
name
Project
MSG_VERBOSE
return
boolean
done
setPropertyHook
ns
name
value
if
done
return
project
log
name
value
Project
MSG_DEBUG
if
name
value
properties
put
name
value
public
synchronized
void
setUserProperty
String
ns
String
name
Object
value
project
log
name
value
Project
MSG_DEBUG
userProperties
put
name
value
boolean
done
setPropertyHook
ns
name
value
if
done
return
properties
put
name
value
public
synchronized
void
setInheritedProperty
String
ns
String
name
Object
value
inheritedProperties
put
name
value
project
log
name
value
Project
MSG_DEBUG
userProperties
put
name
value
boolean
done
setPropertyHook
ns
name
value
if
done
return
properties
put
name
value
public
synchronized
Object
getProperty
String
ns
String
name
if
name
return
Object
o
getPropertyHook
ns
name
if
o
return
o
return
properties
get
name
public
synchronized
Object
getUserProperty
String
ns
String
name
if
name
return
Object
o
getPropertyHook
ns
name
if
o
return
o
return
userProperties
get
name
public
Hashtable
getProperties
return
new
Hashtable
properties
public
Hashtable
getUserProperties
return
new
Hashtable
userProperties
protected
Hashtable
getInternalProperties
return
properties
protected
Hashtable
getInternalUserProperties
return
userProperties
protected
Hashtable
getInternalInheritedProperties
return
inheritedProperties
public
void
copyInheritedProperties
Project
other
Enumeration
e
inheritedProperties
keys
while
e
hasMoreElements
String
arg
e
nextElement
toString
if
other
getUserProperty
arg
continue
Object
value
inheritedProperties
get
arg
other
setInheritedProperty
arg
value
toString
public
void
copyUserProperties
Project
other
Enumeration
e
userProperties
keys
while
e
hasMoreElements
Object
arg
e
nextElement
if
inheritedProperties
containsKey
arg
continue
Object
value
userProperties
get
arg
other
setUserProperty
arg
toString
value
toString
static
void
parsePropertyStringDefault
String
value
Vector
fragments
Vector
propertyRefs
throws
BuildException
int
prev
int
pos
while
pos
value
indexOf
prev
if
pos
fragments
addElement
value
substring
prev
pos
if
pos
value
length
fragments
addElement
prev
pos
else
if
value
charAt
pos
if
value
charAt
pos
fragments
addElement
prev
pos
else
fragments
addElement
value
substring
pos
pos
prev
pos
else
int
endName
value
indexOf
pos
if
endName
throw
new
BuildException
value
String
propertyName
value
substring
pos
endName
fragments
addElement
propertyRefs
addElement
propertyName
prev
endName
if
prev
value
length
fragments
addElement
value
substring
prev
