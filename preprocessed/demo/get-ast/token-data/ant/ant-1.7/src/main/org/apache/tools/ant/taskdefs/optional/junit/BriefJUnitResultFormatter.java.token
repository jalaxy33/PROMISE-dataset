package
org
apache
tools
ant
taskdefs
optional
junit
import
java
io
OutputStream
import
java
io
PrintWriter
import
java
io
StringWriter
import
java
text
NumberFormat
import
junit
framework
AssertionFailedError
import
junit
framework
Test
import
org
apache
tools
ant
util
FileUtils
import
org
apache
tools
ant
util
StringUtils
public
class
BriefJUnitResultFormatter
implements
JUnitResultFormatter
private
OutputStream
out
private
PrintWriter
output
private
StringWriter
results
private
PrintWriter
resultWriter
private
NumberFormat
numberFormat
NumberFormat
getInstance
private
String
systemOutput
private
String
systemError
public
BriefJUnitResultFormatter
results
new
StringWriter
resultWriter
new
PrintWriter
results
public
void
setOutput
OutputStream
out
this
out
out
output
new
PrintWriter
out
public
void
setSystemOutput
String
out
systemOutput
out
public
void
setSystemError
String
err
systemError
err
public
void
startTestSuite
JUnitTest
suite
if
output
return
StringBuffer
sb
new
StringBuffer
sb
append
suite
getName
sb
append
StringUtils
LINE_SEP
output
write
sb
toString
output
flush
public
void
endTestSuite
JUnitTest
suite
StringBuffer
sb
new
StringBuffer
sb
append
suite
runCount
sb
append
sb
append
suite
failureCount
sb
append
sb
append
suite
errorCount
sb
append
sb
append
numberFormat
format
suite
getRunTime
sb
append
sb
append
StringUtils
LINE_SEP
sb
append
StringUtils
LINE_SEP
if
systemOutput
systemOutput
length
sb
append
append
StringUtils
LINE_SEP
append
systemOutput
append
append
StringUtils
LINE_SEP
if
systemError
systemError
length
sb
append
append
StringUtils
LINE_SEP
append
systemError
append
append
StringUtils
LINE_SEP
if
output
try
output
write
sb
toString
resultWriter
close
output
write
results
toString
output
flush
finally
if
out
System
out
out
System
err
FileUtils
close
out
public
void
startTest
Test
test
public
void
endTest
Test
test
public
void
addFailure
Test
test
Throwable
t
formatError
test
t
public
void
addFailure
Test
test
AssertionFailedError
t
addFailure
test
Throwable
t
public
void
addError
Test
test
Throwable
error
formatError
test
error
protected
String
formatTest
Test
test
if
test
return
else
return
test
toString
protected
synchronized
void
formatError
String
type
Test
test
Throwable
error
if
test
endTest
test
resultWriter
println
formatTest
test
type
resultWriter
println
error
getMessage
String
strace
JUnitTestRunner
getFilteredTrace
error
resultWriter
println
strace
resultWriter
println
