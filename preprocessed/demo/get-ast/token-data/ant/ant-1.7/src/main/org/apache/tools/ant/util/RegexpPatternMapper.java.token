package
org
apache
tools
ant
util
import
java
util
Vector
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
util
regexp
RegexpMatcher
import
org
apache
tools
ant
util
regexp
RegexpMatcherFactory
public
class
RegexpPatternMapper
implements
FileNameMapper
protected
RegexpMatcher
reg
protected
char
to
protected
StringBuffer
result
new
StringBuffer
public
RegexpPatternMapper
throws
BuildException
reg
new
RegexpMatcherFactory
newRegexpMatcher
private
boolean
handleDirSep
private
int
regexpOptions
public
void
setHandleDirSep
boolean
handleDirSep
this
handleDirSep
handleDirSep
public
void
setCaseSensitive
boolean
caseSensitive
if
caseSensitive
regexpOptions
RegexpMatcher
MATCH_CASE_INSENSITIVE
else
regexpOptions
public
void
setFrom
String
from
throws
BuildException
try
reg
setPattern
from
catch
NoClassDefFoundError
e
throw
new
BuildException
e
public
void
setTo
String
to
this
to
to
toCharArray
public
String
mapFileName
String
sourceFileName
if
handleDirSep
if
sourceFileName
indexOf
sourceFileName
sourceFileName
replace
if
reg
to
reg
matches
sourceFileName
regexpOptions
return
return
new
String
replaceReferences
sourceFileName
protected
String
replaceReferences
String
source
Vector
v
reg
getGroups
source
regexpOptions
result
setLength
for
int
i
i
to
length
i
if
to
i
if
i
to
length
int
value
Character
digit
to
i
if
value
result
append
String
v
elementAt
value
else
result
append
to
i
else
result
append
else
result
append
to
i
return
result
substring
