package
org
apache
tools
ant
taskdefs
optional
perforce
import
java
text
SimpleDateFormat
import
java
util
Date
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
util
StringUtils
public
class
P4Label
extends
P4Base
protected
String
name
protected
String
desc
protected
String
lock
public
void
setName
String
name
this
name
name
public
void
setDesc
String
desc
this
desc
desc
public
void
setLock
String
lock
this
lock
lock
public
void
execute
throws
BuildException
log
Project
MSG_INFO
if
P4View
P4View
length
log
Project
MSG_WARN
P4View
else
P4View
StringUtils
replace
P4View
P4View
StringUtils
replace
P4View
if
desc
desc
length
log
Project
MSG_WARN
desc
if
lock
lock
equalsIgnoreCase
log
Project
MSG_WARN
if
name
name
length
SimpleDateFormat
formatter
new
SimpleDateFormat
Date
now
new
Date
name
formatter
format
now
log
name
Project
MSG_WARN
String
newLabel
name
desc
P4View
P4Handler
handler
new
P4HandlerAdapter
public
void
process
String
line
log
line
Project
MSG_VERBOSE
handler
setOutput
newLabel
execP4Command
handler
execP4Command
name
new
P4HandlerAdapter
public
void
process
String
line
log
line
Project
MSG_VERBOSE
log
name
desc
P4View
Project
MSG_INFO
if
lock
lock
equalsIgnoreCase
log
Project
MSG_INFO
final
StringBuffer
labelSpec
new
StringBuffer
handler
new
P4HandlerAdapter
public
void
process
String
line
log
line
Project
MSG_VERBOSE
if
util
match
line
line
lock
labelSpec
append
line
execP4Command
name
handler
log
labelSpec
toString
Project
MSG_DEBUG
log
Project
MSG_VERBOSE
handler
new
P4HandlerAdapter
public
void
process
String
line
log
line
Project
MSG_VERBOSE
handler
setOutput
labelSpec
toString
execP4Command
handler
