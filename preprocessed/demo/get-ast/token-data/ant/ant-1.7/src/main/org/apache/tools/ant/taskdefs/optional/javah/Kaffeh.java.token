package
org
apache
tools
ant
taskdefs
optional
javah
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
taskdefs
Execute
import
org
apache
tools
ant
taskdefs
optional
Javah
import
org
apache
tools
ant
types
Commandline
import
org
apache
tools
ant
types
Path
import
org
apache
tools
ant
util
JavaEnvUtils
public
class
Kaffeh
implements
JavahAdapter
public
static
final
String
IMPLEMENTATION_NAME
public
boolean
compile
Javah
javah
throws
BuildException
Commandline
cmd
setupKaffehCommand
javah
try
Execute
runCommand
javah
cmd
getCommandline
return
catch
BuildException
e
if
e
getMessage
indexOf
throw
e
return
private
Commandline
setupKaffehCommand
Javah
javah
Commandline
cmd
new
Commandline
cmd
setExecutable
JavaEnvUtils
getJdkExecutable
if
javah
getDestdir
cmd
createArgument
setValue
cmd
createArgument
setFile
javah
getDestdir
if
javah
getOutputfile
cmd
createArgument
setValue
cmd
createArgument
setFile
javah
getOutputfile
Path
cp
new
Path
javah
getProject
if
javah
getBootclasspath
cp
append
javah
getBootclasspath
cp
cp
concatSystemBootClasspath
if
javah
getClasspath
cp
append
javah
getClasspath
if
cp
size
cmd
createArgument
setValue
cmd
createArgument
setPath
cp
if
javah
getOld
cmd
createArgument
setValue
cmd
addArguments
javah
getCurrentArgs
javah
logAndAddFiles
cmd
return
cmd
