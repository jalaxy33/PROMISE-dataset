package
org
apache
tools
ant
input
import
java
io
FileInputStream
import
java
io
IOException
import
java
util
Properties
import
org
apache
tools
ant
BuildException
public
class
PropertyFileInputHandler
implements
InputHandler
private
Properties
props
public
static
final
String
FILE_NAME_KEY
public
PropertyFileInputHandler
public
void
handleInput
InputRequest
request
throws
BuildException
readProps
Object
o
props
get
request
getPrompt
if
o
throw
new
BuildException
request
getPrompt
request
setInput
o
toString
if
request
isInputValid
throw
new
BuildException
o
request
getPrompt
private
synchronized
void
readProps
throws
BuildException
if
props
String
propsFile
System
getProperty
FILE_NAME_KEY
if
propsFile
throw
new
BuildException
FILE_NAME_KEY
props
new
Properties
try
props
load
new
FileInputStream
propsFile
catch
IOException
e
throw
new
BuildException
propsFile
e
