package
org
apache
tools
ant
taskdefs
import
java
util
ArrayList
import
java
util
List
import
java
util
Map
import
java
util
Locale
import
java
util
HashMap
import
java
util
Iterator
import
org
apache
tools
ant
AntTypeDefinition
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
ComponentHelper
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
ProjectHelper
import
org
apache
tools
ant
RuntimeConfigurable
import
org
apache
tools
ant
Task
import
org
apache
tools
ant
TaskContainer
import
org
apache
tools
ant
UnknownElement
public
class
MacroDef
extends
AntlibDefinition
private
NestedSequential
nestedSequential
private
String
name
private
boolean
backTrace
private
List
attributes
new
ArrayList
private
Map
elements
new
HashMap
private
String
textName
private
Text
text
private
boolean
hasImplicitElement
public
void
setName
String
name
this
name
name
public
void
addConfiguredText
Text
text
if
this
text
throw
new
BuildException
if
text
getName
throw
new
BuildException
for
Iterator
i
attributes
iterator
i
hasNext
Attribute
attribute
Attribute
i
next
if
text
getName
equals
attribute
getName
throw
new
BuildException
text
getName
this
text
text
this
textName
text
getName
public
Text
getText
return
text
public
void
setBackTrace
boolean
backTrace
this
backTrace
backTrace
public
boolean
getBackTrace
return
backTrace
public
NestedSequential
createSequential
if
this
nestedSequential
throw
new
BuildException
this
nestedSequential
new
NestedSequential
return
this
nestedSequential
public
static
class
NestedSequential
implements
TaskContainer
private
List
nested
new
ArrayList
public
void
addTask
Task
task
nested
add
task
public
List
getNested
return
nested
public
boolean
similar
NestedSequential
other
if
nested
size
other
nested
size
return
for
int
i
i
nested
size
i
UnknownElement
me
UnknownElement
nested
get
i
UnknownElement
o
UnknownElement
other
nested
get
i
if
me
similar
o
return
return
public
UnknownElement
getNestedTask
UnknownElement
ret
new
UnknownElement
ret
setTaskName
ret
setNamespace
ret
setQName
new
RuntimeConfigurable
ret
for
int
i
i
nestedSequential
getNested
size
i
UnknownElement
e
UnknownElement
nestedSequential
getNested
get
i
ret
addChild
e
ret
getWrapper
addChild
e
getWrapper
return
ret
public
List
getAttributes
return
attributes
public
Map
getElements
return
elements
public
static
boolean
isValidNameCharacter
char
c
return
Character
isLetterOrDigit
c
c
c
private
static
boolean
isValidName
String
name
if
name
length
return
for
int
i
i
name
length
i
if
isValidNameCharacter
name
charAt
i
return
return
public
void
addConfiguredAttribute
Attribute
attribute
if
attribute
getName
throw
new
BuildException
if
attribute
getName
equals
textName
throw
new
BuildException
attribute
getName
for
int
i
i
attributes
size
i
Attribute
att
Attribute
attributes
get
i
if
att
getName
equals
attribute
getName
throw
new
BuildException
attribute
getName
attributes
add
attribute
public
void
addConfiguredElement
TemplateElement
element
if
element
getName
throw
new
BuildException
if
elements
get
element
getName
throw
new
BuildException
element
getName
if
hasImplicitElement
element
isImplicit
elements
size
throw
new
BuildException
hasImplicitElement
element
isImplicit
elements
put
element
getName
element
public
void
execute
if
nestedSequential
throw
new
BuildException
if
name
throw
new
BuildException
name
ProjectHelper
genComponentName
getURI
name
MyAntTypeDefinition
def
new
MyAntTypeDefinition
this
def
setName
name
def
setClass
MacroInstance
class
ComponentHelper
helper
ComponentHelper
getComponentHelper
getProject
helper
addDataTypeDefinition
def
log
name
Project
MSG_VERBOSE
public
static
class
Attribute
private
String
name
private
String
defaultValue
private
String
description
public
void
setName
String
name
if
isValidName
name
throw
new
BuildException
name
this
name
name
toLowerCase
Locale
US
public
String
getName
return
name
public
void
setDefault
String
defaultValue
this
defaultValue
defaultValue
public
String
getDefault
return
defaultValue
public
void
setDescription
String
desc
description
desc
public
String
getDescription
return
description
public
boolean
equals
Object
obj
if
obj
return
if
obj
getClass
getClass
return
Attribute
other
Attribute
obj
if
name
if
other
name
return
else
if
name
equals
other
name
return
if
defaultValue
if
other
defaultValue
return
else
if
defaultValue
equals
other
defaultValue
return
return
public
int
hashCode
return
objectHashCode
defaultValue
objectHashCode
name
public
static
class
Text
private
String
name
private
boolean
optional
private
boolean
trim
private
String
description
public
void
setName
String
name
if
isValidName
name
throw
new
BuildException
name
this
name
name
toLowerCase
Locale
US
public
String
getName
return
name
public
void
setOptional
boolean
optional
this
optional
optional
public
boolean
getOptional
return
optional
public
void
setTrim
boolean
trim
this
trim
trim
public
boolean
getTrim
return
trim
public
void
setDescription
String
desc
description
desc
public
String
getDescription
return
description
public
boolean
equals
Object
obj
if
obj
return
if
obj
getClass
getClass
return
Text
other
Text
obj
if
name
if
other
name
return
else
if
name
equals
other
name
return
if
optional
other
optional
return
if
trim
other
trim
return
return
public
int
hashCode
return
objectHashCode
name
public
static
class
TemplateElement
private
String
name
private
String
description
private
boolean
optional
private
boolean
implicit
public
void
setName
String
name
if
isValidName
name
throw
new
BuildException
name
this
name
name
toLowerCase
Locale
US
public
String
getName
return
name
public
void
setDescription
String
desc
description
desc
public
String
getDescription
return
description
public
void
setOptional
boolean
optional
this
optional
optional
public
boolean
isOptional
return
optional
public
void
setImplicit
boolean
implicit
this
implicit
implicit
public
boolean
isImplicit
return
implicit
public
boolean
equals
Object
obj
if
obj
this
return
if
obj
obj
getClass
equals
getClass
return
TemplateElement
t
TemplateElement
obj
return
name
t
name
name
equals
t
name
optional
t
optional
implicit
t
implicit
public
int
hashCode
return
objectHashCode
name
optional
implicit
private
boolean
sameOrSimilar
Object
obj
boolean
same
if
obj
this
return
if
obj
return
if
obj
getClass
equals
getClass
return
MacroDef
other
MacroDef
obj
if
name
return
other
name
if
name
equals
other
name
return
if
other
getLocation
other
getLocation
equals
getLocation
same
return
if
text
if
other
text
return
else
if
text
equals
other
text
return
if
getURI
getURI
equals
getURI
equals
ProjectHelper
ANT_CORE_URI
if
other
getURI
other
getURI
equals
other
getURI
equals
ProjectHelper
ANT_CORE_URI
return
else
if
getURI
equals
other
getURI
return
if
nestedSequential
similar
other
nestedSequential
return
if
attributes
equals
other
attributes
return
if
elements
equals
other
elements
return
return
public
boolean
similar
Object
obj
return
sameOrSimilar
obj
public
boolean
sameDefinition
Object
obj
return
sameOrSimilar
obj
private
static
class
MyAntTypeDefinition
extends
AntTypeDefinition
private
MacroDef
macroDef
public
MyAntTypeDefinition
MacroDef
macroDef
this
macroDef
macroDef
public
Object
create
Project
project
Object
o
super
create
project
if
o
return
MacroInstance
o
setMacroDef
macroDef
return
o
public
boolean
sameDefinition
AntTypeDefinition
other
Project
project
if
super
sameDefinition
other
project
return
MyAntTypeDefinition
otherDef
MyAntTypeDefinition
other
return
macroDef
sameDefinition
otherDef
macroDef
public
boolean
similarDefinition
AntTypeDefinition
other
Project
project
if
super
similarDefinition
other
project
return
MyAntTypeDefinition
otherDef
MyAntTypeDefinition
other
return
macroDef
similar
otherDef
macroDef
private
static
int
objectHashCode
Object
o
if
o
return
else
return
o
hashCode
