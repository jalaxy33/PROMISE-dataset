package
org
apache
tools
ant
types
resources
import
java
io
File
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
types
Resource
import
org
apache
tools
ant
types
ResourceCollection
import
org
apache
tools
ant
types
Reference
public
abstract
class
ArchiveResource
extends
Resource
private
static
final
int
NULL_ARCHIVE
Resource
getMagicNumber
getBytes
private
Resource
archive
private
boolean
haveEntry
private
boolean
modeSet
private
int
mode
public
ArchiveResource
public
ArchiveResource
File
a
this
a
public
ArchiveResource
File
a
boolean
withEntry
setArchive
a
haveEntry
withEntry
public
ArchiveResource
Resource
a
boolean
withEntry
addConfigured
a
haveEntry
withEntry
public
void
setArchive
File
a
checkAttributesAllowed
archive
new
FileResource
a
public
void
setMode
int
mode
checkAttributesAllowed
this
mode
mode
modeSet
public
void
addConfigured
ResourceCollection
a
checkChildrenAllowed
if
archive
throw
new
BuildException
if
a
size
throw
new
BuildException
archive
Resource
a
iterator
next
public
Resource
getArchive
return
isReference
ArchiveResource
getCheckedRef
getArchive
archive
public
long
getLastModified
if
isReference
return
Resource
getCheckedRef
getLastModified
checkEntry
return
super
getLastModified
public
long
getSize
if
isReference
return
Resource
getCheckedRef
getSize
checkEntry
return
super
getSize
public
boolean
isDirectory
if
isReference
return
Resource
getCheckedRef
isDirectory
checkEntry
return
super
isDirectory
public
boolean
isExists
if
isReference
return
Resource
getCheckedRef
isExists
checkEntry
return
super
isExists
public
int
getMode
if
isReference
return
ArchiveResource
getCheckedRef
getMode
checkEntry
return
mode
public
void
setRefid
Reference
r
if
archive
modeSet
throw
tooManyAttributes
super
setRefid
r
public
int
compareTo
Object
another
return
this
equals
another
super
compareTo
another
public
boolean
equals
Object
another
if
this
another
return
if
isReference
return
getCheckedRef
equals
another
if
another
getClass
equals
getClass
return
ArchiveResource
r
ArchiveResource
another
return
getArchive
equals
r
getArchive
getName
equals
r
getName
public
int
hashCode
return
super
hashCode
getArchive
NULL_ARCHIVE
getArchive
hashCode
public
String
toString
return
isReference
getCheckedRef
toString
getArchive
toString
getName
private
synchronized
void
checkEntry
throws
BuildException
if
haveEntry
return
String
name
getName
if
name
throw
new
BuildException
Resource
r
getArchive
if
r
throw
new
BuildException
if
r
isExists
throw
new
BuildException
r
toString
if
r
isDirectory
throw
new
BuildException
r
fetchEntry
haveEntry
protected
abstract
void
fetchEntry
