package
org
apache
tools
ant
taskdefs
optional
depend
import
java
io
IOException
import
java
io
InputStream
import
java
util
zip
ZipEntry
import
java
util
zip
ZipInputStream
public
class
JarFileIterator
implements
ClassFileIterator
private
ZipInputStream
jarStream
public
JarFileIterator
InputStream
stream
throws
IOException
super
jarStream
new
ZipInputStream
stream
public
ClassFile
getNextClassFile
ZipEntry
jarEntry
ClassFile
nextElement
try
jarEntry
jarStream
getNextEntry
while
nextElement
jarEntry
String
entryName
jarEntry
getName
if
jarEntry
isDirectory
entryName
endsWith
ClassFile
javaClass
new
ClassFile
javaClass
read
jarStream
nextElement
javaClass
else
jarEntry
jarStream
getNextEntry
catch
IOException
e
String
message
e
getMessage
String
text
e
getClass
getName
if
message
text
message
throw
new
RuntimeException
text
return
nextElement
