package
org
apache
tools
ant
util
depend
bcel
import
java
util
Enumeration
import
java
util
Hashtable
import
java
util
StringTokenizer
import
org
apache
bcel
classfile
ConstantClass
import
org
apache
bcel
classfile
ConstantPool
import
org
apache
bcel
classfile
EmptyVisitor
import
org
apache
bcel
classfile
Field
import
org
apache
bcel
classfile
JavaClass
import
org
apache
bcel
classfile
Method
import
org
apache
bcel
classfile
ConstantNameAndType
public
class
DependencyVisitor
extends
EmptyVisitor
private
Hashtable
dependencies
new
Hashtable
private
ConstantPool
constantPool
public
Enumeration
getDependencies
return
dependencies
keys
public
void
clearDependencies
dependencies
clear
public
void
visitConstantPool
ConstantPool
constantPool
this
constantPool
constantPool
public
void
visitConstantClass
ConstantClass
constantClass
String
classname
constantClass
getConstantValue
constantPool
toString
addSlashClass
classname
public
void
visitConstantNameAndType
ConstantNameAndType
obj
String
name
obj
getName
constantPool
if
obj
getSignature
constantPool
equals
name
startsWith
String
classname
name
substring
replace
int
index
classname
lastIndexOf
if
index
char
start
int
index2
classname
lastIndexOf
index
if
index2
start
classname
charAt
index2
else
start
classname
charAt
if
start
start
classname
classname
substring
index
classname
substring
index
addClass
classname
else
addClass
classname
else
addClass
classname
public
void
visitField
Field
field
addClasses
field
getSignature
public
void
visitJavaClass
JavaClass
javaClass
addClass
javaClass
getClassName
public
void
visitMethod
Method
method
String
signature
method
getSignature
int
pos
signature
indexOf
addClasses
signature
substring
pos
addClasses
signature
substring
pos
void
addClass
String
classname
dependencies
put
classname
classname
private
void
addClasses
String
string
StringTokenizer
tokens
new
StringTokenizer
string
while
tokens
hasMoreTokens
String
descriptor
tokens
nextToken
int
pos
descriptor
indexOf
if
pos
addSlashClass
descriptor
substring
pos
private
void
addSlashClass
String
classname
addClass
classname
replace
