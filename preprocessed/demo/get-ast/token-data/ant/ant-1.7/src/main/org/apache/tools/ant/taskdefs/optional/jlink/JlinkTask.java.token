package
org
apache
tools
ant
taskdefs
optional
jlink
import
java
io
File
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
taskdefs
MatchingTask
import
org
apache
tools
ant
types
Path
public
class
JlinkTask
extends
MatchingTask
public
void
setOutfile
File
outfile
this
outfile
outfile
public
Path
createMergefiles
if
this
mergefiles
this
mergefiles
new
Path
getProject
return
this
mergefiles
createPath
public
void
setMergefiles
Path
mergefiles
if
this
mergefiles
this
mergefiles
mergefiles
else
this
mergefiles
append
mergefiles
public
Path
createAddfiles
if
this
addfiles
this
addfiles
new
Path
getProject
return
this
addfiles
createPath
public
void
setAddfiles
Path
addfiles
if
this
addfiles
this
addfiles
addfiles
else
this
addfiles
append
addfiles
public
void
setCompress
boolean
compress
this
compress
compress
public
void
execute
throws
BuildException
if
outfile
throw
new
BuildException
if
haveAddFiles
haveMergeFiles
throw
new
BuildException
log
outfile
getPath
log
compress
Project
MSG_VERBOSE
jlink
linker
new
jlink
linker
setOutfile
outfile
getPath
linker
setCompression
compress
if
haveMergeFiles
log
mergefiles
toString
Project
MSG_VERBOSE
linker
addMergeFiles
mergefiles
list
if
haveAddFiles
log
addfiles
toString
Project
MSG_VERBOSE
linker
addAddFiles
addfiles
list
try
linker
link
catch
Exception
ex
throw
new
BuildException
ex
getLocation
private
boolean
haveAddFiles
return
haveEntries
addfiles
private
boolean
haveMergeFiles
return
haveEntries
mergefiles
private
boolean
haveEntries
Path
p
if
p
return
if
p
size
return
return
private
File
outfile
private
Path
mergefiles
private
Path
addfiles
private
boolean
compress
