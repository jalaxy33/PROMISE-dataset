package
org
apache
tools
ant
taskdefs
import
java
io
BufferedInputStream
import
java
io
FileOutputStream
import
java
io
IOException
import
java
io
InputStream
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
util
FileUtils
import
org
apache
tools
bzip2
CBZip2InputStream
public
class
BUnzip2
extends
Unpack
private
static
final
String
DEFAULT_EXTENSION
protected
String
getDefaultExtension
return
DEFAULT_EXTENSION
protected
void
extract
if
source
lastModified
dest
lastModified
log
source
getAbsolutePath
dest
getAbsolutePath
FileOutputStream
out
CBZip2InputStream
zIn
InputStream
fis
BufferedInputStream
bis
try
out
new
FileOutputStream
dest
fis
srcResource
getInputStream
bis
new
BufferedInputStream
fis
int
b
bis
read
if
b
throw
new
BuildException
getLocation
b
bis
read
if
b
throw
new
BuildException
getLocation
zIn
new
CBZip2InputStream
bis
byte
buffer
new
byte
int
count
do
out
write
buffer
count
count
zIn
read
buffer
buffer
length
while
count
catch
IOException
ioe
String
msg
ioe
getMessage
throw
new
BuildException
msg
ioe
getLocation
finally
FileUtils
close
bis
FileUtils
close
fis
FileUtils
close
out
FileUtils
close
zIn
protected
boolean
supportsNonFileResources
return
getClass
equals
BUnzip2
class
