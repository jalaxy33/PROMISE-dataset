package
org
apache
tools
ant
types
resources
import
java
io
IOException
import
java
io
InputStream
import
java
io
OutputStream
import
java
io
ByteArrayInputStream
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
types
Resource
import
org
apache
tools
ant
util
PropertyOutputStream
public
class
PropertyResource
extends
Resource
private
static
final
int
PROPERTY_MAGIC
Resource
getMagicNumber
getBytes
private
static
final
InputStream
UNSET
new
InputStream
public
int
read
return
public
PropertyResource
public
PropertyResource
Project
p
String
n
super
n
setProject
p
public
String
getValue
Project
p
getProject
return
p
p
getProperty
getName
public
boolean
isExists
return
getValue
public
long
getSize
if
isReference
return
Resource
getCheckedRef
getSize
return
isExists
long
getValue
length
public
int
hashCode
if
isReference
return
getCheckedRef
hashCode
return
super
hashCode
PROPERTY_MAGIC
public
String
toString
if
isReference
return
getCheckedRef
toString
return
String
valueOf
getValue
public
InputStream
getInputStream
throws
IOException
if
isReference
return
Resource
getCheckedRef
getInputStream
return
isExists
new
ByteArrayInputStream
getValue
getBytes
UNSET
public
OutputStream
getOutputStream
throws
IOException
if
isReference
return
Resource
getCheckedRef
getOutputStream
if
isExists
throw
new
ImmutableResourceException
return
new
PropertyOutputStream
getProject
getName
