package
org
apache
tools
ant
dispatch
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
UnknownElement
import
org
apache
tools
ant
Task
import
java
lang
reflect
InvocationTargetException
import
java
lang
reflect
Method
public
class
DispatchUtils
public
static
final
void
execute
Object
task
throws
BuildException
String
methodName
Dispatchable
dispatchable
try
if
task
instanceof
Dispatchable
dispatchable
Dispatchable
task
else
if
task
instanceof
UnknownElement
UnknownElement
ue
UnknownElement
task
Object
realThing
ue
getRealThing
if
realThing
realThing
instanceof
Dispatchable
realThing
instanceof
Task
dispatchable
Dispatchable
realThing
if
dispatchable
String
mName
try
final
String
name
dispatchable
getActionParameterName
if
name
name
trim
length
mName
name
trim
substring
toUpperCase
if
name
length
mName
name
substring
final
Class
c
dispatchable
getClass
final
Method
actionM
c
getMethod
mName
new
Class
if
actionM
final
Object
o
actionM
invoke
dispatchable
Object
if
o
final
String
s
o
toString
if
s
s
trim
length
methodName
s
trim
Method
executeM
executeM
dispatchable
getClass
getMethod
methodName
new
Class
if
executeM
throw
new
BuildException
methodName
dispatchable
getClass
executeM
invoke
dispatchable
Object
if
task
instanceof
UnknownElement
UnknownElement
task
setRealThing
else
throw
new
BuildException
name
trim
else
throw
new
BuildException
name
trim
else
throw
new
BuildException
catch
NoSuchMethodException
nsme
throw
new
BuildException
mName
task
getClass
else
Method
executeM
executeM
task
getClass
getMethod
methodName
new
Class
if
executeM
throw
new
BuildException
methodName
task
getClass
executeM
invoke
task
Object
if
task
instanceof
UnknownElement
UnknownElement
task
setRealThing
catch
InvocationTargetException
ie
Throwable
t
ie
getTargetException
if
t
instanceof
BuildException
throw
BuildException
t
else
throw
new
BuildException
t
catch
NoSuchMethodException
e
throw
new
BuildException
e
catch
IllegalAccessException
e
throw
new
BuildException
e
