package
org
apache
tools
ant
taskdefs
rmic
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
taskdefs
ExecuteJava
import
org
apache
tools
ant
types
Commandline
public
class
KaffeRmic
extends
DefaultRmicAdapter
private
static
final
String
RMIC_CLASSNAMES
new
String
public
static
final
String
COMPILER_NAME
public
boolean
execute
throws
BuildException
getRmic
log
Project
MSG_VERBOSE
Commandline
cmd
setupRmicCommand
Class
c
getRmicClass
if
c
StringBuffer
buf
new
StringBuffer
for
int
i
i
RMIC_CLASSNAMES
length
i
if
i
buf
append
buf
append
RMIC_CLASSNAMES
i
buf
append
throw
new
BuildException
buf
toString
getRmic
getLocation
cmd
setExecutable
c
getName
if
c
getName
equals
RMIC_CLASSNAMES
RMIC_CLASSNAMES
length
cmd
createArgument
setValue
getRmic
log
Commandline
describeCommand
cmd
ExecuteJava
ej
new
ExecuteJava
ej
setJavaCommand
cmd
return
ej
fork
getRmic
public
static
boolean
isAvailable
return
getRmicClass
private
static
Class
getRmicClass
for
int
i
i
RMIC_CLASSNAMES
length
i
try
return
Class
forName
RMIC_CLASSNAMES
i
catch
ClassNotFoundException
cnfe
return
