package
org
apache
tools
ant
taskdefs
compilers
import
java
io
IOException
import
java
io
File
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
types
Commandline
import
org
apache
tools
ant
taskdefs
condition
Os
import
org
apache
tools
ant
util
JavaEnvUtils
import
org
apache
tools
ant
util
FileUtils
public
class
JavacExternal
extends
DefaultCompilerAdapter
public
boolean
execute
throws
BuildException
attributes
log
Project
MSG_VERBOSE
Commandline
cmd
new
Commandline
cmd
setExecutable
getJavac
getJavacExecutable
if
assumeJava11
assumeJava12
setupModernJavacCommandlineSwitches
cmd
else
setupJavacCommandlineSwitches
cmd
int
firstFileName
assumeJava11
cmd
size
logAndAddFilesToCompile
cmd
if
Os
isFamily
return
execOnVMS
cmd
firstFileName
return
executeExternalCompile
cmd
getCommandline
firstFileName
private
boolean
execOnVMS
Commandline
cmd
int
firstFileName
File
vmsFile
try
vmsFile
JavaEnvUtils
createVmsJavaOptionFile
cmd
getArguments
String
commandLine
cmd
getExecutable
vmsFile
getPath
return
executeExternalCompile
commandLine
firstFileName
catch
IOException
e
throw
new
BuildException
finally
FileUtils
delete
vmsFile
