package
org
apache
tools
ant
taskdefs
import
java
io
File
import
java
io
FileWriter
import
java
io
IOException
import
java
io
Writer
import
java
io
BufferedWriter
import
java
io
OutputStreamWriter
import
java
io
FileOutputStream
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
Task
import
org
apache
tools
ant
util
FileUtils
import
org
apache
tools
ant
types
LogLevel
public
class
Echo
extends
Task
protected
String
message
protected
File
file
protected
boolean
append
private
String
encoding
protected
int
logLevel
Project
MSG_WARN
public
void
execute
throws
BuildException
if
file
log
message
logLevel
else
Writer
out
try
String
filename
file
getAbsolutePath
if
encoding
encoding
length
out
new
FileWriter
filename
append
else
out
new
BufferedWriter
new
OutputStreamWriter
new
FileOutputStream
filename
append
encoding
out
write
message
message
length
catch
IOException
ioe
throw
new
BuildException
ioe
getLocation
finally
FileUtils
close
out
public
void
setMessage
String
msg
this
message
msg
public
void
setFile
File
file
this
file
file
public
void
setAppend
boolean
append
this
append
append
public
void
addText
String
msg
message
getProject
replaceProperties
msg
public
void
setLevel
EchoLevel
echoLevel
logLevel
echoLevel
getLevel
public
void
setEncoding
String
encoding
this
encoding
encoding
public
static
class
EchoLevel
extends
LogLevel
