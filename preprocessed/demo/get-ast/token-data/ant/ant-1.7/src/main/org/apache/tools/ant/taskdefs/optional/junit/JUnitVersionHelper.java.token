package
org
apache
tools
ant
taskdefs
optional
junit
import
java
lang
reflect
Method
import
junit
framework
Test
import
junit
framework
TestCase
public
class
JUnitVersionHelper
private
static
Method
testCaseName
static
try
testCaseName
TestCase
class
getMethod
new
Class
catch
NoSuchMethodException
e
try
testCaseName
TestCase
class
getMethod
new
Class
catch
NoSuchMethodException
e2
public
static
String
getTestCaseName
Test
t
if
t
t
getClass
getName
equals
String
name
t
toString
if
name
endsWith
int
paren
name
lastIndexOf
return
name
substring
paren
else
return
name
if
t
instanceof
TestCase
testCaseName
try
return
String
testCaseName
invoke
t
new
Object
catch
Throwable
e
else
try
Method
getNameMethod
try
getNameMethod
t
getClass
getMethod
new
Class
catch
NoSuchMethodException
e
getNameMethod
t
getClass
getMethod
new
Class
if
getNameMethod
getNameMethod
getReturnType
String
class
return
String
getNameMethod
invoke
t
new
Object
catch
Throwable
e
return
static
String
getTestCaseClassName
Test
test
String
className
test
getClass
getName
if
test
instanceof
JUnitTaskMirrorImpl
VmExitErrorTest
className
JUnitTaskMirrorImpl
VmExitErrorTest
test
getClassName
else
if
className
equals
String
name
test
toString
int
paren
name
lastIndexOf
if
paren
name
endsWith
className
name
substring
paren
name
length
return
className
