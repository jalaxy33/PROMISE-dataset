package
org
apache
tools
ant
util
regexp
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
MagicNames
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
util
ClasspathUtils
import
org
apache
tools
ant
util
JavaEnvUtils
public
class
RegexpMatcherFactory
public
RegexpMatcherFactory
public
RegexpMatcher
newRegexpMatcher
throws
BuildException
return
newRegexpMatcher
public
RegexpMatcher
newRegexpMatcher
Project
p
throws
BuildException
String
systemDefault
if
p
systemDefault
System
getProperty
MagicNames
REGEXP_IMPL
else
systemDefault
p
getProperty
MagicNames
REGEXP_IMPL
if
systemDefault
return
createInstance
systemDefault
Throwable
cause
try
testAvailability
return
createInstance
catch
BuildException
be
cause
orCause
cause
be
JavaEnvUtils
getJavaVersionNumber
try
testAvailability
return
createInstance
catch
BuildException
be
cause
orCause
cause
be
try
testAvailability
return
createInstance
catch
BuildException
be
cause
orCause
cause
be
throw
new
BuildException
cause
cause
cause
static
Throwable
orCause
Throwable
deflt
BuildException
be
boolean
ignoreCnfe
if
deflt
return
deflt
Throwable
t
be
getException
return
ignoreCnfe
t
instanceof
ClassNotFoundException
t
protected
RegexpMatcher
createInstance
String
className
throws
BuildException
return
RegexpMatcher
ClasspathUtils
newInstance
className
RegexpMatcherFactory
class
getClassLoader
RegexpMatcher
class
protected
void
testAvailability
String
className
throws
BuildException
try
Class
forName
className
catch
Throwable
t
throw
new
BuildException
t
