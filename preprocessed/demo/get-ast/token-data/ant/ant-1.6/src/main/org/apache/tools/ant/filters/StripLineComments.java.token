package
org
apache
tools
ant
filters
import
java
io
IOException
import
java
io
Reader
import
java
util
Vector
import
org
apache
tools
ant
types
Parameter
public
final
class
StripLineComments
extends
BaseParamFilterReader
implements
ChainableReader
private
static
final
String
COMMENTS_KEY
private
Vector
comments
new
Vector
private
String
line
public
StripLineComments
super
public
StripLineComments
final
Reader
in
super
in
public
final
int
read
throws
IOException
if
getInitialized
initialize
setInitialized
int
ch
if
line
ch
line
charAt
if
line
length
line
else
line
line
substring
else
line
readLine
final
int
commentsSize
comments
size
while
line
for
int
i
i
commentsSize
i
String
comment
String
comments
elementAt
i
if
line
startsWith
comment
line
break
if
line
line
readLine
else
break
if
line
return
read
return
ch
public
final
void
addConfiguredComment
final
Comment
comment
comments
addElement
comment
getValue
private
void
setComments
final
Vector
comments
this
comments
comments
private
final
Vector
getComments
return
comments
public
final
Reader
chain
final
Reader
rdr
StripLineComments
newFilter
new
StripLineComments
rdr
newFilter
setComments
getComments
newFilter
setInitialized
return
newFilter
private
final
void
initialize
Parameter
params
getParameters
if
params
for
int
i
i
params
length
i
if
COMMENTS_KEY
equals
params
i
getType
comments
addElement
params
i
getValue
public
static
class
Comment
private
String
value
public
final
void
setValue
String
comment
value
comment
public
final
String
getValue
return
value
