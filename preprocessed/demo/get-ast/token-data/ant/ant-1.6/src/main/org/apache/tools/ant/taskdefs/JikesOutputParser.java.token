package
org
apache
tools
ant
taskdefs
import
java
io
BufferedReader
import
java
io
IOException
import
java
io
InputStream
import
java
io
InputStreamReader
import
java
io
OutputStream
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
Task
public
class
JikesOutputParser
implements
ExecuteStreamHandler
protected
Task
task
protected
boolean
errorFlag
protected
int
errors
protected
int
warnings
protected
boolean
error
protected
boolean
emacsMode
protected
BufferedReader
br
public
void
setProcessInputStream
OutputStream
os
public
void
setProcessErrorStream
InputStream
is
public
void
setProcessOutputStream
InputStream
is
throws
IOException
br
new
BufferedReader
new
InputStreamReader
is
public
void
start
throws
IOException
parseOutput
br
public
void
stop
protected
JikesOutputParser
Task
task
boolean
emacsMode
super
System
err
println
System
err
println
System
err
println
this
task
task
this
emacsMode
emacsMode
protected
void
parseOutput
BufferedReader
reader
throws
IOException
if
emacsMode
parseEmacsOutput
reader
else
parseStandardOutput
reader
private
void
parseStandardOutput
BufferedReader
reader
throws
IOException
String
line
String
lower
while
line
reader
readLine
lower
line
toLowerCase
if
line
trim
equals
continue
if
lower
indexOf
setError
else
if
lower
indexOf
setError
else
if
emacsMode
setError
log
line
private
void
parseEmacsOutput
BufferedReader
reader
throws
IOException
parseStandardOutput
reader
private
void
setError
boolean
err
error
err
if
error
errorFlag
private
void
log
String
line
if
emacsMode
task
log
error
Project
MSG_ERR
Project
MSG_WARN
task
log
line
error
Project
MSG_ERR
Project
MSG_WARN
protected
boolean
getErrorFlag
return
errorFlag
