package
org
apache
tools
ant
taskdefs
import
java
io
File
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Task
public
abstract
class
Unpack
extends
Task
protected
File
source
protected
File
dest
public
void
setSrc
String
src
log
setSrc
getProject
resolveFile
src
public
void
setDest
String
dest
log
setDest
getProject
resolveFile
dest
public
void
setSrc
File
src
source
src
public
void
setDest
File
dest
this
dest
dest
private
void
validate
throws
BuildException
if
source
throw
new
BuildException
getLocation
if
source
exists
throw
new
BuildException
getLocation
if
source
isDirectory
throw
new
BuildException
getLocation
if
dest
dest
new
File
source
getParent
if
dest
isDirectory
String
defaultExtension
getDefaultExtension
createDestFile
defaultExtension
private
void
createDestFile
String
defaultExtension
String
sourceName
source
getName
int
len
sourceName
length
if
defaultExtension
len
defaultExtension
length
defaultExtension
equalsIgnoreCase
sourceName
substring
len
defaultExtension
length
dest
new
File
dest
sourceName
substring
len
defaultExtension
length
else
dest
new
File
dest
sourceName
public
void
execute
throws
BuildException
File
savedDest
dest
try
validate
extract
finally
dest
savedDest
protected
abstract
String
getDefaultExtension
protected
abstract
void
extract
