package
org
apache
tools
ant
types
selectors
import
java
io
File
import
org
apache
tools
ant
Project
import
org
apache
tools
ant
types
Mapper
import
org
apache
tools
ant
util
IdentityMapper
import
org
apache
tools
ant
util
FileNameMapper
import
org
apache
tools
ant
types
EnumeratedAttribute
import
org
apache
tools
ant
BuildException
public
class
PresentSelector
extends
BaseSelector
private
File
targetdir
private
Mapper
mapperElement
private
FileNameMapper
map
private
boolean
destmustexist
public
PresentSelector
public
String
toString
StringBuffer
buf
new
StringBuffer
if
targetdir
buf
append
else
buf
append
targetdir
getName
buf
append
if
destmustexist
buf
append
else
buf
append
if
map
buf
append
map
toString
else
if
mapperElement
buf
append
mapperElement
toString
buf
append
return
buf
toString
public
void
setTargetdir
File
targetdir
this
targetdir
targetdir
public
Mapper
createMapper
throws
BuildException
if
mapperElement
throw
new
BuildException
mapperElement
new
Mapper
project
return
mapperElement
public
void
setPresent
FilePresence
fp
if
fp
getIndex
destmustexist
public
void
verifySettings
if
targetdir
setError
if
mapperElement
map
new
IdentityMapper
else
map
mapperElement
getImplementation
if
map
setError
public
boolean
isSelected
File
basedir
String
filename
File
file
validate
String
destfiles
map
mapFileName
filename
if
destfiles
return
if
destfiles
length
destfiles
throw
new
BuildException
targetdir
filename
String
destname
destfiles
File
destfile
new
File
targetdir
destname
return
destfile
exists
destmustexist
public
static
class
FilePresence
extends
EnumeratedAttribute
public
String
getValues
return
new
String
