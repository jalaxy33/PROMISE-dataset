package
org
apache
tools
ant
types
selectors
import
java
io
File
import
java
util
Vector
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
AntClassLoader
import
org
apache
tools
ant
types
DataType
import
org
apache
tools
ant
types
Path
import
org
apache
tools
ant
types
Parameter
import
org
apache
tools
ant
types
Reference
public
class
ExtendSelector
extends
BaseSelector
private
String
classname
private
FileSelector
dynselector
private
Vector
paramVec
new
Vector
private
Path
classpath
public
ExtendSelector
public
void
setClassname
String
classname
this
classname
classname
public
void
selectorCreate
if
classname
classname
length
try
Class
c
if
classpath
c
Class
forName
classname
else
AntClassLoader
al
new
AntClassLoader
getProject
classpath
c
al
loadClass
classname
AntClassLoader
initializeClass
c
dynselector
FileSelector
c
newInstance
catch
ClassNotFoundException
cnfexcept
setError
classname
catch
InstantiationException
iexcept
setError
classname
catch
IllegalAccessException
iaexcept
setError
classname
else
setError
public
void
addParam
Parameter
p
paramVec
addElement
p
public
final
void
setClasspath
Path
classpath
if
isReference
throw
tooManyAttributes
if
this
classpath
this
classpath
classpath
else
this
classpath
append
classpath
public
final
Path
createClasspath
if
isReference
throw
noChildrenAllowed
if
this
classpath
this
classpath
new
Path
getProject
return
this
classpath
createPath
public
final
Path
getClasspath
return
classpath
public
void
setClasspathref
Reference
r
if
isReference
throw
tooManyAttributes
createClasspath
setRefid
r
public
void
verifySettings
if
dynselector
selectorCreate
if
classname
classname
length
setError
else
if
dynselector
setError
else
if
dynselector
instanceof
ExtendFileSelector
paramVec
size
setError
public
boolean
isSelected
File
basedir
String
filename
File
file
throws
BuildException
validate
if
paramVec
size
dynselector
instanceof
ExtendFileSelector
Parameter
paramArray
new
Parameter
paramVec
size
paramVec
copyInto
paramArray
ExtendFileSelector
dynselector
setParameters
paramArray
return
dynselector
isSelected
basedir
filename
file
