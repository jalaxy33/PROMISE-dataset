package
org
apache
tools
ant
filters
import
java
io
IOException
import
java
io
Reader
import
java
util
Hashtable
import
org
apache
tools
ant
types
Parameter
public
final
class
ReplaceTokens
extends
BaseParamFilterReader
implements
ChainableReader
private
static
final
char
DEFAULT_BEGIN_TOKEN
private
static
final
char
DEFAULT_END_TOKEN
private
String
queuedData
private
Hashtable
hash
new
Hashtable
private
char
beginToken
DEFAULT_BEGIN_TOKEN
private
char
endToken
DEFAULT_END_TOKEN
public
ReplaceTokens
super
public
ReplaceTokens
final
Reader
in
super
in
public
final
int
read
throws
IOException
if
getInitialized
initialize
setInitialized
if
queuedData
queuedData
length
final
int
ch
queuedData
charAt
if
queuedData
length
queuedData
queuedData
substring
else
queuedData
return
ch
int
ch
in
read
if
ch
beginToken
final
StringBuffer
key
new
StringBuffer
do
ch
in
read
if
ch
key
append
char
ch
else
break
while
ch
endToken
if
ch
queuedData
beginToken
key
toString
return
read
else
key
setLength
key
length
final
String
replaceWith
String
hash
get
key
toString
if
replaceWith
queuedData
replaceWith
return
read
else
queuedData
beginToken
key
toString
endToken
return
read
return
ch
public
final
void
setBeginToken
final
char
beginToken
this
beginToken
beginToken
private
final
char
getBeginToken
return
beginToken
public
final
void
setEndToken
final
char
endToken
this
endToken
endToken
private
final
char
getEndToken
return
endToken
public
final
void
addConfiguredToken
final
Token
token
hash
put
token
getKey
token
getValue
private
void
setTokens
final
Hashtable
hash
this
hash
hash
private
final
Hashtable
getTokens
return
hash
public
final
Reader
chain
final
Reader
rdr
ReplaceTokens
newFilter
new
ReplaceTokens
rdr
newFilter
setBeginToken
getBeginToken
newFilter
setEndToken
getEndToken
newFilter
setTokens
getTokens
newFilter
setInitialized
return
newFilter
private
final
void
initialize
Parameter
params
getParameters
if
params
for
int
i
i
params
length
i
if
params
i
final
String
type
params
i
getType
if
equals
type
final
String
name
params
i
getName
if
equals
name
beginToken
params
i
getValue
charAt
else
if
equals
name
endToken
params
i
getValue
charAt
else
if
equals
type
final
String
name
params
i
getName
final
String
value
params
i
getValue
hash
put
name
value
public
static
class
Token
private
String
key
private
String
value
public
final
void
setKey
String
key
this
key
key
public
final
void
setValue
String
value
this
value
value
public
final
String
getKey
return
key
public
final
String
getValue
return
value
