package
org
apache
tools
ant
taskdefs
import
org
apache
tools
ant
import
org
apache
tools
ant
types
public
class
Taskdef
extends
Task
private
String
name
private
String
value
private
Path
classpath
public
void
setClasspath
Path
classpath
if
this
classpath
this
classpath
classpath
else
this
classpath
append
classpath
public
Path
createClasspath
if
this
classpath
this
classpath
new
Path
project
return
this
classpath
createPath
public
void
setClasspathRef
Reference
r
createClasspath
setRefid
r
public
void
execute
throws
BuildException
if
name
value
String
msg
throw
new
BuildException
msg
try
ClassLoader
loader
if
classpath
AntClassLoader
al
new
AntClassLoader
project
classpath
al
addSystemPackageRoot
loader
al
else
loader
this
getClass
getClassLoader
Class
taskClass
if
loader
taskClass
loader
loadClass
value
else
taskClass
Class
forName
value
project
addTaskDefinition
name
taskClass
catch
ClassNotFoundException
cnfe
String
msg
value
throw
new
BuildException
msg
cnfe
location
catch
NoClassDefFoundError
ncdfe
String
msg
value
throw
new
BuildException
msg
ncdfe
location
public
void
setName
String
name
this
name
name
public
String
getClassname
return
value
public
void
setClassname
String
v
value
v
