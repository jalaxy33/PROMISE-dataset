package
org
apache
tools
ant
taskdefs
import
java
io
File
import
org
apache
tools
ant
import
org
apache
tools
ant
types
Commandline
public
class
SignJar
extends
Task
protected
String
jar
protected
String
alias
protected
String
keystore
protected
String
storepass
protected
String
storetype
protected
String
keypass
protected
String
sigfile
protected
String
signedjar
protected
boolean
verbose
protected
boolean
internalsf
protected
boolean
sectionsonly
public
void
setJar
final
String
jar
this
jar
jar
public
void
setAlias
final
String
alias
this
alias
alias
public
void
setKeystore
final
String
keystore
this
keystore
keystore
public
void
setStorepass
final
String
storepass
this
storepass
storepass
public
void
setStoretype
final
String
storetype
this
storetype
storetype
public
void
setKeypass
final
String
keypass
this
keypass
keypass
public
void
setSigfile
final
String
sigfile
this
sigfile
sigfile
public
void
setSignedjar
final
String
signedjar
this
signedjar
signedjar
public
void
setVerbose
final
boolean
verbose
this
verbose
verbose
public
void
setInternalsf
final
boolean
internalsf
this
internalsf
internalsf
public
void
setSectionsonly
final
boolean
sectionsonly
this
sectionsonly
sectionsonly
public
void
execute
throws
BuildException
if
project
getJavaVersion
equals
Project
JAVA_1_1
throw
new
BuildException
if
jar
throw
new
BuildException
if
alias
throw
new
BuildException
if
storepass
throw
new
BuildException
if
isUpToDate
return
final
StringBuffer
sb
new
StringBuffer
final
ExecTask
cmd
ExecTask
project
createTask
cmd
setExecutable
if
keystore
cmd
createArg
setValue
cmd
createArg
setValue
keystore
if
storepass
cmd
createArg
setValue
cmd
createArg
setValue
storepass
if
storetype
cmd
createArg
setValue
cmd
createArg
setValue
storetype
if
keypass
cmd
createArg
setValue
cmd
createArg
setValue
keypass
if
sigfile
cmd
createArg
setValue
cmd
createArg
setValue
sigfile
if
signedjar
cmd
createArg
setValue
cmd
createArg
setValue
signedjar
if
verbose
cmd
createArg
setValue
if
internalsf
cmd
createArg
setValue
if
sectionsonly
cmd
createArg
setValue
cmd
createArg
setValue
jar
cmd
createArg
setValue
alias
log
new
File
jar
getAbsolutePath
cmd
setFailonerror
cmd
setTaskName
getTaskName
cmd
execute
protected
boolean
isUpToDate
if
jar
signedjar
final
File
jarFile
new
File
jar
final
File
signedjarFile
new
File
signedjar
if
jarFile
exists
return
if
signedjarFile
exists
return
if
jarFile
equals
signedjarFile
return
if
signedjarFile
lastModified
jarFile
lastModified
return
return
