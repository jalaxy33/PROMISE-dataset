package
org
apache
tools
ant
taskdefs
import
org
apache
tools
ant
import
java
io
import
java
util
public
class
Ant
extends
Task
private
File
dir
private
String
antFile
private
String
target
private
String
output
Vector
properties
new
Vector
Project
p1
public
void
init
p1
new
Project
p1
setJavaVersionProperty
p1
addTaskDefinition
Class
project
getTaskDefinitions
get
private
void
reinit
init
for
int
i
i
properties
size
i
Property
p
Property
properties
elementAt
i
Property
newP
Property
p1
createTask
newP
setName
p
getName
if
p
getValue
newP
setValue
p
getValue
if
p
getFile
newP
setFile
p
getFile
if
p
getResource
newP
setResource
p
getResource
properties
setElementAt
newP
i
private
void
initializeProject
Vector
listeners
project
getBuildListeners
for
int
i
i
listeners
size
i
p1
addBuildListener
BuildListener
listeners
elementAt
i
if
output
try
PrintStream
out
new
PrintStream
new
FileOutputStream
output
DefaultLogger
logger
new
DefaultLogger
logger
setMessageOutputLevel
Project
MSG_INFO
logger
setOutputPrintStream
out
logger
setErrorPrintStream
out
p1
addBuildListener
logger
catch
IOException
ex
log
output
Hashtable
taskdefs
project
getTaskDefinitions
Enumeration
et
taskdefs
keys
while
et
hasMoreElements
String
taskName
String
et
nextElement
Class
taskClass
Class
taskdefs
get
taskName
p1
addTaskDefinition
taskName
taskClass
Hashtable
typedefs
project
getDataTypeDefinitions
Enumeration
e
typedefs
keys
while
e
hasMoreElements
String
typeName
String
e
nextElement
Class
typeClass
Class
typedefs
get
typeName
p1
addDataTypeDefinition
typeName
typeClass
Hashtable
prop1
project
getProperties
e
prop1
keys
while
e
hasMoreElements
String
arg
String
e
nextElement
String
value
String
prop1
get
arg
p1
setProperty
arg
value
public
void
execute
throws
BuildException
try
if
p1
reinit
if
dir
dir
project
getBaseDir
initializeProject
p1
setBaseDir
dir
p1
setUserProperty
dir
getAbsolutePath
Enumeration
e
properties
elements
while
e
hasMoreElements
Property
p
Property
e
nextElement
p
execute
if
antFile
antFile
File
file
new
File
antFile
if
file
isAbsolute
antFile
new
File
dir
antFile
getAbsolutePath
file
new
File
antFile
if
file
isFile
throw
new
BuildException
file
p1
setUserProperty
antFile
ProjectHelper
configureProject
p1
new
File
antFile
if
target
target
p1
getDefaultTarget
if
p1
getBaseDir
equals
project
getBaseDir
p1
getProperty
equals
project
getProperty
target
equals
this
getOwningTarget
getName
throw
new
BuildException
p1
executeTarget
target
finally
p1
public
void
setDir
File
d
this
dir
d
public
void
setAntfile
String
s
this
antFile
s
public
void
setTarget
String
s
this
target
s
public
void
setOutput
String
s
this
output
s
public
Property
createProperty
if
p1
reinit
Property
p
Property
p1
createTask
p
setUserProperty
properties
addElement
p
return
p
