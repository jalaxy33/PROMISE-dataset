package
fr
jayasoft
ivy
ant
import
java
io
File
import
java
net
MalformedURLException
import
java
text
ParseException
import
org
apache
tools
ant
BuildException
import
org
apache
tools
ant
Project
import
fr
jayasoft
ivy
Ivy
import
fr
jayasoft
ivy
ModuleDescriptor
import
fr
jayasoft
ivy
ModuleRevisionId
import
fr
jayasoft
ivy
filter
FilterHelper
import
fr
jayasoft
ivy
report
ResolveReport
import
fr
jayasoft
ivy
util
Message
public
class
IvyResolve
extends
IvyTask
private
File
_file
private
String
_conf
private
File
_cache
private
String
_organisation
private
String
_module
private
String
_revision
private
String
_pubdate
private
boolean
_inline
private
boolean
_haltOnFailure
private
boolean
_useCacheOnly
private
String
_type
private
boolean
_transitive
private
boolean
_changing
private
Boolean
_keep
private
String
_failureProperty
private
boolean
_useOrigin
public
boolean
isUseOrigin
return
_useOrigin
public
void
setUseOrigin
boolean
useOrigin
_useOrigin
useOrigin
public
String
getDate
return
_pubdate
public
void
setDate
String
pubdate
_pubdate
pubdate
public
String
getRevision
return
_revision
public
void
setRevision
String
revision
_revision
revision
public
File
getCache
return
_cache
public
void
setCache
File
cache
_cache
cache
public
String
getConf
return
_conf
public
void
setConf
String
conf
_conf
conf
public
File
getFile
return
_file
public
void
setFile
File
file
_file
file
public
boolean
isHaltonfailure
return
_haltOnFailure
public
void
setHaltonfailure
boolean
haltOnFailure
_haltOnFailure
haltOnFailure
public
void
setShowprogress
boolean
show
Message
setShowProgress
show
public
boolean
isUseCacheOnly
return
_useCacheOnly
public
void
setUseCacheOnly
boolean
useCacheOnly
_useCacheOnly
useCacheOnly
public
String
getType
return
_type
public
void
setType
String
type
_type
type
public
void
setFailurePropery
String
failureProperty
log
Project
MSG_WARN
setFailureProperty
failureProperty
public
void
setFailureProperty
String
failureProperty
_failureProperty
failureProperty
public
String
getFailureProperty
return
_failureProperty
public
void
execute
throws
BuildException
Ivy
ivy
getIvyInstance
try
_conf
getProperty
_conf
ivy
_type
getProperty
_type
ivy
if
_cache
_cache
ivy
getDefaultCache
String
confs
splitConfs
_conf
ResolveReport
report
if
isInline
if
_organisation
throw
new
BuildException
if
_module
throw
new
BuildException
if
_file
throw
new
BuildException
if
_revision
_revision
report
ivy
resolve
ModuleRevisionId
newInstance
_organisation
_module
_revision
confs
_transitive
_changing
_cache
getPubDate
_pubdate
doValidate
ivy
_useCacheOnly
_useOrigin
FilterHelper
getArtifactTypeFilter
_type
else
if
_organisation
throw
new
BuildException
if
_module
throw
new
BuildException
if
_file
_file
new
File
getProject
getBaseDir
getProperty
ivy
_revision
getProperty
_revision
ivy
report
ivy
resolve
_file
toURL
_revision
confs
_cache
getPubDate
_pubdate
doValidate
ivy
_useCacheOnly
_transitive
_useOrigin
FilterHelper
getArtifactTypeFilter
_type
if
report
hasError
if
_failureProperty
getProject
setProperty
_failureProperty
if
isHaltonfailure
throw
new
BuildException
setResolved
report
isKeep
if
isKeep
ModuleDescriptor
md
report
getModuleDescriptor
getProject
setProperty
md
getModuleRevisionId
getOrganisation
ivy
setVariable
md
getModuleRevisionId
getOrganisation
getProject
setProperty
md
getModuleRevisionId
getName
ivy
setVariable
md
getModuleRevisionId
getName
getProject
setProperty
md
getResolvedModuleRevisionId
getRevision
ivy
setVariable
md
getResolvedModuleRevisionId
getRevision
boolean
hasChanged
report
hasChanged
getProject
setProperty
String
valueOf
hasChanged
ivy
setVariable
String
valueOf
hasChanged
if
_conf
trim
equals
getProject
setProperty
mergeConfs
md
getConfigurationsNames
ivy
setVariable
mergeConfs
md
getConfigurationsNames
else
getProject
setProperty
_conf
ivy
setVariable
_conf
catch
MalformedURLException
e
throw
new
BuildException
_file
e
e
catch
ParseException
e
log
e
getMessage
Project
MSG_ERR
throw
new
BuildException
e
e
catch
Exception
e
throw
new
BuildException
e
e
public
String
getModule
return
_module
public
void
setModule
String
module
_module
module
public
String
getOrganisation
return
_organisation
public
void
setOrganisation
String
organisation
_organisation
organisation
public
boolean
isTransitive
return
_transitive
public
void
setTransitive
boolean
transitive
_transitive
transitive
public
boolean
isChanging
return
_changing
public
void
setChanging
boolean
changing
_changing
changing
public
boolean
isKeep
return
_keep
_organisation
_keep
booleanValue
public
void
setKeep
boolean
keep
_keep
Boolean
valueOf
keep
public
boolean
isInline
return
_inline
public
void
setInline
boolean
inline
_inline
inline
