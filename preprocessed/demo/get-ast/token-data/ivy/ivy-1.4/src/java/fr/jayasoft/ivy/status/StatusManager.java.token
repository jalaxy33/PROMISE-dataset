package
fr
jayasoft
ivy
status
import
java
util
ArrayList
import
java
util
Arrays
import
java
util
HashMap
import
java
util
Iterator
import
java
util
List
import
java
util
ListIterator
import
java
util
Map
import
fr
jayasoft
ivy
Ivy
import
fr
jayasoft
ivy
util
Message
public
class
StatusManager
public
static
StatusManager
newDefaultInstance
return
new
StatusManager
new
Status
new
Status
new
Status
new
Status
public
static
StatusManager
getCurrent
return
Ivy
getCurrent
getStatusManager
private
List
_status
new
ArrayList
private
String
_defaultStatus
private
Map
_statusPriorityMap
private
Map
_statusIntegrationMap
private
String
_deliveryStatusListString
public
StatusManager
Status
status
String
defaultStatus
_status
addAll
Arrays
asList
status
_defaultStatus
defaultStatus
computeMaps
public
StatusManager
public
void
addStatus
Status
status
_status
add
status
public
void
setDefaultStatus
String
defaultStatus
_defaultStatus
defaultStatus
public
List
getStatuses
return
_status
private
void
computeMaps
if
_status
isEmpty
throw
new
IllegalStateException
_statusPriorityMap
new
HashMap
for
ListIterator
iter
_status
listIterator
iter
hasNext
Status
status
Status
iter
next
_statusPriorityMap
put
status
getName
new
Integer
iter
previousIndex
_statusIntegrationMap
new
HashMap
for
Iterator
iter
_status
iterator
iter
hasNext
Status
status
Status
iter
next
_statusIntegrationMap
put
status
getName
Boolean
valueOf
status
isIntegration
public
boolean
isStatus
String
status
if
_statusPriorityMap
computeMaps
return
_statusPriorityMap
containsKey
status
public
int
getPriority
String
status
if
_statusPriorityMap
computeMaps
Integer
priority
Integer
_statusPriorityMap
get
status
if
priority
Message
debug
status
return
Integer
MAX_VALUE
return
priority
intValue
public
boolean
isIntegration
String
status
if
_statusIntegrationMap
computeMaps
Boolean
isIntegration
Boolean
_statusIntegrationMap
get
status
if
isIntegration
Message
debug
status
return
return
isIntegration
booleanValue
public
String
getDeliveryStatusListString
if
_deliveryStatusListString
StringBuffer
ret
new
StringBuffer
for
Iterator
iter
_status
iterator
iter
hasNext
Status
status
Status
iter
next
if
status
isIntegration
ret
append
status
getName
append
if
ret
length
ret
deleteCharAt
ret
length
_deliveryStatusListString
ret
toString
return
_deliveryStatusListString
public
String
getDefaultStatus
if
_defaultStatus
if
_status
isEmpty
throw
new
IllegalStateException
_defaultStatus
Status
_status
get
_status
size
getName
return
_defaultStatus
