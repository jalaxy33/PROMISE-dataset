package
org
apache
ivy
core
cache
import
java
io
File
import
java
io
IOException
import
java
text
ParseException
import
java
util
Iterator
import
java
util
LinkedHashMap
import
org
apache
ivy
core
module
descriptor
ModuleDescriptor
import
org
apache
ivy
plugins
parser
ParserSettings
import
org
apache
ivy
util
Message
class
ModuleDescriptorMemoryCache
private
final
int
maxSize
private
final
LinkedHashMap
valueMap
public
ModuleDescriptorMemoryCache
int
size
this
maxSize
size
this
valueMap
new
LinkedHashMap
size
public
ModuleDescriptor
get
File
ivyFile
ParserSettings
ivySettings
boolean
validated
ModuleDescriptorProvider
mdProvider
throws
ParseException
IOException
ModuleDescriptor
descriptor
getFromCache
ivyFile
ivySettings
validated
if
descriptor
descriptor
getStale
ivyFile
ivySettings
validated
mdProvider
return
descriptor
public
ModuleDescriptor
getStale
File
ivyFile
ParserSettings
ivySettings
boolean
validated
ModuleDescriptorProvider
mdProvider
throws
ParseException
IOException
ParserSettingsMonitor
settingsMonitor
new
ParserSettingsMonitor
ivySettings
ModuleDescriptor
descriptor
mdProvider
provideModule
settingsMonitor
getMonitoredSettings
ivyFile
validated
putInCache
ivyFile
settingsMonitor
validated
descriptor
return
descriptor
ModuleDescriptor
getFromCache
File
ivyFile
ParserSettings
ivySettings
boolean
validated
if
maxSize
return
CacheEntry
entry
CacheEntry
valueMap
get
ivyFile
if
entry
if
entry
isStale
validated
ivySettings
Message
debug
ivyFile
valueMap
remove
ivyFile
return
else
valueMap
remove
ivyFile
valueMap
put
ivyFile
entry
Message
debug
ivyFile
return
entry
md
else
Message
debug
ivyFile
return
void
putInCache
File
url
ParserSettingsMonitor
ivySettingsMonitor
boolean
validated
ModuleDescriptor
descriptor
if
maxSize
return
if
valueMap
size
maxSize
Message
debug
Iterator
it
valueMap
values
iterator
it
next
it
remove
valueMap
put
url
new
CacheEntry
descriptor
validated
ivySettingsMonitor
private
static
class
CacheEntry
private
final
ModuleDescriptor
md
private
final
boolean
validated
private
final
ParserSettingsMonitor
parserSettingsMonitor
CacheEntry
ModuleDescriptor
md
boolean
validated
ParserSettingsMonitor
parserSettingsMonitor
this
md
md
this
validated
validated
this
parserSettingsMonitor
parserSettingsMonitor
boolean
isStale
boolean
validated
ParserSettings
newParserSettings
return
validated
this
validated
parserSettingsMonitor
hasChanged
newParserSettings
