package
org
apache
xml
serializer
import
java
util
Hashtable
import
java
util
Properties
import
javax
xml
transform
OutputKeys
import
org
apache
xml
res
XMLErrorResources
import
org
apache
xml
res
XMLMessages
import
org
xml
sax
ContentHandler
public
abstract
class
SerializerFactory
private
static
Hashtable
m_formats
new
Hashtable
public
static
Serializer
getSerializer
Properties
format
Serializer
ser
try
Class
cls
String
method
format
getProperty
OutputKeys
METHOD
if
method
throw
new
IllegalArgumentException
String
className
className
format
getProperty
OutputPropertiesFactory
S_KEY_CONTENT_HANDLER
if
className
throw
new
IllegalArgumentException
OutputPropertiesFactory
S_KEY_CONTENT_HANDLER
cls
Class
forName
className
Object
obj
cls
newInstance
if
obj
instanceof
SerializationHandler
ser
Serializer
cls
newInstance
ser
setOutputFormat
format
else
if
obj
instanceof
ContentHandler
className
SerializerConstants
DEFAULT_SAX_SERIALIZER
cls
Class
forName
className
SerializationHandler
sh
SerializationHandler
cls
newInstance
sh
setContentHandler
ContentHandler
obj
sh
setOutputFormat
format
ser
sh
else
throw
new
Exception
XMLMessages
createXMLMessage
XMLErrorResources
ER_SERIALIZER_NOT_CONTENTHANDLER
new
Object
className
catch
Exception
e
throw
new
org
apache
xml
utils
WrappedRuntimeException
e
return
ser
