package
org
apache
xalan
xsltc
trax
import
java
io
File
import
java
io
IOException
import
javax
xml
parsers
ParserConfigurationException
import
javax
xml
parsers
SAXParser
import
javax
xml
parsers
SAXParserFactory
import
javax
xml
transform
Source
import
org
apache
xalan
xsltc
DOM
import
org
apache
xalan
xsltc
compiler
util
ErrorMsg
import
org
apache
xalan
xsltc
dom
DOMBuilder
import
org
apache
xalan
xsltc
dom
SAXImpl
import
org
apache
xalan
xsltc
dom
XSLTCDTMManager
import
org
apache
xml
dtm
DTM
import
org
apache
xml
dtm
DTMManager
import
org
xml
sax
InputSource
import
org
xml
sax
SAXException
import
org
xml
sax
XMLReader
public
final
class
XSLTCSource
implements
Source
private
String
_systemId
private
DOM
_dom
private
final
static
String
LEXICAL_HANDLER_PROPERTY
public
XSLTCSource
int
size
XSLTCDTMManager
dtmManager
XSLTCDTMManager
newInstance
int
dtmPos
dtmManager
getFirstFreeDTMID
int
documentID
dtmPos
DTMManager
IDENT_DTM_NODE_BITS
_dom
DOM
new
SAXImpl
dtmManager
this
documentID
size
dtmManager
addDTM
DTM
_dom
dtmPos
public
XSLTCSource
XSLTCDTMManager
dtmManager
XSLTCDTMManager
newInstance
int
dtmPos
dtmManager
getFirstFreeDTMID
int
documentID
dtmPos
DTMManager
IDENT_DTM_NODE_BITS
_dom
DOM
new
SAXImpl
dtmManager
this
documentID
dtmManager
addDTM
DTM
_dom
dtmPos
public
void
setSystemId
String
systemId
if
new
File
systemId
exists
_systemId
systemId
else
_systemId
systemId
SAXImpl
_dom
setDocumentURI
_systemId
public
String
getSystemId
return
_systemId
public
void
build
XMLReader
reader
String
systemId
throws
SAXException
try
if
systemId
_systemId
ErrorMsg
err
new
ErrorMsg
ErrorMsg
XSLTC_SOURCE_ERR
throw
new
SAXException
err
toString
if
systemId
systemId
_systemId
setSystemId
systemId
InputSource
input
new
InputSource
systemId
DOMBuilder
builder
builder
SAXImpl
_dom
getBuilder
reader
setContentHandler
builder
reader
setDTDHandler
builder
try
reader
setProperty
LEXICAL_HANDLER_PROPERTY
builder
catch
SAXException
e
reader
parse
input
catch
IOException
e
throw
new
SAXException
e
public
void
build
String
systemId
throws
SAXException
try
final
SAXParserFactory
factory
SAXParserFactory
newInstance
final
SAXParser
parser
factory
newSAXParser
final
XMLReader
reader
parser
getXMLReader
build
reader
systemId
catch
ParserConfigurationException
e
throw
new
SAXException
e
public
void
build
XMLReader
reader
throws
SAXException
build
reader
_systemId
public
void
build
throws
SAXException
build
_systemId
protected
DOM
getDOM
return
_dom
