package
org
apache
xalan
templates
import
javax
xml
transform
TransformerException
import
org
apache
xalan
extensions
ExtensionNamespaceSupport
import
org
apache
xalan
transformer
TransformerImpl
import
org
apache
xpath
VariableStack
import
org
apache
xpath
XPathContext
import
org
apache
xpath
objects
XObject
import
org
w3c
dom
Node
import
org
w3c
dom
NodeList
public
class
ElemExsltFunction
extends
ElemTemplate
private
boolean
m_isResultSet
private
XObject
m_result
private
int
m_callerFrameSize
public
int
getXSLToken
return
Constants
EXSLT_ELEMNAME_FUNCTION
public
String
getNodeName
return
Constants
EXSLT_ELEMNAME_FUNCTION_STRING
public
void
execute
TransformerImpl
transformer
XObject
args
throws
TransformerException
m_isResultSet
m_result
XPathContext
xctxt
transformer
getXPathContext
VariableStack
vars
xctxt
getVarStack
int
oldStackFrame
vars
getStackFrame
vars
setStackFrame
m_callerFrameSize
oldStackFrame
NodeList
children
this
getChildNodes
int
numparams
for
int
i
i
args
length
i
Node
child
children
item
i
if
children
item
i
instanceof
ElemParam
numparams
ElemParam
param
ElemParam
children
item
i
vars
setLocalVariable
param
getIndex
args
i
if
numparams
args
length
throw
new
TransformerException
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEvent
this
transformer
executeChildTemplates
this
vars
setStackFrame
oldStackFrame
m_callerFrameSize
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEndEvent
this
public
void
compose
StylesheetRoot
sroot
throws
TransformerException
super
compose
sroot
String
namespace
getName
getNamespace
String
handlerClass
Object
args
namespace
sroot
ExtensionNamespaceSupport
extNsSpt
new
ExtensionNamespaceSupport
namespace
handlerClass
args
sroot
getExtensionNamespacesManager
registerExtension
extNsSpt
if
namespace
equals
Constants
S_EXSLT_FUNCTIONS_URL
namespace
Constants
S_EXSLT_FUNCTIONS_URL
args
new
Object
namespace
sroot
extNsSpt
new
ExtensionNamespaceSupport
namespace
handlerClass
args
sroot
getExtensionNamespacesManager
registerExtension
extNsSpt
public
XObject
getResult
return
m_result
public
void
setResult
XObject
result
m_isResultSet
m_result
result
public
boolean
isResultSet
return
m_isResultSet
public
void
clearResult
m_isResultSet
m_result
public
void
setCallerFrameSize
int
callerFrameSize
m_callerFrameSize
callerFrameSize
