package
org
apache
xml
res
import
java
util
ListResourceBundle
import
java
util
Locale
import
java
util
MissingResourceException
import
java
util
ResourceBundle
public
class
XMLMessages
protected
Locale
fLocale
Locale
getDefault
private
static
ListResourceBundle
XMLBundle
private
static
final
String
XML_ERROR_RESOURCES
protected
static
String
BAD_CODE
protected
static
String
FORMAT_FAILED
public
void
setLocale
Locale
locale
fLocale
locale
public
Locale
getLocale
return
fLocale
public
static
final
String
createXMLMessage
String
msgKey
Object
args
if
XMLBundle
XMLBundle
loadResourceBundle
XML_ERROR_RESOURCES
if
XMLBundle
return
createMsg
XMLBundle
msgKey
args
else
return
public
static
final
String
createMsg
ListResourceBundle
fResourceBundle
String
msgKey
Object
args
String
fmsg
boolean
throwex
String
msg
if
msgKey
msg
fResourceBundle
getString
msgKey
if
msg
msg
fResourceBundle
getString
BAD_CODE
throwex
if
args
try
int
n
args
length
for
int
i
i
n
i
if
args
i
args
i
fmsg
java
text
MessageFormat
format
msg
args
catch
Exception
e
fmsg
fResourceBundle
getString
FORMAT_FAILED
fmsg
msg
else
fmsg
msg
if
throwex
throw
new
RuntimeException
fmsg
return
fmsg
public
static
ListResourceBundle
loadResourceBundle
String
className
throws
MissingResourceException
Locale
locale
Locale
getDefault
try
return
ListResourceBundle
ResourceBundle
getBundle
className
locale
catch
MissingResourceException
e
try
return
ListResourceBundle
ResourceBundle
getBundle
className
new
Locale
catch
MissingResourceException
e2
throw
new
MissingResourceException
className
className
protected
static
String
getResourceSuffix
Locale
locale
String
suffix
locale
getLanguage
String
country
locale
getCountry
if
country
equals
suffix
country
return
suffix
