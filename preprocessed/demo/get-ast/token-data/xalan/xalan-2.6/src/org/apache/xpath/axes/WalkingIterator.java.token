package
org
apache
xpath
axes
import
org
apache
xml
dtm
DTM
import
org
apache
xml
utils
PrefixResolver
import
org
apache
xpath
Expression
import
org
apache
xpath
ExpressionOwner
import
org
apache
xpath
VariableStack
import
org
apache
xpath
XPathVisitor
import
org
apache
xpath
compiler
Compiler
public
class
WalkingIterator
extends
LocPathIterator
implements
ExpressionOwner
WalkingIterator
Compiler
compiler
int
opPos
int
analysis
boolean
shouldLoadWalkers
throws
javax
xml
transform
TransformerException
super
compiler
opPos
analysis
shouldLoadWalkers
int
firstStepPos
compiler
getFirstChildPos
opPos
if
shouldLoadWalkers
m_firstWalker
WalkerFactory
loadWalkers
this
compiler
firstStepPos
m_lastUsedWalker
m_firstWalker
public
WalkingIterator
PrefixResolver
nscontext
super
nscontext
public
int
getAnalysisBits
int
bits
if
m_firstWalker
AxesWalker
walker
m_firstWalker
while
walker
int
bit
walker
getAnalysisBits
bits
bit
walker
walker
getNextWalker
return
bits
public
Object
clone
throws
CloneNotSupportedException
WalkingIterator
clone
WalkingIterator
super
clone
if
m_firstWalker
clone
m_firstWalker
m_firstWalker
cloneDeep
clone
return
clone
public
void
reset
super
reset
if
m_firstWalker
m_lastUsedWalker
m_firstWalker
m_firstWalker
setRoot
m_context
public
void
setRoot
int
context
Object
environment
super
setRoot
context
environment
if
m_firstWalker
m_firstWalker
setRoot
context
m_lastUsedWalker
m_firstWalker
public
int
nextNode
if
m_foundLast
return
DTM
NULL
if
m_stackFrame
return
returnNextNode
m_firstWalker
nextNode
else
VariableStack
vars
m_execContext
getVarStack
int
savedStart
vars
getStackFrame
vars
setStackFrame
m_stackFrame
int
n
returnNextNode
m_firstWalker
nextNode
vars
setStackFrame
savedStart
return
n
public
final
AxesWalker
getFirstWalker
return
m_firstWalker
public
final
void
setFirstWalker
AxesWalker
walker
m_firstWalker
walker
public
final
void
setLastUsedWalker
AxesWalker
walker
m_lastUsedWalker
walker
public
final
AxesWalker
getLastUsedWalker
return
m_lastUsedWalker
public
void
detach
if
m_allowDetach
AxesWalker
walker
m_firstWalker
while
walker
walker
detach
walker
walker
getNextWalker
m_lastUsedWalker
super
detach
public
void
fixupVariables
java
util
Vector
vars
int
globalsSize
m_predicateIndex
AxesWalker
walker
m_firstWalker
while
walker
walker
fixupVariables
vars
globalsSize
walker
walker
getNextWalker
public
void
callVisitors
ExpressionOwner
owner
XPathVisitor
visitor
if
visitor
visitLocationPath
owner
this
if
m_firstWalker
m_firstWalker
callVisitors
this
visitor
protected
AxesWalker
m_lastUsedWalker
protected
AxesWalker
m_firstWalker
public
Expression
getExpression
return
m_firstWalker
public
void
setExpression
Expression
exp
exp
exprSetParent
this
m_firstWalker
AxesWalker
exp
public
boolean
deepEquals
Expression
expr
if
super
deepEquals
expr
return
AxesWalker
walker1
m_firstWalker
AxesWalker
walker2
WalkingIterator
expr
m_firstWalker
while
walker1
walker2
if
walker1
deepEquals
walker2
return
walker1
walker1
getNextWalker
walker2
walker2
getNextWalker
if
walker1
walker2
return
return
