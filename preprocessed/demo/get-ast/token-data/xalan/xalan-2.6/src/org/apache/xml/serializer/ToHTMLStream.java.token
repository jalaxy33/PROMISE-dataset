package
org
apache
xml
serializer
import
java
io
IOException
import
java
io
OutputStream
import
java
io
UnsupportedEncodingException
import
java
util
Properties
import
javax
xml
transform
Result
import
org
apache
xml
res
XMLErrorResources
import
org
apache
xml
res
XMLMessages
import
org
apache
xml
utils
BoolStack
import
org
apache
xml
utils
Trie
import
org
xml
sax
Attributes
import
org
xml
sax
SAXException
public
class
ToHTMLStream
extends
ToStream
protected
boolean
m_inDTD
private
boolean
m_inBlockElem
protected
static
final
CharInfo
m_htmlcharInfo
CharInfo
getCharInfo
CharInfo
HTML_ENTITIES_RESOURCE
Method
HTML
static
final
Trie
m_elementFlags
new
Trie
static
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
WHITESPACESENSITIVE
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
PHRASE
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEADMISC
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
ElemDesc
EMPTY
ElemDesc
WHITESPACESENSITIVE
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
ElemDesc
HEADMISC
ElemDesc
WHITESPACESENSITIVE
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
ElemDesc
EMPTY
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEAD
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
PREFORMATTED
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
LIST
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
LIST
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
FORMCTRL
m_elementFlags
put
new
ElemDesc
ElemDesc
FORMCTRL
ElemDesc
INLINELABEL
ElemDesc
EMPTY
m_elementFlags
put
new
ElemDesc
ElemDesc
FORMCTRL
ElemDesc
INLINELABEL
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
ElemDesc
FORMCTRL
ElemDesc
INLINELABEL
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
ElemDesc
FORMCTRL
ElemDesc
INLINELABEL
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
HEADELEM
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEADMISC
ElemDesc
EMPTY
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
HEADMISC
ElemDesc
RAW
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
SPECIAL
ElemDesc
ASPECIAL
ElemDesc
HEADMISC
ElemDesc
RAW
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
FONTSTYLE
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
m_elementFlags
put
new
ElemDesc
ElemDesc
BLOCK
ElemDesc
BLOCKFORM
ElemDesc
BLOCKFORMFIELDSET
ElemDesc
elemDesc
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTREMPTY
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
elemDesc
ElemDesc
m_elementFlags
get
elemDesc
setAttr
ElemDesc
ATTRURL
static
private
final
ElemDesc
m_dummy
new
ElemDesc
ElemDesc
BLOCK
private
boolean
m_specialEscapeURLs
private
boolean
m_omitMetaTag
public
void
setSpecialEscapeURLs
boolean
bool
m_specialEscapeURLs
bool
public
void
setOmitMetaTag
boolean
bool
m_omitMetaTag
bool
public
void
setOutputFormat
Properties
format
m_specialEscapeURLs
OutputPropertyUtils
getBooleanProperty
OutputPropertiesFactory
S_USE_URL_ESCAPING
format
m_omitMetaTag
OutputPropertyUtils
getBooleanProperty
OutputPropertiesFactory
S_OMIT_META_TAG
format
super
setOutputFormat
format
private
final
boolean
getSpecialEscapeURLs
return
m_specialEscapeURLs
private
final
boolean
getOmitMetaTag
return
m_omitMetaTag
public
static
final
ElemDesc
getElemDesc
String
name
Object
obj
m_elementFlags
get
name
if
obj
return
ElemDesc
obj
return
m_dummy
public
ToHTMLStream
super
m_charInfo
m_htmlcharInfo
m_prefixMap
new
NamespaceMappings
protected
void
startDocumentInternal
throws
org
xml
sax
SAXException
super
startDocumentInternal
m_needToCallStartDocument
m_needToOutputDocTypeDecl
m_startNewLine
setOmitXMLDeclaration
if
m_needToOutputDocTypeDecl
String
doctypeSystem
getDoctypeSystem
String
doctypePublic
getDoctypePublic
if
doctypeSystem
doctypePublic
final
java
io
Writer
writer
m_writer
try
writer
write
if
doctypePublic
writer
write
writer
write
doctypePublic
writer
write
if
doctypeSystem
if
doctypePublic
writer
write
else
writer
write
writer
write
doctypeSystem
writer
write
writer
write
outputLineSep
catch
IOException
e
throw
new
SAXException
e
m_needToOutputDocTypeDecl
public
final
void
endDocument
throws
org
xml
sax
SAXException
flushPending
if
m_doIndent
m_isprevtext
try
outputLineSep
catch
IOException
e
throw
new
SAXException
e
flushWriter
if
m_tracer
super
fireEndDoc
public
void
startElement
String
namespaceURI
String
localName
String
name
Attributes
atts
throws
org
xml
sax
SAXException
ElemContext
elemContext
m_elemContext
if
elemContext
m_startTagOpen
closeStartTag
elemContext
m_startTagOpen
else
if
m_cdataTagOpen
closeCDATA
m_cdataTagOpen
else
if
m_needToCallStartDocument
startDocumentInternal
m_needToCallStartDocument
if
namespaceURI
namespaceURI
length
super
startElement
namespaceURI
localName
name
atts
return
try
ElemDesc
elemDesc
getElemDesc
name
int
elemFlags
elemDesc
getFlags
if
m_doIndent
boolean
isBlockElement
elemFlags
ElemDesc
BLOCK
if
m_ispreserve
m_ispreserve
else
if
elemContext
m_elementName
m_inBlockElem
isBlockElement
m_startNewLine
indent
m_inBlockElem
isBlockElement
if
atts
addAttributes
atts
m_isprevtext
final
java
io
Writer
writer
m_writer
writer
write
writer
write
name
if
m_tracer
firePseudoAttributes
if
elemFlags
ElemDesc
EMPTY
m_elemContext
elemContext
push
m_elemContext
m_elementName
name
m_elemContext
m_elementDesc
elemDesc
return
else
elemContext
elemContext
push
namespaceURI
localName
name
m_elemContext
elemContext
elemContext
m_elementDesc
elemDesc
elemContext
m_isRaw
elemFlags
ElemDesc
RAW
if
elemFlags
ElemDesc
HEADELEM
closeStartTag
elemContext
m_startTagOpen
if
m_omitMetaTag
if
m_doIndent
indent
writer
write
String
encoding
getEncoding
String
encode
Encodings
getMimeEncoding
encoding
writer
write
encode
writer
write
catch
IOException
e
throw
new
SAXException
e
public
final
void
endElement
final
String
namespaceURI
final
String
localName
final
String
name
throws
org
xml
sax
SAXException
if
m_cdataTagOpen
closeCDATA
if
namespaceURI
namespaceURI
length
super
endElement
namespaceURI
localName
name
return
try
ElemContext
elemContext
m_elemContext
final
ElemDesc
elemDesc
elemContext
m_elementDesc
final
int
elemFlags
elemDesc
getFlags
final
boolean
elemEmpty
elemFlags
ElemDesc
EMPTY
if
m_doIndent
final
boolean
isBlockElement
elemFlags
ElemDesc
BLOCK
boolean
shouldIndent
if
m_ispreserve
m_ispreserve
else
if
m_doIndent
m_inBlockElem
isBlockElement
m_startNewLine
shouldIndent
if
elemContext
m_startTagOpen
shouldIndent
indent
elemContext
m_currentElemDepth
m_inBlockElem
isBlockElement
final
java
io
Writer
writer
m_writer
if
elemContext
m_startTagOpen
writer
write
writer
write
name
writer
write
else
if
m_tracer
super
fireStartElem
name
int
nAttrs
m_attributes
getLength
if
nAttrs
processAttributes
m_writer
nAttrs
m_attributes
clear
if
elemEmpty
writer
write
writer
write
name
writer
write
else
writer
write
if
elemFlags
ElemDesc
WHITESPACESENSITIVE
m_ispreserve
m_isprevtext
if
m_tracer
super
fireEndElem
name
if
elemEmpty
m_elemContext
elemContext
m_prev
return
if
elemContext
m_startTagOpen
if
m_doIndent
m_preserves
isEmpty
m_preserves
pop
m_elemContext
elemContext
m_prev
catch
IOException
e
throw
new
SAXException
e
protected
void
processAttribute
java
io
Writer
writer
String
name
String
value
ElemDesc
elemDesc
throws
IOException
writer
write
if
value
length
value
equalsIgnoreCase
name
elemDesc
elemDesc
isAttrFlagSet
name
ElemDesc
ATTREMPTY
writer
write
name
else
writer
write
name
writer
write
if
elemDesc
elemDesc
isAttrFlagSet
name
ElemDesc
ATTRURL
writeAttrURI
writer
value
m_specialEscapeURLs
else
writeAttrString
writer
value
this
getEncoding
writer
write
private
boolean
isASCIIDigit
char
c
return
c
c
private
static
String
makeHHString
int
i
String
s
Integer
toHexString
i
toUpperCase
if
s
length
s
s
return
s
private
boolean
isHHSign
String
str
boolean
sign
try
char
r
char
Integer
parseInt
str
catch
NumberFormatException
e
sign
return
sign
public
void
writeAttrURI
final
java
io
Writer
writer
String
string
boolean
doURLEscaping
throws
IOException
final
int
end
string
length
if
end
m_attrBuff
length
m_attrBuff
new
char
end
string
getChars
end
m_attrBuff
final
char
chars
m_attrBuff
int
cleanStart
int
cleanLength
char
ch
for
int
i
i
end
i
ch
chars
i
if
ch
ch
if
cleanLength
writer
write
chars
cleanStart
cleanLength
cleanLength
if
doURLEscaping
if
ch
writer
write
writer
write
makeHHString
ch
else
if
ch
int
high
ch
int
low
ch
writer
write
writer
write
makeHHString
high
writer
write
writer
write
makeHHString
low
else
if
isUTF16Surrogate
ch
int
highSurrogate
int
ch
int
wwww
highSurrogate
int
uuuuu
wwww
int
zzzz
highSurrogate
int
yyyyyy
highSurrogate
ch
chars
i
int
lowSurrogate
int
ch
yyyyyy
yyyyyy
lowSurrogate
int
xxxxxx
lowSurrogate
int
byte1
uuuuu
int
byte2
uuuuu
zzzz
int
byte3
yyyyyy
int
byte4
xxxxxx
writer
write
writer
write
makeHHString
byte1
writer
write
writer
write
makeHHString
byte2
writer
write
writer
write
makeHHString
byte3
writer
write
writer
write
makeHHString
byte4
else
int
high
ch
int
middle
ch
int
low
ch
writer
write
writer
write
makeHHString
high
writer
write
writer
write
makeHHString
middle
writer
write
writer
write
makeHHString
low
else
if
escapingNotNeeded
ch
writer
write
ch
else
writer
write
writer
write
Integer
toString
ch
writer
write
cleanStart
i
else
if
ch
if
cleanLength
writer
write
chars
cleanStart
cleanLength
cleanLength
if
doURLEscaping
writer
write
else
writer
write
cleanStart
i
else
cleanLength
if
cleanLength
if
cleanStart
writer
write
string
else
writer
write
chars
cleanStart
cleanLength
else
if
cleanLength
writer
write
ch
public
void
writeAttrString
final
java
io
Writer
writer
String
string
String
encoding
throws
IOException
final
int
end
string
length
if
end
m_attrBuff
length
m_attrBuff
new
char
end
string
getChars
end
m_attrBuff
final
char
chars
m_attrBuff
int
cleanStart
int
cleanLength
char
ch
for
int
i
i
end
i
ch
chars
i
if
escapingNotNeeded
ch
m_charInfo
isSpecialAttrChar
ch
cleanLength
else
if
ch
ch
cleanLength
else
if
ch
i
end
chars
i
cleanLength
else
if
cleanLength
writer
write
chars
cleanStart
cleanLength
cleanLength
int
pos
accumDefaultEntity
writer
ch
i
chars
end
if
i
pos
i
pos
else
if
isUTF16Surrogate
ch
writeUTF16Surrogate
ch
chars
i
end
i
String
entityName
m_charInfo
getEntityNameForChar
ch
if
entityName
writer
write
writer
write
entityName
writer
write
else
if
escapingNotNeeded
ch
writer
write
ch
else
writer
write
writer
write
Integer
toString
ch
writer
write
cleanStart
i
if
cleanLength
if
cleanStart
writer
write
string
else
writer
write
chars
cleanStart
cleanLength
else
if
cleanLength
writer
write
ch
public
final
void
characters
char
chars
int
start
int
length
throws
org
xml
sax
SAXException
if
m_elemContext
m_isRaw
try
if
m_elemContext
m_startTagOpen
closeStartTag
m_elemContext
m_startTagOpen
m_ispreserve
writeNormalizedChars
chars
start
length
m_lineSepUse
if
m_tracer
super
fireCharEvent
chars
start
length
return
catch
IOException
ioe
throw
new
org
xml
sax
SAXException
XMLMessages
createXMLMessage
XMLErrorResources
ER_OIERROR
ioe
else
super
characters
chars
start
length
public
final
void
cdata
char
ch
int
start
int
length
throws
org
xml
sax
SAXException
if
m_elemContext
m_elementName
m_elemContext
m_elementName
equalsIgnoreCase
m_elemContext
m_elementName
equalsIgnoreCase
try
if
m_elemContext
m_startTagOpen
closeStartTag
m_elemContext
m_startTagOpen
m_ispreserve
if
shouldIndent
indent
writeNormalizedChars
ch
start
length
m_lineSepUse
catch
IOException
ioe
throw
new
org
xml
sax
SAXException
XMLMessages
createXMLMessage
XMLErrorResources
ER_OIERROR
ioe
else
super
cdata
ch
start
length
public
void
processingInstruction
String
target
String
data
throws
org
xml
sax
SAXException
flushPending
if
target
equals
Result
PI_DISABLE_OUTPUT_ESCAPING
startNonEscaping
else
if
target
equals
Result
PI_ENABLE_OUTPUT_ESCAPING
endNonEscaping
else
try
if
m_elemContext
m_startTagOpen
closeStartTag
m_elemContext
m_startTagOpen
else
if
m_needToCallStartDocument
startDocumentInternal
if
shouldIndent
indent
final
java
io
Writer
writer
m_writer
writer
write
writer
write
target
if
data
length
Character
isSpaceChar
data
charAt
writer
write
writer
write
data
writer
write
if
m_elemContext
m_currentElemDepth
outputLineSep
m_startNewLine
catch
IOException
e
throw
new
SAXException
e
if
m_tracer
super
fireEscapingEvent
target
data
public
final
void
entityReference
String
name
throws
org
xml
sax
SAXException
try
final
java
io
Writer
writer
m_writer
writer
write
writer
write
name
writer
write
catch
IOException
e
throw
new
SAXException
e
public
final
void
endElement
String
elemName
throws
SAXException
endElement
elemName
public
void
processAttributes
java
io
Writer
writer
int
nAttrs
throws
IOException
SAXException
for
int
i
i
nAttrs
i
processAttribute
writer
m_attributes
getQName
i
m_attributes
getValue
i
m_elemContext
m_elementDesc
protected
void
closeStartTag
throws
SAXException
try
if
m_tracer
super
fireStartElem
m_elemContext
m_elementName
int
nAttrs
m_attributes
getLength
if
nAttrs
processAttributes
m_writer
nAttrs
m_attributes
clear
m_writer
write
if
m_cdataSectionElements
m_elemContext
m_isCdataSection
isCdataSection
if
m_doIndent
m_isprevtext
m_preserves
push
m_ispreserve
catch
IOException
e
throw
new
SAXException
e
protected
synchronized
void
init
OutputStream
output
Properties
format
throws
UnsupportedEncodingException
if
format
format
OutputPropertiesFactory
getDefaultMethodProperties
Method
HTML
super
init
output
format
public
void
setOutputStream
OutputStream
output
try
Properties
format
if
m_format
format
OutputPropertiesFactory
getDefaultMethodProperties
Method
HTML
else
format
m_format
init
output
format
catch
UnsupportedEncodingException
uee
public
void
namespaceAfterStartElement
String
prefix
String
uri
throws
SAXException
if
m_elemContext
m_elementURI
String
prefix1
getPrefixPart
m_elemContext
m_elementName
if
prefix1
EMPTYSTRING
equals
prefix
m_elemContext
m_elementURI
uri
startPrefixMapping
prefix
uri
public
void
startDTD
String
name
String
publicId
String
systemId
throws
SAXException
m_inDTD
super
startDTD
name
publicId
systemId
public
void
endDTD
throws
org
xml
sax
SAXException
m_inDTD
public
void
attributeDecl
String
eName
String
aName
String
type
String
valueDefault
String
value
throws
SAXException
public
void
elementDecl
String
name
String
model
throws
SAXException
public
void
internalEntityDecl
String
name
String
value
throws
SAXException
public
void
externalEntityDecl
String
name
String
publicId
String
systemId
throws
SAXException
public
void
addUniqueAttribute
String
name
String
value
int
flags
throws
SAXException
try
final
java
io
Writer
writer
m_writer
if
flags
NO_BAD_CHARS
m_htmlcharInfo
onlyQuotAmpLtGt
writer
write
writer
write
name
writer
write
writer
write
value
writer
write
else
if
flags
HTML_ATTREMPTY
value
length
value
equalsIgnoreCase
name
writer
write
writer
write
name
else
writer
write
writer
write
name
writer
write
if
flags
HTML_ATTRURL
writeAttrURI
writer
value
m_specialEscapeURLs
else
writeAttrString
writer
value
this
getEncoding
writer
write
catch
IOException
e
throw
new
SAXException
e
public
void
comment
char
ch
int
start
int
length
throws
SAXException
if
m_inDTD
return
super
comment
ch
start
length
public
boolean
reset
boolean
ret
super
reset
if
ret
return
initToHTMLStream
return
private
void
initToHTMLStream
m_inBlockElem
m_inDTD
m_omitMetaTag
m_specialEscapeURLs
