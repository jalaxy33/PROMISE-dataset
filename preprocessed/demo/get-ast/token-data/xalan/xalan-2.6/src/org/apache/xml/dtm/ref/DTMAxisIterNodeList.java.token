package
org
apache
xml
dtm
ref
import
org
apache
xml
dtm
DTM
import
org
apache
xml
dtm
DTMAxisIterator
import
org
apache
xml
utils
IntVector
import
org
w3c
dom
Node
public
class
DTMAxisIterNodeList
extends
DTMNodeListBase
private
DTM
m_dtm
private
DTMAxisIterator
m_iter
private
IntVector
m_cachedNodes
private
int
m_last
private
DTMAxisIterNodeList
public
DTMAxisIterNodeList
DTM
dtm
DTMAxisIterator
dtmAxisIterator
if
dtmAxisIterator
m_last
else
m_cachedNodes
new
IntVector
m_dtm
dtm
m_iter
dtmAxisIterator
public
DTMAxisIterator
getDTMAxisIterator
return
m_iter
public
Node
item
int
index
if
m_iter
int
node
int
count
m_cachedNodes
size
if
count
index
node
m_cachedNodes
elementAt
index
return
m_dtm
getNode
node
else
if
m_last
while
node
m_iter
next
DTMAxisIterator
END
count
index
m_cachedNodes
addElement
node
count
if
node
DTMAxisIterator
END
m_last
count
else
return
m_dtm
getNode
node
return
public
int
getLength
if
m_last
int
node
while
node
m_iter
next
DTMAxisIterator
END
m_cachedNodes
addElement
node
m_last
m_cachedNodes
size
return
m_last
