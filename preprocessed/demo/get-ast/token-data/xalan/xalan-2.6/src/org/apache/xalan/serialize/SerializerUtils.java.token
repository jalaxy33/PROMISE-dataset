package
org
apache
xalan
serialize
import
javax
xml
transform
TransformerException
import
org
apache
xalan
transformer
TransformerImpl
import
org
apache
xml
dtm
DTM
import
org
apache
xml
serializer
NamespaceMappings
import
org
apache
xml
serializer
SerializationHandler
import
org
apache
xpath
XPathContext
import
org
apache
xpath
objects
XObject
import
org
xml
sax
SAXException
public
class
SerializerUtils
public
static
void
addAttribute
SerializationHandler
handler
int
attr
throws
TransformerException
TransformerImpl
transformer
TransformerImpl
handler
getTransformer
DTM
dtm
transformer
getXPathContext
getDTM
attr
if
SerializerUtils
isDefinedNSDecl
handler
attr
dtm
return
String
ns
dtm
getNamespaceURI
attr
if
ns
ns
try
handler
addAttribute
ns
dtm
getLocalName
attr
dtm
getNodeName
attr
dtm
getNodeValue
attr
catch
SAXException
e
public
static
void
addAttributes
SerializationHandler
handler
int
src
throws
TransformerException
TransformerImpl
transformer
TransformerImpl
handler
getTransformer
DTM
dtm
transformer
getXPathContext
getDTM
src
for
int
node
dtm
getFirstAttribute
src
DTM
NULL
node
node
dtm
getNextAttribute
node
addAttribute
handler
node
public
static
void
outputResultTreeFragment
SerializationHandler
handler
XObject
obj
XPathContext
support
throws
org
xml
sax
SAXException
int
doc
obj
rtf
DTM
dtm
support
getDTM
doc
if
dtm
for
int
n
dtm
getFirstChild
doc
DTM
NULL
n
n
dtm
getNextSibling
n
handler
flushPending
if
dtm
getNamespaceURI
n
handler
startPrefixMapping
dtm
dispatchToEvents
n
handler
public
static
void
processNSDecls
SerializationHandler
handler
int
src
int
type
DTM
dtm
throws
TransformerException
try
if
type
DTM
ELEMENT_NODE
for
int
namespace
dtm
getFirstNamespaceNode
src
DTM
NULL
namespace
namespace
dtm
getNextNamespaceNode
src
namespace
String
prefix
dtm
getNodeNameX
namespace
String
desturi
handler
getNamespaceURIFromPrefix
prefix
String
srcURI
dtm
getNodeValue
namespace
if
srcURI
equalsIgnoreCase
desturi
handler
startPrefixMapping
prefix
srcURI
else
if
type
DTM
NAMESPACE_NODE
String
prefix
dtm
getNodeNameX
src
String
desturi
handler
getNamespaceURIFromPrefix
prefix
String
srcURI
dtm
getNodeValue
src
if
srcURI
equalsIgnoreCase
desturi
handler
startPrefixMapping
prefix
srcURI
catch
org
xml
sax
SAXException
se
throw
new
TransformerException
se
public
static
boolean
isDefinedNSDecl
SerializationHandler
serializer
int
attr
DTM
dtm
if
DTM
NAMESPACE_NODE
dtm
getNodeType
attr
String
prefix
dtm
getNodeNameX
attr
String
uri
serializer
getNamespaceURIFromPrefix
prefix
if
uri
uri
equals
dtm
getStringValue
attr
return
return
public
static
void
ensureNamespaceDeclDeclared
SerializationHandler
handler
DTM
dtm
int
namespace
throws
org
xml
sax
SAXException
String
uri
dtm
getNodeValue
namespace
String
prefix
dtm
getNodeNameX
namespace
if
uri
uri
length
prefix
String
foundURI
NamespaceMappings
ns
handler
getNamespaceMappings
if
ns
foundURI
ns
lookupNamespace
prefix
if
foundURI
foundURI
equals
uri
handler
startPrefixMapping
prefix
uri
