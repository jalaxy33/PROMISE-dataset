package
org
apache
xalan
xsltc
trax
import
javax
xml
transform
Source
import
javax
xml
transform
stream
StreamSource
import
org
apache
xalan
xsltc
DOM
import
org
apache
xalan
xsltc
StripFilter
import
org
apache
xalan
xsltc
compiler
util
ErrorMsg
import
org
apache
xalan
xsltc
dom
DOMWSFilter
import
org
apache
xalan
xsltc
dom
SAXImpl
import
org
apache
xalan
xsltc
dom
XSLTCDTMManager
import
org
apache
xalan
xsltc
runtime
AbstractTranslet
import
org
xml
sax
SAXException
public
final
class
XSLTCSource
implements
Source
private
String
_systemId
private
Source
_source
private
ThreadLocal
_dom
new
ThreadLocal
public
XSLTCSource
String
systemId
_systemId
systemId
public
XSLTCSource
Source
source
_source
source
public
void
setSystemId
String
systemId
_systemId
systemId
if
_source
_source
setSystemId
systemId
public
String
getSystemId
if
_source
return
_source
getSystemId
else
return
_systemId
protected
DOM
getDOM
XSLTCDTMManager
dtmManager
AbstractTranslet
translet
throws
SAXException
SAXImpl
idom
SAXImpl
_dom
get
if
idom
if
dtmManager
idom
migrateTo
dtmManager
else
Source
source
_source
if
source
if
_systemId
_systemId
length
source
new
StreamSource
_systemId
else
ErrorMsg
err
new
ErrorMsg
ErrorMsg
XSLTC_SOURCE_ERR
throw
new
SAXException
err
toString
DOMWSFilter
wsfilter
if
translet
translet
instanceof
StripFilter
wsfilter
new
DOMWSFilter
translet
boolean
hasIdCall
translet
translet
hasIdCall
if
dtmManager
dtmManager
XSLTCDTMManager
newInstance
idom
SAXImpl
dtmManager
getDTM
source
wsfilter
hasIdCall
String
systemId
getSystemId
if
systemId
idom
setDocumentURI
systemId
_dom
set
idom
return
idom
