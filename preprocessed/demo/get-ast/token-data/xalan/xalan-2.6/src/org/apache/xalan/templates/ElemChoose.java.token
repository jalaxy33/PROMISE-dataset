package
org
apache
xalan
templates
import
javax
xml
transform
TransformerException
import
org
apache
xalan
res
XSLTErrorResources
import
org
apache
xalan
transformer
TransformerImpl
import
org
apache
xpath
XPathContext
import
org
apache
xpath
objects
XObject
public
class
ElemChoose
extends
ElemTemplateElement
public
int
getXSLToken
return
Constants
ELEMNAME_CHOOSE
public
String
getNodeName
return
Constants
ELEMNAME_CHOOSE_STRING
public
ElemChoose
public
void
execute
TransformerImpl
transformer
throws
TransformerException
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEvent
this
boolean
found
for
ElemTemplateElement
childElem
getFirstChildElem
childElem
childElem
childElem
getNextSiblingElem
int
type
childElem
getXSLToken
if
Constants
ELEMNAME_WHEN
type
found
ElemWhen
when
ElemWhen
childElem
XPathContext
xctxt
transformer
getXPathContext
int
sourceNode
xctxt
getCurrentNode
if
TransformerImpl
S_DEBUG
XObject
test
when
getTest
execute
xctxt
sourceNode
when
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireSelectedEvent
sourceNode
when
when
getTest
test
if
test
bool
transformer
getTraceManager
fireTraceEvent
when
transformer
executeChildTemplates
when
transformer
getTraceManager
fireTraceEndEvent
when
return
else
if
when
getTest
bool
xctxt
sourceNode
when
transformer
executeChildTemplates
when
return
else
if
Constants
ELEMNAME_OTHERWISE
type
found
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEvent
childElem
transformer
executeChildTemplates
childElem
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEndEvent
childElem
return
if
found
transformer
getMsgMgr
error
this
XSLTErrorResources
ER_CHOOSE_REQUIRES_WHEN
if
TransformerImpl
S_DEBUG
transformer
getTraceManager
fireTraceEndEvent
this
public
ElemTemplateElement
appendChild
ElemTemplateElement
newChild
int
type
ElemTemplateElement
newChild
getXSLToken
switch
type
case
Constants
ELEMNAME_WHEN
case
Constants
ELEMNAME_OTHERWISE
break
default
error
XSLTErrorResources
ER_CANNOT_ADD
new
Object
newChild
getNodeName
this
getNodeName
return
super
appendChild
newChild
public
boolean
canAcceptVariables
return
