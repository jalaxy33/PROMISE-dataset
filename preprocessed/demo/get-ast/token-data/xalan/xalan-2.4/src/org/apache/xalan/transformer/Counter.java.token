package
org
apache
xalan
transformer
import
org
apache
xml
dtm
DTM
import
org
apache
xml
utils
NodeVector
import
org
apache
xpath
NodeSetDTM
import
org
apache
xpath
XPathContext
import
javax
xml
transform
TransformerException
import
org
apache
xpath
NodeSetDTM
import
org
apache
xpath
XPath
import
org
apache
xalan
templates
ElemNumber
public
class
Counter
static
final
int
MAXCOUNTNODES
int
m_countNodesStartCount
NodeSetDTM
m_countNodes
int
m_fromNode
DTM
NULL
ElemNumber
m_numberElem
int
m_countResult
Counter
ElemNumber
numberElem
NodeSetDTM
countNodes
throws
TransformerException
m_countNodes
countNodes
m_numberElem
numberElem
int
getPreviouslyCounted
XPathContext
support
int
node
int
n
m_countNodes
size
m_countResult
for
int
i
n
i
i
int
countedNode
m_countNodes
elementAt
i
if
node
countedNode
m_countResult
i
m_countNodesStartCount
break
DTM
dtm
support
getDTM
countedNode
if
dtm
isNodeAfter
countedNode
node
break
return
m_countResult
int
getLast
int
size
m_countNodes
size
return
size
m_countNodes
elementAt
size
DTM
NULL
