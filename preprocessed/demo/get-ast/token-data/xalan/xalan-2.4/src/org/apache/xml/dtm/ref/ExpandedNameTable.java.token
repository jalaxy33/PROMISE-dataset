package
org
apache
xml
dtm
ref
import
org
apache
xml
dtm
DTM
import
java
util
Vector
import
java
util
Hashtable
public
class
ExpandedNameTable
private
DTMStringPool
m_locNamesPool
private
DTMStringPool
m_namespaceNames
private
Vector
m_extendedTypes
private
int
m_nextType
public
static
final
int
ELEMENT
int
DTM
ELEMENT_NODE
public
static
final
int
ATTRIBUTE
int
DTM
ATTRIBUTE_NODE
public
static
final
int
TEXT
int
DTM
TEXT_NODE
public
static
final
int
CDATA_SECTION
int
DTM
CDATA_SECTION_NODE
public
static
final
int
ENTITY_REFERENCE
int
DTM
ENTITY_REFERENCE_NODE
public
static
final
int
ENTITY
int
DTM
ENTITY_NODE
public
static
final
int
PROCESSING_INSTRUCTION
int
DTM
PROCESSING_INSTRUCTION_NODE
public
static
final
int
COMMENT
int
DTM
COMMENT_NODE
public
static
final
int
DOCUMENT
int
DTM
DOCUMENT_NODE
public
static
final
int
DOCUMENT_TYPE
int
DTM
DOCUMENT_TYPE_NODE
public
static
final
int
DOCUMENT_FRAGMENT
int
DTM
DOCUMENT_FRAGMENT_NODE
public
static
final
int
NOTATION
int
DTM
NOTATION_NODE
public
static
final
int
NAMESPACE
int
DTM
NAMESPACE_NODE
Hashtable
m_hashtable
new
Hashtable
ExtendedType
hashET
new
ExtendedType
public
ExpandedNameTable
m_locNamesPool
new
DTMSafeStringPool
m_namespaceNames
new
DTMSafeStringPool
initExtendedTypes
public
ExpandedNameTable
DTMStringPool
locNamesPool
DTMStringPool
namespaceNames
m_locNamesPool
locNamesPool
m_namespaceNames
namespaceNames
initExtendedTypes
private
void
initExtendedTypes
m_extendedTypes
new
Vector
int
i
for
i
i
DTM
NTYPES
i
ExtendedType
newET
new
ExtendedType
i
m_extendedTypes
addElement
newET
m_hashtable
put
newET
new
Integer
i
m_nextType
m_extendedTypes
size
public
int
getExpandedTypeID
String
namespace
String
localName
int
type
if
namespace
namespace
if
localName
localName
hashET
redefine
type
namespace
localName
Object
eType
if
eType
m_hashtable
get
hashET
return
Integer
eType
intValue
ExtendedType
newET
new
ExtendedType
type
namespace
localName
m_extendedTypes
addElement
newET
m_hashtable
put
newET
new
Integer
m_nextType
return
m_nextType
public
int
getExpandedTypeID
int
type
return
type
public
String
getLocalName
int
ExpandedNameID
ExtendedType
etype
ExtendedType
m_extendedTypes
elementAt
ExpandedNameID
return
etype
localName
public
final
int
getLocalNameID
int
ExpandedNameID
ExtendedType
etype
ExtendedType
m_extendedTypes
elementAt
ExpandedNameID
if
etype
localName
equals
return
else
return
ExpandedNameID
public
String
getNamespace
int
ExpandedNameID
ExtendedType
etype
ExtendedType
m_extendedTypes
elementAt
ExpandedNameID
return
etype
namespace
equals
etype
namespace
public
final
int
getNamespaceID
int
ExpandedNameID
ExtendedType
etype
ExtendedType
m_extendedTypes
elementAt
ExpandedNameID
if
etype
namespace
equals
return
else
return
ExpandedNameID
public
final
short
getType
int
ExpandedNameID
ExtendedType
etype
ExtendedType
m_extendedTypes
elementAt
ExpandedNameID
return
short
etype
nodetype
private
class
ExtendedType
protected
int
nodetype
protected
String
namespace
protected
String
localName
protected
int
hash
protected
ExtendedType
int
nodetype
String
namespace
String
localName
this
nodetype
nodetype
this
namespace
namespace
this
localName
localName
this
hash
nodetype
namespace
hashCode
localName
hashCode
protected
void
redefine
int
nodetype
String
namespace
String
localName
this
nodetype
nodetype
this
namespace
namespace
this
localName
localName
this
hash
nodetype
namespace
hashCode
localName
hashCode
public
int
hashCode
return
hash
public
boolean
equals
Object
other
try
ExtendedType
et
ExtendedType
other
return
et
nodetype
this
nodetype
et
localName
equals
this
localName
et
namespace
equals
this
namespace
catch
ClassCastException
e
return
catch
NullPointerException
e
return
