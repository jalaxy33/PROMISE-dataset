package
org
apache
xalan
transformer
import
java
util
Vector
import
org
apache
xml
dtm
DTM
import
org
apache
xalan
templates
ElemTemplateElement
import
org
apache
xml
utils
QName
import
org
apache
xml
utils
PrefixResolver
import
org
apache
xml
utils
XMLString
import
org
apache
xpath
XPathContext
import
org
apache
xpath
axes
LocPathIterator
import
org
apache
xpath
objects
XNodeSet
public
class
KeyManager
private
transient
Vector
m_key_tables
public
XNodeSet
getNodeSetDTMByKey
XPathContext
xctxt
int
doc
QName
name
XMLString
ref
PrefixResolver
nscontext
throws
javax
xml
transform
TransformerException
XNodeSet
nl
ElemTemplateElement
template
ElemTemplateElement
nscontext
if
template
template
getStylesheetRoot
getKeysComposed
boolean
foundDoc
if
m_key_tables
m_key_tables
new
Vector
else
int
nKeyTables
m_key_tables
size
for
int
i
i
nKeyTables
i
KeyTable
kt
KeyTable
m_key_tables
elementAt
i
if
kt
getKeyTableName
equals
name
doc
kt
getDocKey
nl
kt
getNodeSetDTMByKey
name
ref
if
nl
foundDoc
break
if
nl
foundDoc
KeyTable
kt
new
KeyTable
doc
nscontext
name
template
getStylesheetRoot
getKeysComposed
xctxt
m_key_tables
addElement
kt
if
doc
kt
getDocKey
foundDoc
nl
kt
getNodeSetDTMByKey
name
ref
return
nl
