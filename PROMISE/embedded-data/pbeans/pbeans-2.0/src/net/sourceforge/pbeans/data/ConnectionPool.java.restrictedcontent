ConnectionPool
Logger
logger
getLogger
getName
ConnectionPool
LinkedList
availableConnections
LinkedList
Collection
connections
HashSet
Object
monitor
DataSource
dataSource
int
maxConnections
int
timeout
ConnectionPool
ds
DataSource
maxConnections
int
timeout
int
dataSource
ds
maxConnections
maxConnections
timeout
timeout
setMaxConnections
maxConnections
int
maxConnections
maxConnections
setConnectionTimeout
timeout
int
timeout
timeout
getConnectionWrapper
ConnectionWrapper
for
forControl
block
try
ConnectionWrapper
cw
synchronized
monitor
cw
ConnectionWrapper
removeFirst
if
isClosed
hasTimedOut
block
try
destroy
catchClause
se
continue
touch
return
cw
catchClause
nse
if
isLoggable
INFO
block
info
ensureConnectionsExist
ensureConnectionsExist
for
forControl
block
synchronized
monitor
if
connections
size
maxConnections
block
Connection
c
dataSource
getConnection
ConnectionWrapper
cw
ConnectionWrapper
c
connections
add
cw
availableConnections
add
cw
break
block
ConnectionWrapper
cws
ConnectionWrapper
connections
toArray
ConnectionWrapper
boolean
closedSomething
for
forControl
int
i
i
length
i
block
if
cws
i
isClosed
block
connections
remove
cws
i
closedSomething
break
if
cws
i
hasTimedOut
block
try
cws
i
destroy
catchClause
se
closedSomething
break
if
closedSomething
block
throw
SQLException
ConnectionWrapper
Connection
connection
long
lastTouched
ConnectionWrapper
c
Connection
connection
c
touch
touch
lastTouched
currentTimeMillis
hasTimedOut
boolean
return
currentTimeMillis
lastTouched
timeout
release
synchronized
monitor
add
isClosed
boolean
return
isClosed
destroy
try
connection
close
synchronized
monitor
remove
prepareStatement
PreparedStatement
sql
String
touch
return
connection
prepareStatement
sql
prepareStatement
PreparedStatement
sql
String
resultSetType
int
resultSetConcurrency
int
touch
return
connection
prepareStatement
sql
resultSetType
resultSetConcurrency
getConnection
Connection
return
connection
