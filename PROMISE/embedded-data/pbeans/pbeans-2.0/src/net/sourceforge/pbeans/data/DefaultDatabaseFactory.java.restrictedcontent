DefaultDatabaseFactory
int
maxConnections
int
timeout
ClassLoader
classLoader
DefaultDatabaseFactory
classLoader
ClassLoader
classLoader
classLoader
setMaxConnections
maxConnections
int
maxConnections
maxConnections
setConnectionTimeout
timeout
int
timeout
timeout
getDatabase
Database
dataSource
DataSource
Connection
c
getConnection
try
DatabaseMetaData
dmd
getMetaData
String
url
getURL
toLowerCase
String
prefix
if
startsWith
prefix
block
throw
java
lang
IllegalArgumentException
url
int
colonIdx
indexOf
length
if
colonIdx
block
throw
java
lang
IllegalArgumentException
url
String
dbName
substring
length
colonIdx
String
expectedClassName
dbName
Database
db
try
Class
clazz
classLoader
forName
expectedClassName
classLoader
loadClass
expectedClassName
if
isAssignableFrom
clazz
Database
block
throw
java
lang
IllegalArgumentException
getName
db
Database
newInstance
catchClause
cnf
throw
java
sql
SQLException
expectedClassName
dbName
catchClause
err
throw
java
sql
SQLException
expectedClassName
getMessage
init
dataSource
if
db
AbstractDatabase
block
AbstractDatabase
adb
AbstractDatabase
db
setMaxConnections
maxConnections
setConnectionTimeout
timeout
return
db
close
DatabaseFactory
