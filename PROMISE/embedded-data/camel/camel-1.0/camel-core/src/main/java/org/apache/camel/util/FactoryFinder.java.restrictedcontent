FactoryFinder
String
path
ConcurrentHashMap
classMap
ConcurrentHashMap
FactoryFinder
FactoryFinder
path
String
path
path
newInstance
Object
key
String
return
newInstance
key
String
newInstance
Object
key
String
propertyPrefix
String
Class
clazz
findClass
key
propertyPrefix
return
newInstance
newInstance
Object
key
String
injector
Injector
return
newInstance
key
injector
newInstance
Object
key
String
injector
Injector
propertyPrefix
String
Class
type
findClass
key
propertyPrefix
return
newInstance
type
findClass
Class
key
String
return
findClass
key
findClass
Class
key
String
propertyPrefix
String
if
propertyPrefix
block
propertyPrefix
Class
clazz
Class
get
propertyPrefix
key
if
clazz
block
clazz
newInstance
doFindFactoryProperies
key
propertyPrefix
put
propertyPrefix
key
clazz
return
clazz
newInstance
Class
properties
Properties
propertyPrefix
String
String
className
getProperty
propertyPrefix
if
className
block
throw
IOException
propertyPrefix
Class
clazz
ClassLoader
loader
currentThread
getContextClassLoader
if
loader
block
try
clazz
loadClass
className
catchClause
e
if
clazz
block
clazz
getClassLoader
loadClass
className
FactoryFinder
return
clazz
doFindFactoryProperies
Properties
key
String
String
uri
path
key
ClassLoader
classLoader
currentThread
getContextClassLoader
if
classLoader
block
classLoader
getClass
getClassLoader
InputStream
in
getResourceAsStream
uri
if
in
block
in
getClassLoader
getResourceAsStream
uri
FactoryFinder
if
in
block
throw
NoFactoryAvailableException
uri
BufferedInputStream
reader
try
reader
BufferedInputStream
in
Properties
properties
Properties
load
reader
return
properties
try
close
catchClause
e
