DeadLetterChannel
String
REDELIVERY_COUNTER
String
REDELIVERED
Log
log
getLog
DeadLetterChannel
Processor
output
Processor
deadLetter
RedeliveryPolicy
redeliveryPolicy
Logger
logger
createDefaultLogger
Exchange
Logger
return
Logger
log
ERROR
DeadLetterChannel
output
Processor
deadLetter
Processor
output
deadLetter
RedeliveryPolicy
createDefaultLogger
DeadLetterChannel
output
Processor
deadLetter
Processor
redeliveryPolicy
RedeliveryPolicy
logger
Logger
deadLetter
deadLetter
output
output
redeliveryPolicy
redeliveryPolicy
logger
logger
toString
String
return
output
deadLetter
redeliveryPolicy
process
exchange
Exchange
int
redeliveryCounter
long
redeliveryDelay
do
shouldRedeliver
redeliveryCounter
block
if
redeliveryCounter
block
redeliveryDelay
getRedeliveryDelay
redeliveryDelay
sleep
redeliveryDelay
try
process
exchange
return
catchClause
e
log
redeliveryCounter
e
e
redeliveryCounter
incrementRedeliveryCounter
exchange
process
exchange
getOutput
Processor
return
output
getDeadLetter
Processor
return
deadLetter
getRedeliveryPolicy
RedeliveryPolicy
return
redeliveryPolicy
setRedeliveryPolicy
redeliveryPolicy
RedeliveryPolicy
redeliveryPolicy
redeliveryPolicy
getLogger
Logger
return
logger
setLogger
logger
Logger
logger
logger
incrementRedeliveryCounter
int
exchange
Exchange
Message
in
getIn
Integer
counter
getHeader
REDELIVERY_COUNTER
Integer
int
next
if
counter
block
next
counter
setHeader
REDELIVERY_COUNTER
next
setHeader
REDELIVERED
return
next
sleep
redeliveryDelay
long
if
redeliveryDelay
block
if
isDebugEnabled
block
debug
redeliveryDelay
try
sleep
redeliveryDelay
catchClause
e
if
isDebugEnabled
block
debug
e
e
doStart
startServices
output
deadLetter
doStop
stopServices
deadLetter
output
ServiceSupport
ErrorHandler
