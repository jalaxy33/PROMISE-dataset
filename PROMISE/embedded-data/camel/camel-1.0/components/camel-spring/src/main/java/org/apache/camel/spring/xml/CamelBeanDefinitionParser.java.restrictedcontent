CamelBeanDefinitionParser
CamelNamespaceHandler
namespaceHandler
int
counter
CamelBeanDefinitionParser
namespaceHandler
CamelNamespaceHandler
namespaceHandler
namespaceHandler
parseInternal
AbstractBeanDefinition
element
Element
parserContext
ParserContext
BeanDefinitionBuilder
factory
rootBeanDefinition
RouteBuilderFactoryBean
List
childElements
getChildElementsByTagName
element
ArrayList
BuilderStatement
routes
ArrayList
BuilderStatement
size
if
childElements
size
block
for
forControl
int
i
i
size
i
block
Element
routeElement
Element
get
i
ArrayList
BuilderAction
actions
ArrayList
BuilderAction
Class
type
parseBuilderElement
parserContext
routeElement
RouteBuilder
actions
BuilderStatement
statement
BuilderStatement
setReturnType
type
setActions
actions
add
statement
addPropertyValue
routes
return
getBeanDefinition
parseBuilderElement
Class
parserContext
ParserContext
element
Element
builder
Class
RouteBuilder
actions
ArrayList
BuilderAction
Class
currentBuilder
builder
NodeList
childElements
getChildNodes
Element
previousElement
for
forControl
int
i
i
getLength
i
block
Node
node
item
i
if
getNodeType
ELEMENT_NODE
block
currentBuilder
parseAction
parserContext
currentBuilder
actions
Element
node
previousElement
previousElement
Element
node
BuilderAction
action
get
size
if
getMethodInfo
methodAnnotation
nestedActions
block
currentBuilder
parseBuilderElement
parserContext
Element
node
currentBuilder
actions
block
if
hasChildElements
node
block
throw
IllegalArgumentException
getLocalName
if
currentBuilder
block
Method
methods
getMethods
for
forControl
int
i
i
length
i
block
Method
method
methods
i
Fluent
annotation
getAnnotation
Fluent
if
annotation
callOnElementEnd
block
if
getParameterTypes
length
block
throw
RuntimeException
method
MethodInfo
methodInfo
MethodInfo
method
annotation
LinkedHashMap
String
Class
LinkedHashMap
String
FluentArg
add
BuilderAction
methodInfo
HashMap
String
Object
currentBuilder
getReturnType
return
currentBuilder
hasChildElements
boolean
node
Node
NodeList
nl
getChildNodes
for
forControl
int
j
j
getLength
j
block
if
item
getNodeType
j
ELEMENT_NODE
block
return
return
parseAction
Class
parserContext
ParserContext
currentBuilder
Class
actions
ArrayList
BuilderAction
element
Element
previousElement
Element
String
actionName
getLocalName
ArrayList
MethodInfo
methods
findFluentMethodsWithName
currentBuilder
getLocalName
if
isEmpty
block
throw
IllegalActionException
actionName
previousElement
getLocalName
sort
methods
Comparator
MethodInfo
compare
int
m1
MethodInfo
m2
MethodInfo
return
getParameterTypes
length
getParameterTypes
length
HashMap
String
Object
attributeArguments
getArugmentsFromAttributes
element
HashMap
String
ArrayList
Element
elementArguments
getArgumentsFromElements
element
MethodInfo
match
match
findMethodMatch
methods
keySet
keySet
if
match
throw
IllegalActionException
actionName
previousElement
getLocalName
Set
Map
Entry
String
Object
attributeEntries
entrySet
for
Map
Entry
String
Object
entry
attributeEntries
block
String
name
getKey
FluentArg
arg
get
name
if
arg
reference
equals
block
Object
value
getValue
if
value
String
block
setValue
RuntimeBeanReference
toString
Set
String
parameterNames
HashSet
String
keySet
removeAll
keySet
for
String
key
parameterNames
block
ArrayList
Element
elements
get
key
if
elements
block
elements
getFirstChildElements
element
Class
clazz
get
key
Object
value
convertTo
parserContext
elements
clazz
put
key
value
for
Element
el
elements
block
getParentNode
removeChild
el
add
BuilderAction
match
attributeArguments
return
getReturnType
getFirstChildElements
ArrayList
Element
element
Element
ArrayList
Element
answer
ArrayList
Element
NodeList
list
getChildNodes
for
forControl
int
i
size
getLength
i
size
i
block
Node
node
item
i
if
node
Element
block
add
Element
node
break
return
answer
convertTo
Object
parserContext
ParserContext
elements
ArrayList
Element
clazz
Class
if
isArray
size
block
List
list
ArrayList
for
forControl
int
i
i
size
i
block
ArrayList
Element
e
ArrayList
Element
add
get
i
Object
value
convertTo
parserContext
e
getComponentType
add
value
return
list
block
Element
element
get
String
ref
getAttribute
if
hasText
ref
block
return
RuntimeBeanReference
ref
if
hasChildElements
element
block
ArrayList
BuilderAction
actions
ArrayList
BuilderAction
Class
type
parseBuilderElement
parserContext
element
RouteBuilder
actions
if
type
ValueBuilder
clazz
Expression
block
Method
method
try
method
getMethod
Class
ValueBuilder
catchClause
e
throw
RuntimeException
getName
ValueBuilder
MethodInfo
methodInfo
MethodInfo
method
LinkedHashMap
String
Class
LinkedHashMap
String
FluentArg
add
BuilderAction
methodInfo
HashMap
String
Object
type
Expression
BuilderStatement
statement
BuilderStatement
setReturnType
type
setActions
actions
if
isAssignableFrom
getReturnType
block
throw
IllegalStateException
getName
getReturnType
return
statement
block
String
name
getLocalName
if
getParserElementNames
contains
name
block
String
id
createBeanId
name
setAttribute
id
parse
element
parserContext
return
RuntimeBeanReference
id
SimpleTypeConverter
converter
SimpleTypeConverter
return
convertIfNecessary
getTextContent
clazz
createBeanId
String
name
String
return
name
counter
findMethodMatch
MethodInfo
methods
ArrayList
MethodInfo
attributeNames
Set
String
elementNames
Set
String
for
MethodInfo
method
methods
block
boolean
miss
for
String
key
attributeNames
block
FluentArg
arg
get
key
if
arg
attribute
block
miss
break
if
miss
continue
Set
String
parameterNames
HashSet
String
keySet
removeAll
attributeNames
if
isEmpty
block
return
method
return
method
return
getArgumentsFromElements
LinkedHashMap
String
ArrayList
Element
element
Element
LinkedHashMap
String
ArrayList
Element
elements
LinkedHashMap
String
ArrayList
Element
NodeList
childNodes
getChildNodes
String
lastTag
for
forControl
int
i
i
getLength
i
block
Node
node
item
i
if
getNodeType
ELEMENT_NODE
block
Element
el
Element
node
String
tag
getLocalName
ArrayList
Element
els
get
tag
if
els
block
els
ArrayList
Element
put
getLocalName
els
add
el
lastTag
tag
block
if
equals
lastTag
block
add
el
lastTag
tag
return
elements
getArugmentsFromAttributes
HashMap
String
Object
element
Element
HashMap
String
Object
attributes
HashMap
String
Object
NamedNodeMap
childNodes
getAttributes
for
forControl
int
i
i
getLength
i
block
Node
node
item
i
if
getNodeType
ATTRIBUTE_NODE
block
Attr
attr
Attr
node
String
str
getValue
Object
value
str
if
startsWith
block
str
substring
if
startsWith
block
value
RuntimeBeanReference
str
put
getName
value
return
attributes
findFluentMethodsWithName
ArrayList
MethodInfo
clazz
Class
name
String
ArrayList
MethodInfo
rc
ArrayList
MethodInfo
Method
methods
getMethods
for
forControl
int
i
i
length
i
block
Method
method
methods
i
if
isAnnotationPresent
Fluent
block
continue
Fluent
fluentAnnotation
getAnnotation
Fluent
if
hasText
value
equals
value
equals
getName
block
LinkedHashMap
String
Class
map
LinkedHashMap
String
Class
LinkedHashMap
String
FluentArg
amap
LinkedHashMap
String
FluentArg
Class
parameters
getParameterTypes
for
forControl
int
j
j
length
j
block
Class
parameter
parameters
j
FluentArg
annotation
getParameterAnnotation
FluentArg
method
j
if
annotation
block
put
value
parameter
put
value
annotation
block
break
if
length
size
block
add
MethodInfo
method
fluentAnnotation
map
amap
return
rc
getParameterAnnotation
T
annotationClass
Class
T
method
Method
index
int
Annotation
annotations
getParameterAnnotations
index
for
forControl
int
i
i
length
i
block
if
isAssignableFrom
annotations
i
getClass
block
return
T
annotations
i
return
AbstractBeanDefinitionParser
