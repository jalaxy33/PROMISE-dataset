FileProducer
Log
LOG
getLog
FileProducer
FileEndpoint
endpoint
FileProducer
endpoint
FileEndpoint
endpoint
endpoint
endpoint
getEndpoint
FileEndpoint
return
endpoint
process
exchange
Exchange
FileExchange
fileExchange
createExchange
exchange
process
fileExchange
copyResults
exchange
fileExchange
process
exchange
FileExchange
boolean
fileSource
getIn
getBody
File
File
target
createFileName
getIn
buildDirectory
target
if
isDebugEnabled
block
debug
target
exchange
if
fileSource
block
File
source
getMandatoryInBody
exchange
File
writeFileByFile
source
target
block
InputStream
in
getMandatoryInBody
exchange
InputStream
writeFileByStream
in
target
writeFileByFile
source
File
target
File
FileChannel
in
getChannel
FileInputStream
source
FileChannel
out
try
out
prepareOutputFileChannel
target
out
if
isTraceEnabled
block
trace
in
out
transferTo
size
out
close
in
getName
LOG
close
out
getName
LOG
writeFileByStream
in
InputStream
target
File
FileChannel
out
try
out
prepareOutputFileChannel
target
out
if
isTraceEnabled
block
trace
in
out
int
size
getBufferSize
byte
buffer
byte
size
ByteBuffer
byteBuffer
wrap
buffer
while
block
int
count
read
buffer
if
count
block
break
if
count
size
block
byteBuffer
wrap
buffer
count
write
byteBuffer
break
block
write
byteBuffer
clear
close
in
getName
LOG
close
out
getName
LOG
prepareOutputFileChannel
FileChannel
target
File
out
FileChannel
if
isAppend
block
out
getChannel
RandomAccessFile
target
out
position
size
block
out
getChannel
FileOutputStream
target
return
out
createFileName
File
message
Message
File
answer
String
name
if
isIgnoreFileNameHeader
block
name
getHeader
HEADER_FILE_NAME
String
Expression
expression
getExpression
if
name
block
if
indexOf
block
if
isDebugEnabled
block
debug
HEADER_FILE_NAME
name
expression
file
name
if
expression
block
if
isDebugEnabled
block
debug
expression
Object
result
evaluate
getExchange
name
getExchange
getContext
getTypeConverter
convertTo
String
result
File
endpointFile
getFile
if
isDirectory
block
if
name
block
answer
File
endpointFile
name
if
isDirectory
block
answer
File
answer
getGeneratedFileName
message
block
answer
File
endpointFile
getGeneratedFileName
message
block
if
name
block
answer
endpointFile
block
answer
File
endpointFile
name
setHeader
HEADER_FILE_NAME_PRODUCED
getAbsolutePath
return
answer
buildDirectory
file
File
String
dirName
getAbsolutePath
int
index
lastIndexOf
separatorChar
if
index
block
dirName
substring
index
File
dir
File
dirName
mkdirs
DefaultProducer
