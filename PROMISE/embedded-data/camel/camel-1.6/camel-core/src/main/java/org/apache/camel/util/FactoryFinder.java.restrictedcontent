FactoryFinder
ConcurrentHashMap
String
Class
classMap
ConcurrentHashMap
String
Class
String
path
FactoryFinder
FactoryFinder
path
String
path
path
newInstance
Object
key
String
return
newInstance
key
String
newInstance
Object
key
String
propertyPrefix
String
Class
clazz
findClass
key
propertyPrefix
return
newInstance
newInstance
Object
key
String
injector
Injector
return
newInstance
key
injector
String
newInstance
Object
key
String
injector
Injector
propertyPrefix
String
Class
type
findClass
key
propertyPrefix
return
newInstance
type
newInstance
T
key
String
injector
Injector
expectedType
Class
T
return
newInstance
key
injector
expectedType
newInstance
T
key
String
injector
Injector
propertyPrefix
String
expectedType
Class
T
Class
type
findClass
key
propertyPrefix
Object
value
newInstance
type
if
isInstance
value
block
return
cast
value
block
throw
ClassCastException
getName
value
newInstances
List
T
key
String
injector
Injector
type
Class
T
List
Class
list
findClasses
key
List
T
answer
ArrayList
T
size
add
newInstance
key
injector
type
return
answer
findClass
Class
key
String
return
findClass
key
findClass
Class
key
String
propertyPrefix
String
if
propertyPrefix
block
propertyPrefix
Class
clazz
Class
get
propertyPrefix
key
if
clazz
block
clazz
newInstance
doFindFactoryProperties
key
propertyPrefix
if
clazz
block
put
propertyPrefix
key
clazz
return
clazz
findClasses
List
Class
key
String
return
findClasses
key
findClasses
List
Class
key
String
propertyPrefix
String
Class
type
findClass
key
propertyPrefix
return
singletonList
type
getPath
String
return
path
newInstance
Class
properties
Properties
propertyPrefix
String
String
className
getProperty
propertyPrefix
if
className
block
throw
IOException
propertyPrefix
return
loadClass
className
doFindFactoryProperties
Properties
key
String
String
uri
path
key
InputStream
in
loadResourceAsStream
uri
if
in
block
throw
NoFactoryAvailableException
uri
BufferedInputStream
reader
try
reader
BufferedInputStream
in
Properties
properties
Properties
load
reader
return
properties
close
reader
key
close
in
key
