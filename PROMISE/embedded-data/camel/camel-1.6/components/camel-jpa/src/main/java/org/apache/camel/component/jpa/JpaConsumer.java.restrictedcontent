JpaConsumer
Log
LOG
getLog
JpaConsumer
JpaEndpoint
endpoint
TransactionStrategy
template
QueryFactory
queryFactory
DeleteHandler
Object
deleteHandler
String
query
String
namedQuery
String
nativeQuery
JpaConsumer
endpoint
JpaEndpoint
processor
Processor
endpoint
processor
endpoint
endpoint
template
createTransactionStrategy
poll
execute
JpaCallback
doInJpa
Object
entityManager
EntityManager
Query
query
getQueryFactory
createQuery
entityManager
configureParameters
query
List
results
getResultList
for
Object
result
results
block
if
isDebugEnabled
block
debug
result
if
lockEntity
result
entityManager
block
Exchange
exchange
createExchange
result
try
getProcessor
process
exchange
catchClause
e
throw
PersistenceException
e
getDeleteHandler
deleteObject
entityManager
result
flush
return
getEndpoint
JpaEndpoint
return
endpoint
getQueryFactory
QueryFactory
if
queryFactory
block
queryFactory
createQueryFactory
if
queryFactory
block
throw
IllegalArgumentException
return
queryFactory
setQueryFactory
queryFactory
QueryFactory
queryFactory
queryFactory
getDeleteHandler
DeleteHandler
if
deleteHandler
block
deleteHandler
createDeleteHandler
return
deleteHandler
setDeleteHandler
deleteHandler
DeleteHandler
deleteHandler
deleteHandler
getNamedQuery
String
return
namedQuery
setNamedQuery
namedQuery
String
namedQuery
namedQuery
getNativeQuery
String
return
nativeQuery
setNativeQuery
nativeQuery
String
nativeQuery
nativeQuery
getQuery
String
return
query
setQuery
query
String
query
query
lockEntity
boolean
entity
Object
entityManager
EntityManager
if
getEndpoint
isConsumeDelete
getEndpoint
isConsumeLockEntity
block
return
try
if
isDebugEnabled
block
debug
entity
lock
entity
WRITE
return
catchClause
e
if
isDebugEnabled
block
debug
entity
e
e
return
createQueryFactory
QueryFactory
if
query
block
return
query
query
if
namedQuery
block
return
namedQuery
namedQuery
if
nativeQuery
block
return
nativeQuery
nativeQuery
block
Class
entityType
getEntityType
if
entityType
block
return
block
return
query
getName
createDeleteHandler
DeleteHandler
Object
Class
entityType
getEndpoint
getEntityType
if
entityType
block
List
Method
methods
findMethodsWithAnnotation
entityType
Consumed
if
size
block
throw
IllegalArgumentException
methods
if
size
block
Method
method
get
return
DeleteHandler
Object
deleteObject
entityManager
EntityManager
entityBean
Object
invokeMethod
method
entityBean
if
getEndpoint
isConsumeDelete
block
return
DeleteHandler
Object
deleteObject
entityManager
EntityManager
entityBean
Object
remove
entityBean
block
return
DeleteHandler
Object
deleteObject
entityManager
EntityManager
entityBean
Object
configureParameters
query
Query
int
maxResults
getMaximumResults
if
maxResults
block
setMaxResults
maxResults
createExchange
Exchange
result
Object
Exchange
exchange
createExchange
getIn
setBody
result
return
exchange
ScheduledPollConsumer
Exchange
