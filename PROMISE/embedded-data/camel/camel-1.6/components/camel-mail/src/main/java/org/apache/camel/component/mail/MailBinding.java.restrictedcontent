MailBinding
HeaderFilterStrategy
headerFilterStrategy
MailBinding
headerFilterStrategy
DefaultHeaderFilterStrategy
MailBinding
headerFilterStrategy
HeaderFilterStrategy
headerFilterStrategy
headerFilterStrategy
populateMailMessage
endpoint
MailEndpoint
mimeMessage
MimeMessage
exchange
Exchange
if
hasRecipientHeaders
getIn
block
setRecipientFromCamelMessage
mimeMessage
exchange
getIn
block
setRecipientFromEndpointConfiguration
mimeMessage
endpoint
if
getAllRecipients
block
throw
IllegalArgumentException
appendHeadersFromCamelMessage
mimeMessage
exchange
getIn
if
empty
getFrom
block
String
from
getConfiguration
getFrom
setFrom
InternetAddress
from
if
getIn
hasAttachments
block
appendAttachmentsFromCamel
mimeMessage
getIn
getConfiguration
block
if
equals
getConfiguration
getContentType
block
DataSource
ds
ByteArrayDataSource
getIn
getBody
String
setDataHandler
DataHandler
ds
block
setText
getIn
getBody
String
extractBodyFromMail
Object
exchange
MailExchange
message
Message
try
return
getContent
catchClause
e
throw
RuntimeCamelException
getMessage
exchange
message
e
appendHeadersFromCamelMessage
mimeMessage
MimeMessage
exchange
Exchange
camelMessage
org
apache
camel
Message
for
Map
Entry
String
Object
entry
getHeaders
entrySet
block
String
headerName
getKey
Object
headerValue
getValue
if
headerValue
block
if
headerFilterStrategy
applyFilterToCamelHeaders
headerName
headerValue
block
if
isRecipientHeader
headerName
block
continue
if
isCollection
headerValue
block
Iterator
iter
iterator
headerValue
while
hasNext
block
Object
value
next
addHeader
headerName
asString
exchange
value
block
setHeader
headerName
asString
exchange
headerValue
setRecipientFromCamelMessage
mimeMessage
MimeMessage
exchange
Exchange
camelMessage
org
apache
camel
Message
for
Map
Entry
String
Object
entry
getHeaders
entrySet
block
String
headerName
getKey
Object
headerValue
getValue
if
headerValue
isRecipientHeader
headerName
block
if
isCollection
headerValue
block
Iterator
iter
iterator
headerValue
while
hasNext
block
Object
recipient
next
appendRecipientToMimeMessage
mimeMessage
headerName
asString
exchange
recipient
block
appendRecipientToMimeMessage
mimeMessage
headerName
asString
exchange
headerValue
setRecipientFromEndpointConfiguration
mimeMessage
MimeMessage
endpoint
MailEndpoint
Map
Message
RecipientType
String
recipients
getConfiguration
getRecipients
if
containsKey
TO
block
appendRecipientToMimeMessage
mimeMessage
toString
get
TO
if
containsKey
CC
block
appendRecipientToMimeMessage
mimeMessage
toString
get
CC
if
containsKey
BCC
block
appendRecipientToMimeMessage
mimeMessage
toString
get
BCC
String
destination
getConfiguration
getDestination
if
destination
getRecipients
TO
block
appendRecipientToMimeMessage
mimeMessage
toString
destination
appendAttachmentsFromCamel
mimeMessage
MimeMessage
camelMessage
org
apache
camel
Message
configuration
MailConfiguration
MimeMultipart
multipart
MimeMultipart
setSubType
MimeBodyPart
textBodyPart
MimeBodyPart
setContent
getBody
String
getContentType
addBodyPart
textBodyPart
for
Map
Entry
String
DataHandler
entry
getAttachments
entrySet
block
String
attachmentFilename
getKey
DataHandler
handler
getValue
if
handler
block
if
shouldOutputAttachment
camelMessage
attachmentFilename
handler
block
BodyPart
messageBodyPart
MimeBodyPart
setDataHandler
handler
setFileName
attachmentFilename
setDisposition
ATTACHMENT
addBodyPart
messageBodyPart
setContent
multipart
shouldOutputAttachment
boolean
camelMessage
org
apache
camel
Message
attachmentFilename
String
handler
DataHandler
return
extractHeadersFromMail
Map
String
Object
mailMessage
Message
Map
String
Object
answer
HashMap
String
Object
Enumeration
names
getAllHeaders
while
hasMoreElements
block
Header
header
Header
nextElement
String
value
getHeader
getName
if
headerFilterStrategy
applyFilterToExternalHeaders
getName
value
block
if
length
block
appendValue
answer
getName
toLowerCase
value
block
appendValue
answer
getName
toLowerCase
value
return
answer
appendRecipientToMimeMessage
mimeMessage
MimeMessage
type
String
recipient
String
String
lines
split
for
String
line
lines
block
line
trim
addRecipients
asRecipientType
type
line
hasRecipientHeaders
boolean
camelMessage
org
apache
camel
Message
for
String
key
getHeaders
keySet
block
if
isRecipientHeader
key
block
return
return
isRecipientHeader
boolean
key
String
if
toString
equalsIgnoreCase
key
block
return
if
toString
equalsIgnoreCase
key
block
return
if
toString
equalsIgnoreCase
key
block
return
return
asRecipientType
Message
RecipientType
type
String
if
toString
equalsIgnoreCase
type
block
return
TO
if
toString
equalsIgnoreCase
type
block
return
CC
if
toString
equalsIgnoreCase
type
block
return
BCC
throw
IllegalArgumentException
type
empty
boolean
addresses
Address
return
addresses
length
asString
String
exchange
Exchange
value
Object
return
getContext
getTypeConverter
convertTo
String
exchange
value
