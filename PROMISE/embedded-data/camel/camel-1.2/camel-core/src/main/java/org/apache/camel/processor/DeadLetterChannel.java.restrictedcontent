DeadLetterChannel
String
REDELIVERY_COUNTER
String
REDELIVERED
RedeliveryData
int
redeliveryCounter
long
redeliveryDelay
boolean
sync
RedeliveryPolicy
currentRedeliveryPolicy
redeliveryPolicy
Processor
failureProcessor
deadLetter
Log
LOG
getLog
DeadLetterChannel
String
FAILURE_HANDLED_PROPERTY
getName
DeadLetterChannel
Processor
output
Processor
deadLetter
AsyncProcessor
outputAsync
RedeliveryPolicy
redeliveryPolicy
Logger
logger
DeadLetterChannel
output
Processor
deadLetter
Processor
output
deadLetter
RedeliveryPolicy
createDefaultLogger
DeadLetterChannel
output
Processor
deadLetter
Processor
redeliveryPolicy
RedeliveryPolicy
logger
Logger
deadLetter
deadLetter
output
output
outputAsync
convert
output
redeliveryPolicy
redeliveryPolicy
logger
logger
createDefaultLogger
Exchange
Logger
return
Logger
LOG
ERROR
toString
String
return
output
deadLetter
redeliveryPolicy
process
boolean
exchange
Exchange
callback
AsyncCallback
return
process
exchange
callback
RedeliveryData
process
boolean
exchange
Exchange
callback
AsyncCallback
data
RedeliveryData
while
block
if
isRunAllowed
block
if
getException
block
setException
RejectedExecutionException
done
sync
return
sync
if
getException
block
Throwable
e
getException
setException
log
redeliveryCounter
e
e
redeliveryCounter
incrementRedeliveryCounter
exchange
e
ExceptionType
exceptionPolicy
getExceptionPolicy
exchange
e
if
exceptionPolicy
block
currentRedeliveryPolicy
createRedeliveryPolicy
currentRedeliveryPolicy
Processor
processor
getErrorHandler
if
processor
block
failureProcessor
processor
if
shouldRedeliver
redeliveryCounter
block
setFailureHandled
exchange
AsyncProcessor
afp
convert
failureProcessor
return
process
exchange
AsyncCallback
done
sync
boolean
done
sync
if
redeliveryCounter
block
redeliveryDelay
getRedeliveryDelay
redeliveryDelay
sleep
redeliveryDelay
setException
boolean
sync
process
exchange
AsyncCallback
done
sync
boolean
if
sync
block
return
sync
if
getException
block
process
exchange
callback
data
block
done
sync
if
sync
block
return
if
getException
isFailureHandled
exchange
block
done
return
isFailureHandled
boolean
exchange
Exchange
Boolean
rc
getProperty
FAILURE_HANDLED_PROPERTY
Boolean
return
rc
rc
setFailureHandled
exchange
Exchange
b
boolean
setProperty
FAILURE_HANDLED_PROPERTY
b
TRUE
FALSE
process
exchange
Exchange
process
exchange
getOutput
Processor
return
output
getDeadLetter
Processor
return
deadLetter
getRedeliveryPolicy
RedeliveryPolicy
return
redeliveryPolicy
setRedeliveryPolicy
redeliveryPolicy
RedeliveryPolicy
redeliveryPolicy
redeliveryPolicy
getLogger
Logger
return
logger
setLogger
logger
Logger
logger
logger
incrementRedeliveryCounter
int
exchange
Exchange
e
Throwable
Message
in
getIn
Integer
counter
getHeader
REDELIVERY_COUNTER
Integer
int
next
if
counter
block
next
counter
setHeader
REDELIVERY_COUNTER
next
setHeader
REDELIVERED
setException
e
return
next
sleep
redeliveryDelay
long
if
redeliveryDelay
block
if
isDebugEnabled
block
debug
redeliveryDelay
try
sleep
redeliveryDelay
catchClause
e
if
isDebugEnabled
block
debug
e
e
doStart
startServices
output
deadLetter
doStop
stopServices
deadLetter
output
ErrorHandlerSupport
AsyncProcessor
