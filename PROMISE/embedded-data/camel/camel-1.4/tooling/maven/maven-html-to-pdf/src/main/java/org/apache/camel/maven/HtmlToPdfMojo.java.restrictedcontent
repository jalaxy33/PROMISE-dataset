HtmlToPdfMojo
String
page
String
pdf
String
styleSheets
String
head
String
contentDivClass
String
princeArgs
boolean
errorOnConverionFailure
boolean
errorOnDownloadFailure
MavenProject
project
MavenProjectHelper
projectHelper
String
type
String
classifier
execute
File
outputDir
getParentFile
File
pdf
if
exists
block
mkdirs
try
String
content
downloadContent
if
content
block
return
storeHTMLFile
content
if
convert
block
File
pdfFile
File
getPDFFileName
attachArtifact
project
type
classifier
pdfFile
catchClause
e
throw
e
catchClause
e
throw
MojoExecutionException
page
getMessage
e
convert
int
getLog
info
Commandline
cl
Commandline
Argument
arg
if
princeArgs
block
for
forControl
int
i
i
length
i
block
arg
Argument
setValue
princeArgs
i
addArg
arg
arg
Argument
setValue
getHTMLFileName
addArg
arg
arg
Argument
setValue
getPDFFileName
addArg
arg
StreamConsumer
out
StreamConsumer
consumeLine
line
String
getLog
info
line
getLog
info
String
lines
getCommandline
StringBuffer
buffer
StringBuffer
for
String
line
lines
block
append
append
line
getLog
info
buffer
int
rc
executeCommandLine
cl
out
out
if
rc
block
getLog
info
getPDFFileName
block
if
errorOnConverionFailure
block
throw
MojoExecutionException
rc
block
getLog
error
rc
return
rc
getPDFFileName
String
return
pdf
storeHTMLFile
content
String
PrintWriter
out
PrintWriter
BufferedOutputStream
FileOutputStream
getHTMLFileName
println
println
println
page
if
head
block
println
head
if
styleSheets
block
for
forControl
int
i
i
length
i
block
println
styleSheets
i
println
println
content
close
getLog
info
getHTMLFileName
getHTMLFileName
String
String
name
getPDFFileName
if
endsWith
block
name
substring
length
return
name
downloadContent
String
getLog
info
page
URL
url
URL
page
Tidy
tidy
Tidy
ByteArrayOutputStream
result
ByteArrayOutputStream
setErrout
PrintWriter
result
Document
doc
try
doc
parseDOM
BufferedInputStream
openStream
ByteArrayOutputStream
catchClause
e
if
errorOnDownloadFailure
block
getLog
debug
String
toByteArray
e
throw
MojoExecutionException
page
e
block
getLog
debug
String
toByteArray
e
getLog
error
page
e
return
NodeList
nodeList
getElementsByTagName
for
forControl
int
i
i
getLength
i
block
Node
node
item
i
NamedNodeMap
nm
getAttributes
Node
attr
getNamedItem
if
attr
getNodeValue
equalsIgnoreCase
contentDivClass
block
ByteArrayOutputStream
contentData
ByteArrayOutputStream
TransformerFactory
tFactory
newInstance
Transformer
transformer
newTransformer
transform
DOMSource
node
StreamResult
contentData
String
content
String
toByteArray
content
substring
indexOf
return
content
throw
MojoExecutionException
page
contentDivClass
AbstractMojo
