DefaultInstrumentationAgent
String
DEFAULT_DOMAIN
String
DEFAULT_HOST
int
DEFAULT_REGISTRY_PORT
int
DEFAULT_CONNECTION_PORT
String
DEFAULT_SERVICE_URL_PATH
Log
LOG
getLog
DefaultInstrumentationAgent
MBeanServer
server
Set
ObjectName
mbeans
HashSet
ObjectName
MetadataMBeanInfoAssembler
assembler
JMXConnectorServer
cs
Integer
registryPort
Integer
connectorPort
String
mBeanServerDefaultDomain
String
mBeanObjectDomainName
String
serviceUrlPath
Boolean
usePlatformMBeanServer
Boolean
createConnector
finalizeSettings
if
registryPort
block
registryPort
getInteger
REGISTRY_PORT
DEFAULT_REGISTRY_PORT
if
connectorPort
block
connectorPort
getInteger
CONNECTOR_PORT
DEFAULT_CONNECTION_PORT
if
mBeanServerDefaultDomain
block
mBeanServerDefaultDomain
getProperty
DOMAIN
DEFAULT_DOMAIN
if
mBeanObjectDomainName
block
mBeanObjectDomainName
getProperty
MBEAN_DOMAIN
DEFAULT_DOMAIN
if
serviceUrlPath
block
serviceUrlPath
getProperty
SERVICE_URL_PATH
DEFAULT_SERVICE_URL_PATH
if
createConnector
block
createConnector
getBoolean
CREATE_CONNECTOR
if
usePlatformMBeanServer
block
usePlatformMBeanServer
getBoolean
USE_PLATFORM_MBS
setRegistryPort
value
Integer
registryPort
value
setConnectorPort
value
Integer
connectorPort
value
setMBeanServerDefaultDomain
value
String
mBeanServerDefaultDomain
value
setMBeanObjectDomainName
value
String
mBeanObjectDomainName
value
setServiceUrlPath
value
String
serviceUrlPath
value
setCreateConnector
flag
Boolean
createConnector
flag
setUsePlatformMBeanServer
flag
Boolean
usePlatformMBeanServer
flag
getMBeanServer
MBeanServer
return
server
register
obj
Object
name
ObjectName
register
obj
name
register
obj
Object
name
ObjectName
forceRegistration
boolean
try
registerMBeanWithServer
obj
name
forceRegistration
catchClause
e
ModelMBeanInfo
mbi
mbi
getMBeanInfo
obj
toString
RequiredModelMBean
mbean
RequiredModelMBean
instantiate
getName
RequiredModelMBean
setModelMBeanInfo
mbi
try
setManagedResource
obj
catchClause
itotex
throw
JMException
getMessage
registerMBeanWithServer
mbean
name
forceRegistration
unregister
name
ObjectName
unregisterMBean
name
doStart
assembler
MetadataMBeanInfoAssembler
setAttributeSource
AnnotationJmxAttributeSource
if
server
block
finalizeSettings
createMBeanServer
if
isDebugEnabled
block
debug
getMBeanServer
doStop
if
cs
block
try
stop
catchClause
e
cs
Object
mBeans
toArray
int
caught
for
Object
name
mBeans
block
remove
ObjectName
name
try
unregister
ObjectName
name
catchClause
jmex
info
jmex
caught
if
caught
block
warn
caught
registerMBeanWithServer
obj
Object
name
ObjectName
forceRegistration
boolean
boolean
exists
isRegistered
name
if
exists
block
if
forceRegistration
block
info
unregisterMBean
name
block
if
isDebugEnabled
block
debug
name
ObjectInstance
instance
if
forceRegistration
exists
block
if
isTraceEnabled
block
trace
name
instance
registerMBean
obj
name
if
instance
block
ObjectName
registeredName
getObjectName
if
isDebugEnabled
block
debug
registeredName
add
registeredName
createMBeanServer
String
hostName
DEFAULT_HOST
boolean
canAccessSystemProps
try
SecurityManager
sm
getSecurityManager
if
sm
block
checkPropertiesAccess
catchClause
se
canAccessSystemProps
if
canAccessSystemProps
block
try
hostName
getLocalHost
getHostName
catchClause
uhe
info
DEFAULT_REGISTRY_PORT
uhe
hostName
DEFAULT_HOST
block
hostName
DEFAULT_HOST
server
findOrCreateMBeanServer
try
if
createConnector
block
createJmxConnector
hostName
catchClause
ioe
warn
ioe
findOrCreateMBeanServer
MBeanServer
if
getBoolean
USE_PLATFORM_MBS
usePlatformMBeanServer
block
return
getPlatformMBeanServer
List
MBeanServer
servers
List
MBeanServer
findMBeanServer
for
MBeanServer
server
servers
block
if
isDebugEnabled
block
debug
getDefaultDomain
if
equals
getDefaultDomain
block
return
server
return
createMBeanServer
mBeanServerDefaultDomain
createJmxConnector
host
String
try
createRegistry
registryPort
if
isDebugEnabled
block
debug
registryPort
catchClause
ex
JMXServiceURL
url
if
connectorPort
block
url
JMXServiceURL
host
connectorPort
host
registryPort
serviceUrlPath
block
url
JMXServiceURL
host
registryPort
serviceUrlPath
cs
newJMXConnectorServer
url
server
Thread
connectorThread
Thread
run
try
start
catchClause
ioe
warn
ioe
setName
url
start
info
url
getMBeanObjectDomainName
String
return
mBeanObjectDomainName
setServer
value
MBeanServer
server
value
ServiceSupport
InstrumentationAgent
