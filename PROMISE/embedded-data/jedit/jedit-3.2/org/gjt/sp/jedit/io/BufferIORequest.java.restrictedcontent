BufferIORequest
int
IOBUFSIZE
int
PROGRESS_INTERVAL
String
LOAD_DATA
int
LOAD
int
SAVE
int
AUTOSAVE
int
INSERT
BufferIORequest
type
int
view
View
buffer
Buffer
session
Object
vfs
VFS
path
String
type
type
view
view
buffer
buffer
session
session
vfs
vfs
path
path
markersPath
getParentOfPath
path
getFileName
path
run
switch
type
case
load
break
case
save
break
case
autosave
break
case
insert
break
toString
String
String
typeString
switch
type
case
typeString
break
case
typeString
break
case
typeString
break
case
typeString
return
getClass
getName
typeString
buffer
int
type
View
view
Buffer
buffer
Object
session
VFS
vfs
String
path
String
markersPath
load
InputStream
in
try
try
String
args
getFileName
path
setStatus
getProperty
args
setAbortable
setProgressValue
VFS
DirectoryEntry
entry
_getDirectoryEntry
session
path
view
long
length
if
entry
length
length
length
in
_createInputStream
session
path
view
if
in
return
if
endsWith
in
GZIPInputStream
in
String
lineSeparator
read
buffer
in
length
putProperty
LINESEP
lineSeparator
setNewFile
catchClause
ch
log
ERROR
ch
Object
pp
path
getProperty
ENCODING
toString
error
view
pp
catchClause
io
log
ERROR
io
Object
pp
path
toString
error
view
pp
if
getBooleanProperty
block
try
String
args
getFileName
path
setStatus
getProperty
args
setAbortable
in
_createInputStream
session
markersPath
view
if
in
readMarkers
buffer
in
catchClause
io
catchClause
a
if
in
block
try
close
catchClause
io
try
_endVFSSession
session
view
catchClause
io
log
ERROR
io
String
pp
path
toString
error
view
pp
catchClause
a
read
String
buffer
Buffer
_in
InputStream
length
long
boolean
trackProgress
length
File
file
getFile
setProgressValue
setProgressMaximum
int
length
if
length
length
IOBUFSIZE
StringBuffer
sbuf
StringBuffer
int
length
InputStreamReader
in
InputStreamReader
_in
String
getProperty
ENCODING
char
buf
char
IOBUFSIZE
int
len
boolean
CRLF
boolean
CROnly
boolean
lastWasCR
int
lineCount
while
len
read
buf
length
block
int
lastLine
for
forControl
int
i
i
len
i
block
switch
buf
i
case
if
lastWasCR
block
CROnly
CRLF
block
lastWasCR
append
buf
lastLine
i
lastLine
append
if
trackProgress
lineCount
PROGRESS_INTERVAL
setProgressValue
length
lastLine
i
break
case
if
lastWasCR
block
CROnly
CRLF
lastWasCR
lastLine
i
block
CROnly
CRLF
append
buf
lastLine
i
lastLine
append
if
trackProgress
lineCount
PROGRESS_INTERVAL
setProgressValue
length
lastLine
i
break
case
if
lastWasCR
block
CROnly
CRLF
lastWasCR
break
if
trackProgress
setProgressValue
length
append
buf
lastLine
len
lastLine
setAbortable
String
returnValue
if
CRLF
returnValue
if
CROnly
returnValue
returnValue
close
int
bufferLength
length
if
bufferLength
block
char
ch
charAt
bufferLength
if
length
ch
charAt
bufferLength
setLength
bufferLength
if
ch
setLength
bufferLength
putProperty
LOAD_DATA
sbuf
return
returnValue
readMarkers
buffer
Buffer
_in
InputStream
removeAllMarkers
BufferedReader
in
BufferedReader
InputStreamReader
_in
String
line
while
line
readLine
block
if
startsWith
continue
char
shortcut
charAt
int
start
indexOf
int
end
indexOf
start
int
position
parseInt
substring
start
end
addMarker
shortcut
position
close
save
OutputStream
out
try
String
args
getFileName
path
setStatus
getProperty
args
setAbortable
try
readLock
String
savePath
if
getCapabilities
RENAME_CAP
block
savePath
getParentOfPath
path
getFileName
path
savePath
path
out
_createOutputStream
session
savePath
view
if
out
block
if
endsWith
out
GZIPOutputStream
out
write
buffer
out
if
getProperty
BACKED_UP
block
_backup
session
path
view
putProperty
BACKED_UP
TRUE
if
getCapabilities
RENAME_CAP
_rename
session
savePath
path
view
if
getCapabilities
DELETE_CAP
block
if
getBooleanProperty
getMarkers
size
block
setStatus
getProperty
args
setProgressValue
out
_createOutputStream
session
markersPath
view
if
out
writeMarkers
buffer
out
_delete
session
markersPath
view
catchClause
bl
log
ERROR
bl
catchClause
io
log
ERROR
io
String
pp
path
toString
error
view
pp
readUnlock
catchClause
a
if
out
block
try
close
catchClause
io
try
_saveComplete
session
buffer
view
_endVFSSession
session
view
catchClause
io
log
ERROR
io
String
pp
path
toString
error
view
pp
catchClause
a
autosave
OutputStream
out
try
String
args
getFileName
path
setStatus
getProperty
args
setAbortable
try
readLock
if
isDirty
block
return
out
_createOutputStream
session
path
view
if
out
return
write
buffer
out
catchClause
bl
log
ERROR
bl
catchClause
io
readUnlock
catchClause
a
if
out
block
try
close
catchClause
io
write
buffer
Buffer
_out
OutputStream
BufferedWriter
out
BufferedWriter
OutputStreamWriter
_out
String
getProperty
ENCODING
IOBUFSIZE
Segment
lineSegment
Segment
String
newline
String
getProperty
LINESEP
if
newline
newline
getProperty
Element
map
getDefaultRootElement
setProgressMaximum
getElementCount
PROGRESS_INTERVAL
setProgressValue
int
i
while
i
getElementCount
block
Element
line
getElement
i
int
start
getStartOffset
getText
start
getEndOffset
start
lineSegment
write
array
offset
count
write
newline
if
i
PROGRESS_INTERVAL
setProgressValue
i
PROGRESS_INTERVAL
close
writeMarkers
buffer
Buffer
out
OutputStream
Writer
o
BufferedWriter
OutputStreamWriter
out
Vector
markers
getMarkers
for
forControl
int
i
i
size
i
block
Marker
marker
Marker
elementAt
i
write
write
getShortcut
write
String
pos
valueOf
getPosition
write
pos
write
write
pos
write
close
insert
InputStream
in
try
try
String
args
getFileName
path
setStatus
getProperty
args
setAbortable
VFS
DirectoryEntry
entry
_getDirectoryEntry
session
path
view
long
length
if
entry
length
length
length
in
_createInputStream
session
path
view
if
in
return
if
endsWith
in
GZIPInputStream
in
read
buffer
in
length
catchClause
io
log
ERROR
io
String
pp
path
toString
error
view
pp
catchClause
a
if
in
block
try
close
catchClause
io
try
_endVFSSession
session
view
catchClause
io
log
ERROR
io
String
pp
path
toString
error
view
pp
catchClause
a
WorkRequest
