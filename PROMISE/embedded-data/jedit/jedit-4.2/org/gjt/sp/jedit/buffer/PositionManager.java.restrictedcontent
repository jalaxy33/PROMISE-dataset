PositionManager
createPosition
Position
offset
int
PosBottomHalf
bh
PosBottomHalf
offset
PosBottomHalf
existing
PosBottomHalf
get
bh
if
existing
block
put
bh
bh
existing
bh
return
PosTopHalf
existing
contentInserted
offset
int
length
int
if
size
return
Iterator
iter
tailMap
keySet
iterator
PosBottomHalf
offset
iteration
while
hasNext
block
PosBottomHalf
bh
PosBottomHalf
next
offset
length
iteration
contentRemoved
offset
int
length
int
if
size
return
Iterator
iter
tailMap
keySet
iterator
PosBottomHalf
offset
iteration
while
hasNext
block
PosBottomHalf
bh
PosBottomHalf
next
if
offset
offset
length
offset
offset
offset
length
iteration
boolean
iteration
SortedMap
positions
TreeMap
PosTopHalf
PosBottomHalf
bh
PosTopHalf
bh
PosBottomHalf
bh
bh
ref
getOffset
int
return
offset
finalize
synchronized
unref
Position
PosBottomHalf
int
offset
int
ref
PosBottomHalf
offset
int
offset
offset
ref
ref
unref
if
ref
remove
equals
boolean
o
Object
if
o
PosBottomHalf
return
return
PosBottomHalf
o
offset
compareTo
int
o
Object
if
iteration
log
ERROR
return
offset
PosBottomHalf
o
Comparable
