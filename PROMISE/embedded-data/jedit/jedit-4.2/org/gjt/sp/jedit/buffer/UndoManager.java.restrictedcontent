UndoManager
UndoManager
buffer
Buffer
buffer
buffer
setLimit
limit
int
limit
limit
clear
undosFirst
undosLast
redosFirst
redosLast
undoCount
undo
int
if
insideCompoundEdit
throw
InternalError
if
undosLast
return
block
undoCount
int
caret
undo
redosFirst
undosLast
undosLast
prev
if
undosLast
undosFirst
return
caret
redo
int
if
insideCompoundEdit
throw
InternalError
if
redosFirst
return
block
undoCount
int
caret
redo
undosLast
redosFirst
if
undosFirst
undosFirst
undosLast
redosFirst
next
return
caret
beginCompoundEdit
if
compoundEditCount
compoundEdit
CompoundEdit
compoundEditCount
endCompoundEdit
if
compoundEditCount
block
log
WARNING
Exception
return
if
compoundEditCount
block
if
first
if
first
last
addEdit
first
addEdit
compoundEdit
compoundEdit
compoundEditCount
insideCompoundEdit
boolean
return
compoundEditCount
contentInserted
offset
int
length
int
text
String
clearDirty
boolean
Edit
last
getLastEdit
Edit
toMerge
getMergeEdit
if
clearDirty
toMerge
Insert
redosFirst
block
Insert
ins
Insert
toMerge
if
offset
offset
block
str
concat
str
length
length
return
if
offset
length
offset
block
str
concat
text
length
length
return
Insert
ins
Insert
offset
length
text
if
clearDirty
block
redoClearDirty
last
undoClearDirty
ins
if
compoundEdit
add
ins
addEdit
ins
contentRemoved
offset
int
length
int
text
String
clearDirty
boolean
Edit
last
getLastEdit
Edit
toMerge
getMergeEdit
if
clearDirty
toMerge
Remove
redosFirst
block
Remove
rem
Remove
toMerge
if
offset
offset
block
str
concat
text
hashcode
hashCode
length
length
changed
rem
return
if
offset
length
offset
block
str
concat
str
hashcode
hashCode
length
length
offset
offset
changed
rem
return
Remove
rem
Remove
offset
length
text
if
clearDirty
block
redoClearDirty
last
undoClearDirty
rem
if
compoundEdit
add
rem
addEdit
rem
add
rem
bufferSaved
redoClearDirty
getLastEdit
if
redosFirst
CompoundEdit
undoClearDirty
CompoundEdit
redosFirst
undoClearDirty
redosFirst
Buffer
buffer
Edit
undosFirst
Edit
undosLast
Edit
redosFirst
Edit
redosLast
int
limit
int
undoCount
int
compoundEditCount
CompoundEdit
compoundEdit
Edit
undoClearDirty
redoClearDirty
addEdit
edit
Edit
if
undosFirst
undosFirst
undosLast
edit
block
next
edit
prev
undosLast
undosLast
edit
redosFirst
redosLast
undoCount
while
undoCount
limit
block
undoCount
if
undosFirst
undosLast
undosFirst
undosLast
block
prev
undosFirst
next
getMergeEdit
Edit
Edit
last
getLastEdit
return
compoundEdit
last
last
getLastEdit
Edit
if
undosLast
CompoundEdit
return
CompoundEdit
undosLast
return
undosLast
Edit
Edit
prev
next
undo
int
redo
int
Insert
Insert
mgr
UndoManager
offset
int
length
int
str
String
mgr
mgr
offset
offset
length
length
str
str
undo
int
remove
offset
length
if
undoClearDirty
setDirty
return
offset
redo
int
insert
offset
str
if
redoClearDirty
setDirty
return
offset
length
UndoManager
mgr
int
offset
int
length
String
str
Edit
Remove
Remove
mgr
UndoManager
offset
int
length
int
str
String
mgr
mgr
offset
offset
length
length
str
str
hashcode
hashCode
undo
int
insert
offset
str
if
undoClearDirty
setDirty
return
offset
length
redo
int
remove
offset
length
if
redoClearDirty
setDirty
return
offset
toString
String
return
str
UndoManager
mgr
int
offset
int
length
String
str
int
hashcode
boolean
inKillRing
Edit
CompoundEdit
undo
int
int
retVal
Edit
edit
last
while
edit
block
retVal
undo
edit
prev
return
retVal
redo
int
int
retVal
Edit
edit
first
while
edit
block
retVal
redo
edit
next
return
retVal
add
edit
Edit
if
first
first
last
edit
block
prev
last
next
edit
last
edit
Edit
first
last
Edit
