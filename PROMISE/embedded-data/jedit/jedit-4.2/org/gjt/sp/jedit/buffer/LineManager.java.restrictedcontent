LineManager
LineManager
endOffsets
int
endOffsets
lineInfo
int
lineInfo
SCREEN_LINES_SHIFT
lineContext
TokenMarker
LineContext
lineCount
getLineCount
int
return
lineCount
getLineOfOffset
int
offset
int
int
start
int
end
lineCount
for
forControl
block
switch
end
start
case
if
getLineEndOffset
start
offset
return
start
return
start
case
if
getLineEndOffset
start
offset
block
if
getLineEndOffset
end
offset
return
end
return
end
return
start
case
int
pivot
end
start
int
value
getLineEndOffset
pivot
if
value
offset
return
pivot
if
value
offset
start
pivot
end
pivot
break
getLineEndOffset
int
line
int
if
gapLine
line
gapLine
return
endOffsets
line
gapWidth
return
endOffsets
line
getFoldLevel
int
line
int
return
lineInfo
line
FOLD_LEVEL_MASK
setFoldLevel
line
int
level
int
if
level
block
level
lineInfo
line
lineInfo
line
FOLD_LEVEL_MASK
level
setFirstInvalidFoldLevel
firstInvalidFoldLevel
int
firstInvalidFoldLevel
firstInvalidFoldLevel
getFirstInvalidFoldLevel
int
return
firstInvalidFoldLevel
isScreenLineCountValid
boolean
line
int
return
lineInfo
line
SCREEN_LINES_VALID_MASK
getScreenLineCount
int
line
int
return
lineInfo
line
SCREEN_LINES_MASK
SCREEN_LINES_SHIFT
setScreenLineCount
line
int
count
int
if
count
block
count
if
SCREEN_LINES_DEBUG
log
DEBUG
Exception
line
count
lineInfo
line
lineInfo
line
SCREEN_LINES_MASK
count
SCREEN_LINES_SHIFT
SCREEN_LINES_VALID_MASK
getLineContext
TokenMarker
LineContext
line
int
return
lineContext
line
setLineContext
line
int
context
TokenMarker
LineContext
lineContext
line
context
setFirstInvalidLineContext
firstInvalidLineContext
int
firstInvalidLineContext
firstInvalidLineContext
getFirstInvalidLineContext
int
return
firstInvalidLineContext
invalidateScreenLineCounts
for
forControl
int
i
i
lineCount
i
lineInfo
i
SCREEN_LINES_VALID_MASK
_contentInserted
endOffsets
IntegerArray
gapLine
gapWidth
firstInvalidLineContext
firstInvalidFoldLevel
lineCount
getSize
endOffsets
getArray
lineInfo
int
lineCount
for
forControl
int
i
i
length
i
lineInfo
i
SCREEN_LINES_SHIFT
lineContext
TokenMarker
LineContext
lineCount
contentInserted
startLine
int
offset
int
numLines
int
length
int
endOffsets
IntegerArray
int
endLine
startLine
numLines
lineInfo
startLine
SCREEN_LINES_VALID_MASK
if
numLines
block
lineCount
numLines
if
endOffsets
length
lineCount
block
int
endOffsetsN
int
lineCount
arraycopy
endOffsets
endOffsetsN
endOffsets
length
endOffsets
endOffsetsN
if
length
lineCount
block
int
lineInfoN
int
lineCount
arraycopy
lineInfo
lineInfoN
length
lineInfo
lineInfoN
if
length
lineCount
block
TokenMarker
LineContext
lineContextN
TokenMarker
LineContext
lineCount
arraycopy
lineContext
lineContextN
length
lineContext
lineContextN
arraycopy
endOffsets
startLine
endOffsets
endLine
lineCount
endLine
arraycopy
lineInfo
startLine
lineInfo
endLine
lineCount
endLine
arraycopy
lineContext
startLine
lineContext
endLine
lineCount
endLine
if
startLine
gapLine
gapLine
numLines
if
gapLine
offset
gapWidth
if
startLine
firstInvalidLineContext
firstInvalidLineContext
numLines
for
forControl
int
i
i
numLines
i
block
endOffsets
startLine
i
offset
get
i
lineInfo
startLine
i
if
firstInvalidFoldLevel
firstInvalidFoldLevel
startLine
firstInvalidFoldLevel
startLine
moveGap
endLine
length
contentRemoved
startLine
int
offset
int
numLines
int
length
int
int
endLine
startLine
numLines
lineInfo
startLine
SCREEN_LINES_VALID_MASK
if
numLines
block
if
startLine
numLines
gapLine
gapLine
numLines
if
startLine
gapLine
gapLine
startLine
if
startLine
numLines
firstInvalidLineContext
firstInvalidLineContext
numLines
if
startLine
firstInvalidLineContext
firstInvalidLineContext
startLine
lineCount
numLines
arraycopy
endOffsets
endLine
endOffsets
startLine
lineCount
startLine
arraycopy
lineInfo
endLine
lineInfo
startLine
lineCount
startLine
arraycopy
lineContext
endLine
lineContext
startLine
lineCount
startLine
if
firstInvalidFoldLevel
firstInvalidFoldLevel
startLine
firstInvalidFoldLevel
startLine
moveGap
startLine
length
int
FOLD_LEVEL_MASK
int
SCREEN_LINES_MASK
int
SCREEN_LINES_SHIFT
int
SCREEN_LINES_VALID_MASK
int
endOffsets
int
lineInfo
TokenMarker
LineContext
lineContext
int
lineCount
int
gapLine
int
gapWidth
int
firstInvalidLineContext
int
firstInvalidFoldLevel
setLineEndOffset
line
int
end
int
endOffsets
line
end
moveGap
newGapLine
int
newGapWidth
int
method
String
if
gapLine
gapWidth
newGapWidth
if
newGapLine
block
if
gapWidth
block
if
OFFSET_DEBUG
gapLine
lineCount
log
DEBUG
method
gapLine
lineCount
gapWidth
for
forControl
int
i
gapLine
i
lineCount
i
setLineEndOffset
i
getLineEndOffset
i
gapWidth
newGapWidth
if
newGapLine
gapLine
block
if
gapWidth
block
if
OFFSET_DEBUG
newGapLine
gapLine
log
DEBUG
method
newGapLine
gapLine
gapWidth
for
forControl
int
i
newGapLine
i
gapLine
i
setLineEndOffset
i
getLineEndOffset
i
gapWidth
gapWidth
newGapWidth
block
if
gapWidth
block
if
OFFSET_DEBUG
gapLine
newGapLine
log
DEBUG
method
gapLine
newGapLine
gapWidth
for
forControl
int
i
gapLine
i
newGapLine
i
setLineEndOffset
i
getLineEndOffset
i
gapWidth
newGapWidth
if
newGapLine
lineCount
gapLine
gapLine
newGapLine
