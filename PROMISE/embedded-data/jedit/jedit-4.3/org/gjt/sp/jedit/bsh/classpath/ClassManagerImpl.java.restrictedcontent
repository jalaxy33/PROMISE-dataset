ClassManagerImpl
String
BSH_PACKAGE
BshClassPath
baseClassPath
boolean
superImport
BshClassPath
fullClassPath
Vector
listeners
Vector
ReferenceQueue
refQueue
ReferenceQueue
BshClassLoader
baseLoader
Map
loaderMap
ClassManagerImpl
reset
classForName
Class
name
String
Class
c
Class
get
name
if
c
return
c
if
get
name
block
if
DEBUG
debug
name
return
if
DEBUG
debug
name
ClassLoader
overlayLoader
getLoaderForClass
name
if
overlayLoader
block
try
c
loadClass
name
catchClause
e
catchClause
e2
throw
noClassDefFound
name
e2
if
c
block
if
startsWith
BSH_PACKAGE
try
c
getClassLoader
loadClass
name
Interpreter
catchClause
e
if
c
block
if
baseLoader
try
c
loadClass
name
catchClause
e
if
c
block
if
externalClassLoader
try
c
loadClass
name
catchClause
e
if
c
block
try
ClassLoader
contextClassLoader
currentThread
getContextClassLoader
if
contextClassLoader
c
forName
name
contextClassLoader
catchClause
e
catchClause
e
if
c
try
c
plainClassForName
name
catchClause
e
if
c
c
loadSourceClass
name
cacheClassInfo
name
c
return
c
getResource
URL
path
String
URL
url
if
baseLoader
url
getResource
substring
if
url
url
getResource
path
return
url
getResourceAsStream
InputStream
path
String
InputStream
in
if
baseLoader
block
in
getResourceAsStream
substring
if
in
block
in
getResourceAsStream
path
return
in
getLoaderForClass
ClassLoader
name
String
return
ClassLoader
get
name
addClassPath
path
URL
if
baseLoader
setClassPath
URL
path
block
addURL
path
add
path
classLoaderChanged
reset
baseClassPath
BshClassPath
baseLoader
loaderMap
HashMap
classLoaderChanged
setClassPath
cp
URL
setPath
cp
initBaseLoader
loaderMap
HashMap
classLoaderChanged
reloadAllClasses
BshClassPath
bcp
BshClassPath
addComponent
baseClassPath
addComponent
getUserClassPath
setClassPath
getPathComponents
initBaseLoader
baseLoader
BshClassLoader
baseClassPath
reloadClasses
classNames
String
if
baseLoader
initBaseLoader
DiscreteFilesClassLoader
ClassSourceMap
map
DiscreteFilesClassLoader
ClassSourceMap
for
forControl
int
i
i
length
i
block
String
name
classNames
i
ClassSource
classSource
getClassSource
name
if
classSource
block
getUserClassPath
insureInitialized
classSource
getUserClassPath
getClassSource
name
if
classSource
throw
ClassPathException
name
if
classSource
JarClassSource
throw
ClassPathException
name
classSource
put
name
classSource
ClassLoader
cl
DiscreteFilesClassLoader
map
Iterator
it
keySet
iterator
while
hasNext
put
String
next
cl
classLoaderChanged
reloadPackage
pack
String
Collection
classes
getClassesForPackage
pack
if
classes
classes
getUserClassPath
getClassesForPackage
pack
if
classes
throw
ClassPathException
pack
reloadClasses
String
toArray
String
getClassPath
BshClassPath
if
fullClassPath
return
fullClassPath
fullClassPath
BshClassPath
addComponent
getUserClassPath
try
addComponent
getBootClassPath
catchClause
e
println
addComponent
baseClassPath
return
fullClassPath
doSuperImport
try
getClassPath
insureInitialized
getClassNameByUnqName
catchClause
e
throw
UtilEvalError
e
superImport
hasSuperImport
boolean
return
superImport
getClassNameByUnqName
String
name
String
return
getClassPath
getClassNameByUnqName
name
addListener
l
Listener
addElement
WeakReference
l
refQueue
Reference
deadref
while
deadref
poll
block
boolean
ok
removeElement
deadref
if
ok
block
block
if
DEBUG
debug
deadref
removeListener
l
Listener
throw
Error
getBaseLoader
ClassLoader
return
baseLoader
defineClass
Class
name
String
code
byte
setClassSource
name
GeneratedClassSource
code
try
reloadClasses
String
name
catchClause
e
throw
org
gjt
sp
jedit
bsh
InterpreterError
e
return
classForName
name
classLoaderChanged
clearCaches
Vector
toRemove
Vector
for
forControl
Enumeration
e
elements
hasMoreElements
block
WeakReference
wr
WeakReference
nextElement
Listener
l
Listener
get
if
l
add
wr
classLoaderChanged
for
forControl
Enumeration
e
elements
hasMoreElements
removeElement
nextElement
dump
i
PrintWriter
println
println
println
baseLoader
println
loaderMap
println
println
baseClassPath
BshClassManager
