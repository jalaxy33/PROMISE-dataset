AutoDetection
getMarkedStream
BufferedInputStream
in
InputStream
int
bufferSize
getByteIOBufferSize
BufferedInputStream
markable
BufferedInputStream
in
bufferSize
assert
markSupported
mark
bufferSize
return
markable
isGzipped
boolean
sample
InputStream
int
magic1
GZIP_MAGIC
int
magic2
GZIP_MAGIC
return
read
magic1
read
magic2
getEncodingDetectors
List
EncodingDetector
List
EncodingDetector
detectors
ArrayList
EncodingDetector
String
propName
String
selectedDetectors
getProperty
propName
if
selectedDetectors
length
block
for
String
name
split
block
EncodingDetector
service
getEncodingDetectorService
name
if
service
block
add
service
block
log
ERROR
AutoDetection
name
return
detectors
getDetectedEncoding
String
markedStream
BufferedInputStream
List
EncodingDetector
detectors
getEncodingDetectors
for
EncodingDetector
detector
detectors
block
reset
String
detected
detectEncoding
BufferedInputStream
markedStream
if
detected
block
return
detected
return
Result
Result
in
InputStream
BufferedInputStream
marked
getMarkedStream
in
gzipped
isGzipped
marked
if
gzipped
block
reset
marked
getMarkedStream
GZIPInputStream
marked
reset
encoding
getDetectedEncoding
marked
markedStream
marked
getRewindedStream
BufferedInputStream
reset
return
markedStream
streamIsGzipped
boolean
return
gzipped
getDetectedEncoding
String
return
encoding
BufferedInputStream
markedStream
boolean
gzipped
String
encoding
getEncodingDetectorService
EncodingDetector
name
String
String
serviceClass
Object
service
getService
serviceClass
name
if
service
service
EncodingDetector
block
return
EncodingDetector
service
block
return
