EncodingWithBOM
EncodingWithBOM
plain
String
byte
bom
get
plain
if
bom
block
throw
UnsupportedCharsetException
plain
plain
CharsetEncoding
plain
bom
bom
getTextReader
Reader
in
InputStream
byte
actualMark
byte
length
int
count
read
actualMark
if
count
length
equals
actualMark
bom
block
throw
MalformedInputException
return
getTextReader
in
getTextWriter
Writer
out
OutputStream
write
bom
return
getTextWriter
out
getPermissiveTextReader
Reader
in
InputStream
byte
actualMark
byte
length
int
count
read
actualMark
if
count
length
equals
actualMark
bom
block
in
SequenceInputStream
ByteArrayInputStream
actualMark
count
in
return
getPermissiveTextReader
in
Detector
detectEncoding
String
sample
InputStream
byte
mark
byte
int
count
read
mark
byte
low
byte
BOM16
byte
high
byte
BOM16
if
count
block
if
mark
low
mark
high
mark
mark
block
return
if
mark
mark
mark
high
mark
low
block
return
if
count
block
if
mark
low
mark
high
block
return
if
mark
high
mark
low
block
return
if
count
length
block
int
i
while
i
length
block
if
mark
i
UTF8BOM
i
block
break
i
if
i
length
block
return
return
EncodingDetector
int
BOM16
byte
UTF8BOM
byte
byte
byte
Map
String
byte
bomMap
HashMap
String
byte
put
UTF8BOM
byte
low
byte
BOM16
byte
high
byte
BOM16
put
byte
low
high
put
byte
high
low
put
byte
low
high
put
byte
high
low
CharsetEncoding
plain
byte
bom
Encoding
