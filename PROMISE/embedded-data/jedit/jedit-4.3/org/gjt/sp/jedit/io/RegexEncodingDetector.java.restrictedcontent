RegexEncodingDetector
String
VALID_ENCODING_PATTERN
Pattern
pattern
String
replacement
RegexEncodingDetector
pattern
String
replacement
String
pattern
compile
pattern
replacement
replacement
detectEncoding
String
sample
InputStream
InputStreamReader
reader
InputStreamReader
sample
int
bufferSize
char
buffer
char
bufferSize
int
readSize
read
buffer
bufferSize
if
readSize
block
Matcher
matcher
matcher
wrap
buffer
readSize
while
find
block
String
extracted
extractReplacement
matcher
replacement
if
hasEncoding
extracted
block
return
extracted
return
extractReplacement
String
found
Matcher
replacement
String
int
found_start
start
int
found_end
end
int
source_length
found_end
found_start
StringBuffer
replaced
StringBuffer
found_start
source_length
appendReplacement
replaced
replacement
return
substring
found_start
EncodingDetector
