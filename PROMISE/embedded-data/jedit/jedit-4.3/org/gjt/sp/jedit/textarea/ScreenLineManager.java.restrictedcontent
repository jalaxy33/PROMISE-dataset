ScreenLineManager
ScreenLineManager
buffer
JEditBuffer
buffer
buffer
if
isLoading
reset
isScreenLineCountValid
boolean
line
int
return
screenLines
line
SCREEN_LINES_VALID_MASK
getScreenLineCount
int
line
int
return
screenLines
line
SCREEN_LINES_SHIFT
setScreenLineCount
line
int
count
int
if
count
MAX_VALUE
block
count
MAX_VALUE
if
SCREEN_LINES_DEBUG
log
DEBUG
Exception
line
count
screenLines
line
short
count
SCREEN_LINES_SHIFT
SCREEN_LINES_VALID_MASK
invalidateScreenLineCounts
int
lineCount
getLineCount
for
forControl
int
i
i
lineCount
i
screenLines
i
SCREEN_LINES_VALID_MASK
reset
screenLines
short
getLineCount
contentInserted
startLine
int
numLines
int
int
endLine
startLine
numLines
screenLines
startLine
SCREEN_LINES_VALID_MASK
int
lineCount
getLineCount
if
numLines
block
if
length
lineCount
block
short
screenLinesN
short
lineCount
arraycopy
screenLines
screenLinesN
length
screenLines
screenLinesN
arraycopy
screenLines
startLine
screenLines
endLine
lineCount
endLine
for
forControl
int
i
i
numLines
i
screenLines
startLine
i
contentRemoved
startLine
int
numLines
int
int
endLine
startLine
numLines
screenLines
startLine
SCREEN_LINES_VALID_MASK
if
numLines
endLine
length
block
arraycopy
screenLines
endLine
screenLines
startLine
length
endLine
int
SCREEN_LINES_SHIFT
int
SCREEN_LINES_VALID_MASK
JEditBuffer
buffer
short
screenLines
