InputMethodSupport
TextArea
owner
TextLayout
composedTextLayout
int
composedCaretX
int
lastCommittedAt
String
lastCommittedText
InputMethodSupport
owner
TextArea
owner
owner
addInputMethodListener
getPainter
addExtension
HIGHEST_LAYER
getCaretRectangle
Rectangle
x
int
y
int
TextAreaPainter
painter
getPainter
Point
origin
getLocationOnScreen
int
height
getFontMetrics
getHeight
return
Rectangle
x
x
y
y
height
paintValidLine
gfx
Graphics2D
screenLine
int
physicalLine
int
start
int
end
int
y
int
if
composedTextLayout
block
int
caret
getCaretPosition
if
start
caret
caret
end
block
TextAreaPainter
painter
getPainter
FontMetrics
fm
getFontMetrics
int
x
offsetToXY
x
caret
int
width
round
getAdvance
int
height
getHeight
int
offset_to_baseline
height
getLeading
getDescent
int
caret_x
x
composedCaretX
setColor
getBackground
fillRect
x
y
width
height
setColor
getForeground
draw
gfx
x
y
offset_to_baseline
setColor
getCaretColor
drawLine
caret_x
y
caret_x
y
height
getTextLocation
Rectangle
offset
TextHitInfo
if
composedTextLayout
block
Point
caret
offsetToXY
getCaretPosition
return
getCaretRectangle
x
composedCaretX
y
block
Selection
selection_on_caret
getSelectionAtOffset
getCaretPosition
if
selection_on_caret
block
Point
selection_start
offsetToXY
getStart
return
getCaretRectangle
x
y
return
getLocationOffset
TextHitInfo
x
int
y
int
if
composedTextLayout
block
Point
origin
getPainter
getLocationOnScreen
Point
caret
offsetToXY
getCaretPosition
float
local_x
x
x
x
float
local_y
y
y
y
getLeading
getAscent
return
hitTestChar
local_x
local_y
return
getInsertPositionOffset
int
return
getCaretPosition
getCommittedText
AttributedCharacterIterator
beginIndex
int
endIndex
int
attributes
AttributedCharacterIterator
Attribute
return
getIterator
AttributedString
getText
beginIndex
endIndex
beginIndex
getCommittedTextLength
int
return
getBufferLength
cancelLatestCommittedText
AttributedCharacterIterator
attributes
AttributedCharacterIterator
Attribute
if
lastCommittedText
block
int
offset
lastCommittedAt
int
length
length
String
sample
getText
offset
length
if
sample
equals
lastCommittedText
block
AttributedCharacterIterator
canceled
getIterator
AttributedString
sample
getBuffer
remove
offset
length
setCaretPosition
offset
lastCommittedText
return
canceled
lastCommittedText
return
getSelectedText
AttributedCharacterIterator
attributes
AttributedCharacterIterator
Attribute
Selection
selection_on_caret
getSelectionAtOffset
getCaretPosition
if
selection_on_caret
block
return
getIterator
AttributedString
getSelectedText
selection_on_caret
return
inputMethodTextChanged
event
InputMethodEvent
composedTextLayout
AttributedCharacterIterator
text
getText
if
text
block
int
committed_count
getCommittedCharacterCount
if
committed_count
block
lastCommittedText
lastCommittedAt
getCaretPosition
StringBuilder
committed
StringBuilder
committed_count
char
c
int
count
for
forControl
c
first
count
committed_count
c
DONE
count
c
next
count
block
userInput
c
append
c
lastCommittedText
toString
int
end_index
getEndIndex
if
committed_count
end_index
block
AttributedString
composed
AttributedString
text
committed_count
end_index
TextAreaPainter
painter
getPainter
addAttribute
FONT
getFont
composedTextLayout
TextLayout
getIterator
getFontRenderContext
caretPositionChanged
event
caretPositionChanged
event
InputMethodEvent
composedCaretX
if
composedTextLayout
block
TextHitInfo
caret
getCaret
if
caret
block
composedCaretX
round
getCaretInfo
caret
int
insertion_x
offsetToXY
x
getCaretPosition
TextHitInfo
visible
getVisiblePosition
int
composed_visible_x
visible
round
getCaretInfo
visible
composedCaretX
int
visible_x
insertion_x
composed_visible_x
int
painter_width
getPainter
getWidth
int
adjustment
if
visible_x
block
adjustment
visible_x
if
visible_x
painter_width
block
adjustment
visible_x
painter_width
if
adjustment
block
setHorizontalOffset
getHorizontalOffset
adjustment
block
scrollToCaret
int
caret_line
getCaretLine
invalidateLineRange
caret_line
caret_line
consume
TextAreaExtension
InputMethodRequests
InputMethodListener
