TemporaryData
Log
log
getLog
TemporaryData
OutputStreamImpl
FileOutputStream
fileOutputStream
write
b
byte
off
int
len
int
if
fileOutputStream
block
write
b
off
len
if
len
length
chunkIndex
chunkSize
chunkOffset
block
fileOutputStream
switchToTempFile
write
b
off
len
block
while
len
block
byte
chunk
getCurrentChunk
int
c
min
len
chunkSize
chunkOffset
arraycopy
b
off
chunk
chunkOffset
c
len
c
off
c
chunkOffset
c
if
chunkOffset
chunkSize
block
chunkIndex
chunkOffset
write
b
byte
write
b
length
write
b
int
write
byte
byte
b
flush
if
fileOutputStream
block
flush
close
if
fileOutputStream
block
close
OutputStream
InputStreamImpl
int
currentChunkIndex
int
currentChunkOffset
int
markChunkIndex
int
markChunkOffset
available
int
return
chunkIndex
currentChunkIndex
chunkSize
chunkOffset
currentChunkOffset
read
int
b
byte
off
int
len
int
if
len
block
return
int
read
while
len
currentChunkIndex
chunkIndex
currentChunkOffset
chunkOffset
block
int
c
if
currentChunkIndex
chunkIndex
block
c
min
len
chunkOffset
currentChunkOffset
block
c
min
len
chunkSize
currentChunkOffset
arraycopy
chunks
currentChunkIndex
currentChunkOffset
b
off
c
len
c
off
c
currentChunkOffset
c
read
c
if
currentChunkOffset
chunkSize
block
currentChunkIndex
currentChunkOffset
if
read
block
return
block
return
read
read
int
b
byte
return
read
b
length
read
int
byte
b
byte
return
read
b
int
b
markSupported
boolean
return
mark
readlimit
int
markChunkIndex
currentChunkIndex
markChunkOffset
currentChunkOffset
reset
currentChunkIndex
markChunkIndex
currentChunkOffset
markChunkOffset
skip
long
n
long
int
available
available
int
c
n
available
int
n
available
int
newOffset
currentChunkOffset
c
int
chunkDelta
newOffset
chunkSize
currentChunkIndex
chunkDelta
currentChunkOffset
newOffset
chunkDelta
chunkSize
return
c
close
InputStream
int
chunkSize
String
tempPrefix
String
tempSuffix
byte
chunks
int
chunkIndex
int
chunkOffset
File
temporaryFile
TemporaryData
numberOfChunks
int
chunkSize
int
tempPrefix
String
tempSuffix
String
chunkSize
chunkSize
tempPrefix
tempPrefix
tempSuffix
tempSuffix
chunks
byte
numberOfChunks
getCurrentChunk
byte
if
chunkOffset
block
byte
chunk
byte
chunkSize
chunks
chunkIndex
chunk
return
chunk
block
return
chunks
chunkIndex
switchToTempFile
FileOutputStream
temporaryFile
createTempFile
tempPrefix
tempSuffix
if
isDebugEnabled
block
debug
temporaryFile
deleteOnExit
FileOutputStream
fileOutputStream
FileOutputStream
temporaryFile
for
forControl
int
i
i
chunkIndex
i
block
write
chunks
i
if
chunkOffset
block
write
chunks
chunkIndex
chunkOffset
chunks
return
fileOutputStream
getOutputStream
OutputStream
return
OutputStreamImpl
readFrom
in
InputStream
while
block
int
c
read
getCurrentChunk
chunkOffset
chunkSize
chunkOffset
if
c
block
break
chunkOffset
c
if
chunkOffset
chunkSize
block
chunkIndex
chunkOffset
if
chunkIndex
length
block
FileOutputStream
fileOutputStream
switchToTempFile
copy
in
fileOutputStream
close
break
getInputStream
InputStream
if
temporaryFile
block
return
FileInputStream
temporaryFile
block
return
InputStreamImpl
writeTo
out
OutputStream
if
temporaryFile
block
FileInputStream
in
FileInputStream
temporaryFile
try
copy
in
out
close
block
for
forControl
int
i
i
chunkIndex
i
block
write
chunks
i
if
chunkOffset
block
write
chunks
chunkIndex
chunkOffset
getLength
long
if
temporaryFile
block
return
length
block
return
chunkIndex
chunkSize
chunkOffset
release
if
temporaryFile
block
if
isDebugEnabled
block
debug
temporaryFile
deleteQuietly
temporaryFile
temporaryFile
finalize
if
temporaryFile
block
warn
temporaryFile
deleteQuietly
temporaryFile
