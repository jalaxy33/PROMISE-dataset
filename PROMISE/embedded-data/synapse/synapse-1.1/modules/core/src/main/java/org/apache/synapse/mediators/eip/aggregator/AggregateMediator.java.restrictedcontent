AggregateMediator
Log
log
getLog
AggregateMediator
long
completionTimeoutMillis
int
minMessagesToComplete
int
maxMessagesToComplete
SynapseXPath
correlateExpression
SynapseXPath
aggregationExpression
String
onCompleteSequenceRef
SequenceMediator
onCompleteSequence
Map
String
Aggregate
activeAggregates
synchronizedMap
HashMap
String
Aggregate
String
id
Object
lock
Object
AggregateMediator
try
aggregationExpression
SynapseXPath
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
catchClause
e
if
isDebugEnabled
block
handleException
e
init
se
SynapseEnvironment
if
onCompleteSequence
block
init
se
destroy
if
onCompleteSequence
block
destroy
mediate
boolean
synCtx
MessageContext
SynapseLog
synLog
getLog
synCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
if
isTraceTraceEnabled
block
traceTrace
getEnvelope
try
Aggregate
aggregate
String
correlationIdName
id
AGGREGATE_CORRELATION
id
AGGREGATE_CORRELATION
if
correlateExpression
evaluate
synCtx
block
while
aggregate
block
synchronized
lock
if
containsKey
toString
block
aggregate
get
toString
if
aggregate
block
if
getLock
block
aggregate
block
if
isTraceOrDebugEnabled
block
traceOrDebug
completionTimeoutMillis
completionTimeoutMillis
aggregate
Aggregate
getEnvironment
toString
completionTimeoutMillis
minMessagesToComplete
maxMessagesToComplete
if
completionTimeoutMillis
block
getConfiguration
getSynapseTimer
schedule
aggregate
completionTimeoutMillis
getLock
put
toString
aggregate
if
getProperty
correlationIdName
block
Object
o
getProperty
correlationIdName
String
correlation
if
o
o
String
block
correlation
String
o
while
aggregate
block
synchronized
lock
if
containsKey
correlation
block
aggregate
get
correlation
if
aggregate
block
if
getLock
block
aggregate
block
break
block
if
isTraceOrDebugEnabled
block
traceOrDebug
completionTimeoutMillis
completionTimeoutMillis
aggregate
Aggregate
getEnvironment
correlation
completionTimeoutMillis
minMessagesToComplete
maxMessagesToComplete
if
completionTimeoutMillis
block
synchronized
aggregate
if
isCompleted
block
getConfiguration
getSynapseTimer
schedule
aggregate
completionTimeoutMillis
getLock
put
correlation
aggregate
block
traceOrDebug
return
block
traceOrDebug
return
if
aggregate
block
boolean
collected
addMessage
synCtx
if
isTraceOrDebugEnabled
block
if
collected
block
traceOrDebug
if
isTraceTraceEnabled
block
traceTrace
synCtx
if
isComplete
synLog
block
traceOrDebug
completeAggregate
aggregate
traceOrDebug
return
block
releaseLock
block
traceOrDebug
return
catchClause
e
handleException
e
synCtx
traceOrDebug
return
completeAggregate
aggregate
Aggregate
boolean
markedCompletedNow
boolean
wasComplete
isCompleted
if
wasComplete
block
return
if
isDebugEnabled
block
debug
synchronized
if
isCompleted
block
cancel
setCompleted
markedCompletedNow
if
markedCompletedNow
block
return
MessageContext
newSynCtx
getAggregatedMessage
aggregate
if
newSynCtx
block
warn
return
remove
getCorrelation
if
correlateExpression
toString
equals
getCorrelation
correlateExpression
block
if
onCompleteSequence
block
mediate
newSynCtx
if
onCompleteSequenceRef
getSequence
onCompleteSequenceRef
block
getSequence
mediate
newSynCtx
onCompleteSequenceRef
block
handleException
newSynCtx
getAggregatedMessage
MessageContext
aggregate
Aggregate
MessageContext
newCtx
for
MessageContext
synCtx
getMessages
block
if
newCtx
block
newCtx
synCtx
if
isDebugEnabled
block
debug
getEnvelope
block
try
if
isDebugEnabled
block
debug
getEnvelope
aggregationExpression
enrichEnvelope
getEnvelope
getEnvelope
synCtx
aggregationExpression
if
isDebugEnabled
block
debug
getEnvelope
catchClause
e
handleException
toString
e
synCtx
return
newCtx
getCorrelateExpression
SynapseXPath
return
correlateExpression
setCorrelateExpression
correlateExpression
SynapseXPath
correlateExpression
correlateExpression
getCompletionTimeoutMillis
long
return
completionTimeoutMillis
setCompletionTimeoutMillis
completionTimeoutMillis
long
completionTimeoutMillis
completionTimeoutMillis
getMinMessagesToComplete
int
return
minMessagesToComplete
setMinMessagesToComplete
minMessagesToComplete
int
minMessagesToComplete
minMessagesToComplete
getMaxMessagesToComplete
int
return
maxMessagesToComplete
setMaxMessagesToComplete
maxMessagesToComplete
int
maxMessagesToComplete
maxMessagesToComplete
getAggregationExpression
SynapseXPath
return
aggregationExpression
setAggregationExpression
aggregationExpression
SynapseXPath
aggregationExpression
aggregationExpression
getOnCompleteSequenceRef
String
return
onCompleteSequenceRef
setOnCompleteSequenceRef
onCompleteSequenceRef
String
onCompleteSequenceRef
onCompleteSequenceRef
getOnCompleteSequence
SequenceMediator
return
onCompleteSequence
setOnCompleteSequence
onCompleteSequence
SequenceMediator
onCompleteSequence
onCompleteSequence
getActiveAggregates
Map
return
activeAggregates
getId
String
return
id
setId
id
String
id
id
AbstractMediator
ManagedLifecycle
