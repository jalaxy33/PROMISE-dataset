SALoadbalanceEndpoint
Dispatcher
dispatcher
long
sessionTimeout
init
synapseEnvironment
SynapseEnvironment
ConfigurationContext
cc
Axis2SynapseEnvironment
synapseEnvironment
if
initialized
block
init
synapseEnvironment
SALSessions
salSessions
getInstance
if
isInitialized
block
initialize
isClusteringEnabled
cc
if
isClusteringEnabled
getParentEndpoint
getParentEndpoint
SALoadbalanceEndpoint
block
getInstance
registerChildren
getChildren
send
synCtx
MessageContext
if
isDebugEnabled
block
debug
getName
SessionInformation
sessionInformation
SessionInformation
getProperty
PROP_SAL_CURRENT_SESSION_INFORMATION
List
Endpoint
endpoints
List
Endpoint
getProperty
PROP_SAL_ENDPOINT_CURRENT_ENDPOINT_LIST
if
dispatcher
HttpSessionDispatcher
block
try
buildMessage
Axis2MessageContext
synCtx
catchClause
e
handleException
e
evaluateProperties
synCtx
if
sessionInformation
endpoints
block
sessionInformation
getSession
synCtx
if
sessionInformation
block
if
isDebugEnabled
block
debug
getId
endpoints
getEndpoints
sessionInformation
if
isDebugEnabled
block
debug
endpoints
setProperty
PROP_SAL_ENDPOINT_CURRENT_ENDPOINT_LIST
endpoints
setProperty
PROP_SAL_CURRENT_SESSION_INFORMATION
sessionInformation
if
sessionInformation
endpoints
block
sendMessageOnCurrentSession
getId
endpoints
synCtx
block
sendMessageOnNewSession
synCtx
getDispatcher
Dispatcher
return
dispatcher
setDispatcher
dispatcher
Dispatcher
dispatcher
dispatcher
onChildEndpointFail
endpoint
Endpoint
synCtx
MessageContext
logOnChildEndpointFail
endpoint
synCtx
Object
o
getProperty
PROP_SAL_ENDPOINT_FIRST_MESSAGE_IN_SESSION
if
o
equals
o
AbstractEndpoint
endpoint
block
unbind
synCtx
Object
epListObj
getProperty
PROP_SAL_ENDPOINT_ENDPOINT_LIST
if
epListObj
List
block
List
Endpoint
endpointList
List
Endpoint
epListObj
if
isEmpty
block
if
get
block
clear
block
if
contains
block
int
lastIndex
indexOf
List
Endpoint
head
subList
lastIndex
size
clear
send
synCtx
block
informFailure
synCtx
ENDPOINT_SAL_FAILED_SESSION
endpoint
sendMessageOnCurrentSession
sessionID
String
endpoints
List
Endpoint
synCtx
MessageContext
Endpoint
endpoint
boolean
invalidSequence
if
isEmpty
block
invalidSequence
block
if
contains
block
int
length
size
if
length
block
int
beginIndex
lastIndexOf
if
beginIndex
length
block
invalidSequence
block
endpoints
subList
beginIndex
length
if
isEmpty
block
endpoint
remove
block
invalidSequence
block
invalidSequence
block
endpoint
remove
if
invalidSequence
block
informFailure
synCtx
ENDPOINT_SAL_INVALID_PATH
endpoints
sessionID
return
if
endpoint
readyToSend
block
if
isDebugEnabled
block
debug
endpoint
pushFaultHandler
send
synCtx
block
informFailure
synCtx
ENDPOINT_SAL_NOT_READY
endpoint
sessionID
sendMessageOnNewSession
synCtx
MessageContext
Endpoint
endpoint
getNextChild
synCtx
if
endpoint
block
informFailure
synCtx
ENDPOINT_LB_NONE_READY
getName
block
prepareEndPointSequence
synCtx
endpoint
getEnvelope
build
setProperty
PROP_SAL_ENDPOINT_FIRST_MESSAGE_IN_SESSION
TRUE
pushFaultHandler
send
synCtx
prepareEndPointSequence
synCtx
MessageContext
endpoint
Endpoint
Object
o
getProperty
PROP_SAL_ENDPOINT_ENDPOINT_LIST
List
Endpoint
endpointList
if
o
List
block
endpointList
List
Endpoint
o
add
block
endpointList
ArrayList
Endpoint
add
setProperty
PROP_SAL_ENDPOINT_ENDPOINT_LIST
endpointList
setProperty
PROP_SAL_ENDPOINT_CURRENT_DISPATCHER
dispatcher
if
endpoint
SALoadbalanceEndpoint
block
add
endpoint
if
isServerInitiatedSession
block
removeSessionID
synCtx
getSessionTimeout
long
return
sessionTimeout
setSessionTimeout
sessionTimeout
long
sessionTimeout
sessionTimeout
LoadbalanceEndpoint
