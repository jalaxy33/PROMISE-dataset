InMemoryMessageStore
Log
log
getLog
InMemoryMessageStore
Queue
MessageContext
messageList
ConcurrentLinkedQueue
MessageContext
Lock
lock
ReentrantLock
offer
boolean
messageContext
MessageContext
lock
try
if
messageContext
block
getEnvelope
build
offer
messageContext
notifyMessageAddition
getMessageID
if
isDebugEnabled
block
debug
getMessageID
unlock
return
poll
MessageContext
lock
try
MessageContext
context
poll
if
context
block
notifyMessageRemoval
getMessageID
return
context
unlock
peek
MessageContext
return
peek
remove
MessageContext
lock
try
MessageContext
msgCtx
remove
if
msgCtx
block
notifyMessageRemoval
getMessageID
return
msgCtx
unlock
get
MessageContext
index
int
lock
try
if
index
index
size
block
int
i
for
MessageContext
msgCtx
messageList
block
if
index
i
block
return
msgCtx
i
return
unlock
remove
MessageContext
messageID
String
lock
try
if
messageID
block
MessageContext
removable
for
MessageContext
msgCtx
messageList
block
if
getMessageID
equals
messageID
block
removable
msgCtx
break
if
removable
remove
removable
block
notifyMessageRemoval
messageID
unlock
return
clear
lock
try
while
isEmpty
block
remove
unlock
getAll
List
MessageContext
lock
try
List
MessageContext
returnList
ArrayList
MessageContext
addAll
messageList
return
returnList
unlock
get
MessageContext
messageId
String
lock
try
if
messageId
block
for
MessageContext
msgCtx
messageList
block
if
getMessageID
equals
messageId
block
return
msgCtx
unlock
return
size
int
return
size
AbstractMessageStore
