ForwardingJob
Log
log
getLog
ForwardingJob
execute
jobExecutionContext
JobExecutionContext
JobDataMap
jdm
getMergedJobDataMap
MessageStore
messageStore
MessageStore
get
MESSAGE_STORE
Map
String
Object
parameters
Map
String
Object
get
PARAMETERS
Axis2BlockingClient
sender
Axis2BlockingClient
get
BLOCKING_SENDER
ScheduledMessageForwardingProcessor
processor
ScheduledMessageForwardingProcessor
get
PROCESSOR_INSTANCE
int
maxDeliverAttempts
String
mdaParam
if
parameters
block
mdaParam
String
get
MAX_DELIVER_ATTEMPTS
if
mdaParam
block
maxDeliverAttempts
parseInt
mdaParam
if
maxDeliverAttempts
block
deactivate
if
isActive
messageStore
block
return
boolean
errorStop
while
errorStop
block
MessageContext
messageContext
peek
if
messageContext
block
String
serverName
String
getProperty
SYNAPSE_SERVER_NAME
if
serverName
messageContext
Axis2MessageContext
block
AxisConfiguration
configuration
Axis2MessageContext
messageContext
String
myServerName
getAxis2ParameterValue
configuration
SYNAPSE_SERVER_NAME
if
equals
myServerName
block
return
Set
proSet
getPropertyKeySet
if
proSet
block
if
contains
BLOCKING_CLIENT_ERROR
block
remove
BLOCKING_CLIENT_ERROR
String
targetEp
String
getProperty
TARGET_ENDPOINT
if
targetEp
block
Endpoint
ep
getEndpoint
targetEp
if
getContext
readyToSend
block
return
if
ep
AbstractEndpoint
ep
block
try
MessageContext
outCtx
send
ep
messageContext
if
outCtx
equals
getProperty
BLOCKING_CLIENT_ERROR
block
if
maxDeliverAttempts
block
incrementSendAttemptCount
if
parameters
get
FAULT_SEQUENCE
block
String
seq
String
get
FAULT_SEQUENCE
Mediator
mediator
getSequence
seq
if
mediator
block
mediate
outCtx
block
warn
seq
if
maxDeliverAttempts
block
if
getSendAttemptCount
maxDeliverAttempts
block
deactivate
processor
messageContext
parameters
errorStop
continue
if
outCtx
block
poll
resetSentAttemptCount
continue
if
parameters
get
REPLY_SEQUENCE
block
if
outCtx
block
String
seq
String
get
REPLY_SEQUENCE
Mediator
mediator
getSequence
seq
if
mediator
block
mediate
outCtx
block
warn
seq
resetSentAttemptCount
poll
catchClause
e
if
maxDeliverAttempts
block
incrementSendAttemptCount
if
getSendAttemptCount
maxDeliverAttempts
block
deactivate
processor
messageContext
parameters
errorStop
error
e
continue
block
String
logMsg
if
ep
block
logMsg
targetEp
block
logMsg
warn
logMsg
poll
block
warn
TARGET_ENDPOINT
poll
block
errorStop
getAxis2ParameterValue
String
axisConfiguration
AxisConfiguration
paramKey
String
Parameter
parameter
getParameter
paramKey
if
parameter
block
return
Object
value
getValue
if
value
value
String
block
return
String
getValue
block
return
deactivate
processor
ScheduledMessageForwardingProcessor
msgContext
MessageContext
parameters
Map
String
Object
deactivate
if
parameters
get
DEACTIVATE_SEQUENCE
block
if
msgContext
block
String
seq
String
get
DEACTIVATE_SEQUENCE
Mediator
mediator
getSequence
seq
if
mediator
block
mediate
msgContext
block
warn
seq
StatefulJob
