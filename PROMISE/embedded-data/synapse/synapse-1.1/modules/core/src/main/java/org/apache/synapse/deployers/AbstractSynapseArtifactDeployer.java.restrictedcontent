AbstractSynapseArtifactDeployer
Log
log
getLog
AbstractSynapseArtifactDeployer
Log
deployerLog
ConfigurationContext
cfgCtx
AbstractSynapseArtifactDeployer
deployerLog
getLog
getClass
init
configCtx
ConfigurationContext
cfgCtx
configCtx
isHotDeploymentEnabled
boolean
try
return
getSynapseConfiguration
isAllowHotUpdate
catchClause
e
warn
e
return
deploy
deploymentFileData
DeploymentFileData
String
filename
getNormalizedAbsolutePath
getAbsolutePath
if
isDebugEnabled
block
debug
filename
if
getServerContextInformation
getServerState
STARTED
block
if
isDebugEnabled
block
debug
getAbsolutePath
return
if
isHotDeploymentEnabled
block
if
isDebugEnabled
block
debug
return
SynapseArtifactDeploymentStore
deploymentStore
getSynapseConfiguration
getArtifactDeploymentStore
if
isRestoredFile
filename
block
if
isDebugEnabled
block
debug
filename
removeRestoredFile
filename
return
try
InputStream
in
openInputStream
File
filename
try
OMElement
element
createOMBuilder
getDocumentElement
in
Properties
properties
Properties
put
RESOLVE_ROOT
getSynapseEnvironment
getServerContextInformation
getServerConfigurationInformation
getResolveRoot
String
artifactName
if
isUpdatingArtifact
filename
block
if
isDebugEnabled
block
debug
filename
String
existingArtifactName
getUpdatingArtifactWithFileName
filename
removeUpdatingArtifact
filename
try
artifactName
updateSynapseArtifact
element
filename
existingArtifactName
properties
catchClause
sade
error
filename
sade
info
backupFile
getFile
info
filename
restoreSynapseArtifact
existingArtifactName
artifactName
existingArtifactName
block
try
artifactName
deploySynapseArtifact
element
filename
properties
catchClause
sade
error
filename
sade
info
backupFile
getFile
if
artifactName
block
addArtifact
filename
artifactName
close
catchClause
ex
handleDeploymentError
filename
getMessage
ex
filename
catchClause
ex
handleDeploymentError
filename
getMessage
ex
filename
if
isDebugEnabled
block
debug
filename
undeploy
fileName
String
if
isHotDeploymentEnabled
block
if
isDebugEnabled
block
debug
return
fileName
getNormalizedAbsolutePath
fileName
if
isDebugEnabled
block
debug
fileName
SynapseArtifactDeploymentStore
deploymentStore
getSynapseConfiguration
getArtifactDeploymentStore
if
isBackedUpArtifact
fileName
block
if
isDebugEnabled
block
debug
fileName
removeBackedUpArtifact
fileName
return
if
containsFileName
fileName
block
File
undeployingFile
File
fileName
if
exists
block
if
isDebugEnabled
block
debug
fileName
if
isRestoredFile
fileName
block
addUpdatingArtifact
fileName
getArtifactNameForFile
fileName
removeArtifactWithFileName
fileName
block
String
artifactName
getArtifactNameForFile
fileName
try
undeploySynapseArtifact
artifactName
removeArtifactWithFileName
fileName
catchClause
sade
error
fileName
sade
info
fileName
restoreSynapseArtifact
artifactName
block
String
msg
fileName
error
msg
throw
DeploymentException
msg
if
isDebugEnabled
block
debug
fileName
setDirectory
directory
String
setExtension
extension
String
deploySynapseArtifact
String
artifactConfig
OMElement
fileName
String
properties
Properties
updateSynapseArtifact
String
artifactConfig
OMElement
fileName
String
existingArtifactName
String
properties
Properties
undeploySynapseArtifact
artifactName
String
restoreSynapseArtifact
artifactName
String
getSynapseConfiguration
SynapseConfiguration
Parameter
synCfgParam
getAxisConfiguration
getParameter
SYNAPSE_CONFIG
if
synCfgParam
block
throw
DeploymentException
return
SynapseConfiguration
getValue
getSynapseEnvironment
SynapseEnvironment
Parameter
synCfgParam
getAxisConfiguration
getParameter
SYNAPSE_ENV
if
synCfgParam
block
throw
DeploymentException
return
SynapseEnvironment
getValue
getServerConfigurationInformation
ServerConfigurationInformation
Parameter
serverCfgParam
getAxisConfiguration
getParameter
SYNAPSE_SERVER_CONFIG_INFO
if
serverCfgParam
block
throw
DeploymentException
return
ServerConfigurationInformation
getValue
getServerContextInformation
ServerContextInformation
Parameter
serverCtxParam
getAxisConfiguration
getParameter
SYNAPSE_SERVER_CTX_INFO
if
serverCtxParam
block
throw
DeploymentException
return
ServerContextInformation
getValue
writeToFile
content
OMElement
fileName
String
SynapseArtifactDeploymentStore
deploymentStore
getSynapseConfiguration
getArtifactDeploymentStore
addRestoredArtifact
fileName
OutputStream
out
openOutputStream
File
fileName
prettify
content
out
flush
close
waitForCompletion
long
timeout
Parameter
param
getAxisConfiguration
getParameter
if
param
getValue
block
timeout
parseLong
getValue
toString
try
sleep
timeout
catchClause
ignored
handleSynapseArtifactDeploymentError
msg
String
error
msg
throw
SynapseArtifactDeploymentException
msg
handleSynapseArtifactDeploymentError
msg
String
e
Exception
error
msg
e
throw
SynapseArtifactDeploymentException
msg
e
handleDeploymentError
msg
String
e
Exception
fileName
String
fileName
getNormalizedAbsolutePath
fileName
error
msg
e
SynapseArtifactDeploymentStore
deploymentStore
getSynapseConfiguration
getArtifactDeploymentStore
if
isUpdatingArtifact
fileName
block
backupFile
File
fileName
info
fileName
restoreSynapseArtifact
getUpdatingArtifactWithFileName
fileName
addArtifact
fileName
getUpdatingArtifactWithFileName
fileName
removeUpdatingArtifact
fileName
backupFile
String
file
File
String
filePath
getNormalizedAbsolutePath
getAbsolutePath
SynapseArtifactDeploymentStore
deploymentStore
getSynapseConfiguration
getArtifactDeploymentStore
addBackedUpArtifact
filePath
String
backupFilePath
filePath
int
backupIndex
while
backupIndex
block
if
exists
File
backupFilePath
block
backupIndex
backupFilePath
filePath
backupIndex
block
backupIndex
try
moveFile
file
File
backupFilePath
catchClause
e
handleSynapseArtifactDeploymentError
getName
e
return
backupFilePath
AbstractDeployer
