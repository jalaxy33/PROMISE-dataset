AbstractDBMediator
DataSourceInformation
dataSourceInformation
String
dataSourceName
Properties
jndiProperties
Properties
DataSource
dataSource
DBPoolView
dbPoolView
List
Statement
statementList
ArrayList
Statement
Map
Object
String
dataSourceProps
HashMap
Object
String
init
se
SynapseEnvironment
if
dataSourceName
block
dataSource
lookupDataSource
dataSourceName
jndiProperties
if
dataSourceInformation
block
dataSource
createCustomDataSource
dataSourceInformation
destroy
if
dataSourceName
block
return
if
dataSource
BasicDataSource
block
try
BasicDataSource
dataSource
info
getDSName
catchClause
e
warn
getDSName
if
dataSource
PerUserPoolDataSource
block
PerUserPoolDataSource
dataSource
info
getDSName
mediate
boolean
synCtx
MessageContext
String
name
DBLookupMediator
SynapseLog
synLog
getLog
synCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
name
if
isTraceTraceEnabled
block
traceTrace
getEnvelope
for
Statement
aStatement
statementList
block
if
aStatement
block
processStatement
aStatement
synCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
name
return
processStatement
query
Statement
msgCtx
MessageContext
getDSName
String
if
dataSourceName
block
return
dataSourceName
if
dataSourceInformation
block
String
name
getUrl
if
name
block
name
getDatasourceName
return
name
return
setDataSourceInformation
dataSourceInformation
DataSourceInformation
dataSourceInformation
dataSourceInformation
setJndiProperties
jndiProperties
Properties
jndiProperties
jndiProperties
getDataSource
DataSource
return
dataSource
setDataSource
dataSource
DataSource
dataSource
dataSource
setDataSourceName
dataSourceName
String
dataSourceName
dataSourceName
addDataSourceProperty
name
QName
value
String
put
name
value
addDataSourceProperty
name
String
value
String
put
name
value
addStatement
stmnt
Statement
add
stmnt
getStatementList
List
Statement
return
statementList
getDbPoolView
DBPoolView
return
dbPoolView
setDbPoolView
dbPoolView
DBPoolView
dbPoolView
dbPoolView
getPreparedStatement
PreparedStatement
stmnt
Statement
con
Connection
msgCtx
MessageContext
SynapseLog
synLog
getLog
msgCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
getDSName
getRawStatement
if
con
block
String
msg
getDSName
error
msg
throw
SynapseException
msg
if
dataSource
BasicDataSource
block
BasicDataSource
basicDataSource
BasicDataSource
dataSource
int
numActive
getNumActive
int
numIdle
getNumIdle
String
connectionId
toHexString
hashCode
DBPoolView
dbPoolView
getDbPoolView
if
dbPoolView
block
setNumActive
numActive
setNumIdle
numIdle
updateConnectionUsage
connectionId
if
isTraceOrDebugEnabled
block
traceOrDebug
con
traceOrDebug
connectionId
traceOrDebug
numActive
traceOrDebug
numIdle
PreparedStatement
ps
prepareStatement
getRawStatement
List
Statement
Parameter
params
getParameters
int
column
for
Statement
Parameter
param
params
block
if
param
block
continue
String
value
getPropertyName
getPropertyName
getXpath
stringValueOf
msgCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
column
value
getType
switch
getType
case
CHAR
VARCHAR
LONGVARCHAR
block
if
value
length
block
setString
column
value
block
setString
column
break
case
NUMERIC
DECIMAL
block
if
value
length
block
setBigDecimal
column
BigDecimal
value
block
setBigDecimal
column
break
case
BIT
block
if
value
length
block
setBoolean
column
parseBoolean
value
block
setNull
column
BIT
break
case
TINYINT
block
if
value
length
block
setByte
column
parseByte
value
block
setNull
column
TINYINT
break
case
SMALLINT
block
if
value
length
block
setShort
column
parseShort
value
block
setNull
column
SMALLINT
break
case
INTEGER
block
if
value
length
block
setInt
column
parseInt
value
block
setNull
column
INTEGER
break
case
BIGINT
block
if
value
length
block
setLong
column
parseLong
value
block
setNull
column
BIGINT
break
case
REAL
block
if
value
length
block
setFloat
column
parseFloat
value
block
setNull
column
REAL
break
case
FLOAT
block
if
value
length
block
setDouble
column
parseDouble
value
block
setNull
column
FLOAT
break
case
DOUBLE
block
if
value
length
block
setDouble
column
parseDouble
value
block
setNull
column
DOUBLE
break
case
DATE
block
if
value
length
block
setDate
column
valueOf
value
block
setNull
column
DATE
break
case
TIME
block
if
value
length
block
setTime
column
valueOf
value
block
setNull
column
TIME
break
case
TIMESTAMP
block
if
value
length
block
setTimestamp
column
valueOf
value
block
setNull
column
TIMESTAMP
break
case
block
String
msg
getType
column
getRawStatement
getDSName
handleException
msg
msgCtx
if
isTraceOrDebugEnabled
block
traceOrDebug
getRawStatement
getDSName
return
ps
lookupDataSource
DataSource
dataSourceName
String
jndiProperties
Properties
DataSource
dataSource
RepositoryBasedDataSourceFinder
finder
getInstance
getRepositoryBasedDataSourceFinder
if
isInitialized
block
dataSource
find
dataSourceName
if
dataSource
block
String
password
getProperty
SECURITY_CREDENTIALS
if
password
equals
password
block
put
SECURITY_CREDENTIALS
getActualPassword
password
dataSource
find
dataSourceName
jndiProperties
if
dataSource
block
handleException
dataSourceName
jndiProperties
MBeanRepository
mBeanRepository
getInstance
Object
mBean
getMBean
dataSourceName
if
mBean
DBPoolView
block
setDbPoolView
DBPoolView
mBean
info
dataSourceName
return
dataSource
createCustomDataSource
DataSource
dataSourceInformation
DataSourceInformation
DataSource
dataSource
createDataSource
dataSourceInformation
if
dataSource
block
info
getUrl
return
dataSource
getActualPassword
String
aliasPasword
String
SecretManager
secretManager
getInstance
if
isInitialized
block
return
getSecret
aliasPasword
return
aliasPasword
handleException
message
String
getLog
error
message
getClass
throw
SynapseException
message
getDataSourceProps
Map
Object
String
return
dataSourceProps
AbstractMediator
ManagedLifecycle
