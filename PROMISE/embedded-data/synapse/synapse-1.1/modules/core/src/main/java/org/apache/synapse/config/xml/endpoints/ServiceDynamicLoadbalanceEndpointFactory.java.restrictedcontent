ServiceDynamicLoadbalanceEndpointFactory
ServiceDynamicLoadbalanceEndpointFactory
instance
ServiceDynamicLoadbalanceEndpointFactory
QName
SERVICES_QNAME
QName
SYNAPSE_NAMESPACE
QName
LB_CONFIG_QNAME
QName
SYNAPSE_NAMESPACE
ServiceDynamicLoadbalanceEndpointFactory
getInstance
ServiceDynamicLoadbalanceEndpointFactory
return
instance
createEndpoint
Endpoint
epConfig
OMElement
anonymousEndpoint
boolean
properties
Properties
OMElement
loadbalanceElement
getFirstChildWithName
QName
SYNAPSE_NAMESPACE
if
loadbalanceElement
block
return
String
configuration
getAttributeValue
QName
NULL_NAMESPACE
OMElement
servicesEle
if
configuration
block
if
startsWith
block
configuration
getProperty
substring
length
OMXMLParserWrapper
builder
try
builder
createOMBuilder
openStream
URL
configuration
catchClause
e
handleException
configuration
servicesEle
getDocumentElement
getFirstChildWithName
SERVICES_QNAME
block
OMElement
lbConfigEle
getFirstChildWithName
LB_CONFIG_QNAME
if
lbConfigEle
block
throw
RuntimeException
servicesEle
getFirstChildWithName
SERVICES_QNAME
if
servicesEle
block
throw
RuntimeException
Map
String
String
hostDomainMap
HashMap
String
String
for
forControl
Iterator
OMElement
iter
getChildrenWithLocalName
hasNext
block
OMElement
serviceEle
next
OMElement
hostsEle
getFirstChildWithName
QName
SYNAPSE_NAMESPACE
if
hostsEle
block
throw
RuntimeException
List
String
hosts
ArrayList
String
for
forControl
Iterator
OMElement
hostIter
getChildrenWithLocalName
hasNext
block
OMElement
hostEle
next
String
host
getText
if
trim
length
block
throw
RuntimeException
add
host
OMElement
domainEle
getFirstChildWithName
QName
SYNAPSE_NAMESPACE
if
domainEle
block
throw
RuntimeException
String
domain
getText
if
trim
length
block
throw
RuntimeException
for
String
host
hosts
block
if
containsKey
host
block
throw
RuntimeException
host
get
host
put
host
domain
if
isEmpty
block
throw
RuntimeException
LoadbalanceAlgorithm
algorithm
createLoadbalanceAlgorithm
loadbalanceElement
ServiceDynamicLoadbalanceEndpoint
loadbalanceEndpoint
ServiceDynamicLoadbalanceEndpoint
hostDomainMap
algorithm
OMAttribute
name
getAttribute
QName
NULL_NAMESPACE
if
name
block
setName
getAttributeValue
OMElement
sessionElement
getFirstChildWithName
QName
SYNAPSE_NAMESPACE
if
sessionElement
block
OMElement
sessionTimeout
getFirstChildWithName
QName
SYNAPSE_NAMESPACE
if
sessionTimeout
block
try
setSessionTimeout
parseLong
getText
trim
catchClause
nfe
handleException
getText
String
type
getAttributeValue
QName
if
equalsIgnoreCase
block
Dispatcher
soapDispatcher
SoapSessionDispatcher
setDispatcher
soapDispatcher
if
equalsIgnoreCase
block
Dispatcher
httpDispatcher
HttpSessionDispatcher
setDispatcher
httpDispatcher
setSessionAffinity
setFailover
return
loadbalanceEndpoint
EndpointFactory
