WeightedRRLCAlgorithmTest
String
hosts
String
weights
AtomicInteger
connections
AtomicInteger
AtomicInteger
AtomicInteger
AtomicInteger
AtomicInteger
testInitialization
LoadbalanceEndpoint
endpoint
createLoadBalanceEndpoint
LoadbalanceAlgorithm
algo
getAlgorithm
assert
algo
WeightedRRLCAlgorithm
WeightedRRLCAlgorithm
algorithm
WeightedRRLCAlgorithm
algo
assertEquals
getTotalWeight
assertEquals
getTotalConnections
assertEquals
getEndpointCursor
assertEquals
getRoundsPerRecalculation
testNextEndpoint
MessageContext
messageContext
createMessageContext
LoadbalanceEndpoint
endpoint
createLoadBalanceEndpoint
String
firstTwoRoundsExpected
LoadbalanceAlgorithm
algo
getAlgorithm
String
firstTwoRoundsResults
String
for
forControl
int
i
i
i
block
Endpoint
epr
getNextEndpoint
messageContext
if
epr
AddressEndpoint
block
firstTwoRoundsResults
i
AddressEndpoint
epr
for
forControl
int
i
i
i
block
assertEquals
firstTwoRoundsExpected
i
firstTwoRoundsResults
i
String
secondTwoRoundsExpected
String
secondTwoRoundsResults
String
for
forControl
int
i
i
i
block
Endpoint
epr
getNextEndpoint
messageContext
if
epr
AddressEndpoint
block
secondTwoRoundsResults
i
AddressEndpoint
epr
for
forControl
int
i
i
i
block
assertEquals
secondTwoRoundsExpected
i
secondTwoRoundsResults
i
createLoadBalanceEndpoint
LoadbalanceEndpoint
LoadbalanceEndpoint
loadbalanceEndpoint
LoadbalanceEndpoint
List
Endpoint
endpoints
createEndpoints
WeightedRRLCAlgorithm
algorithm
WeightedRRLCAlgorithm
MediatorProperty
property
MediatorProperty
setName
LB_WEIGHTED_RRLC_ROUNDS_PER_RECAL
setValue
addProperty
property
setEndpoints
endpoints
setLoadBalanceEndpoint
loadbalanceEndpoint
setChildren
endpoints
setAlgorithm
algorithm
SynapseEnvironment
env
Axis2SynapseEnvironment
ConfigurationContext
AxisConfiguration
SynapseConfiguration
init
env
return
loadbalanceEndpoint
createMessageContext
MessageContext
org
apache
axis2
context
MessageContext
axisMessageContext
org
apache
axis2
context
MessageContext
MessageContext
synapseMessageContext
Axis2MessageContext
axisMessageContext
setProperty
createMap
return
synapseMessageContext
createMap
Map
String
AtomicInteger
Map
String
AtomicInteger
connectionsMap
HashMap
String
AtomicInteger
for
forControl
int
i
i
length
i
block
put
hosts
i
connections
i
return
connectionsMap
createEndpoints
List
Endpoint
List
Endpoint
endpoints
ArrayList
Endpoint
for
forControl
int
i
i
length
i
block
AddressEndpoint
addressEndpoint
AddressEndpoint
EndpointDefinition
definition
EndpointDefinition
setAddress
hosts
i
setDefinition
definition
MediatorProperty
property
MediatorProperty
setName
LB_WEIGHTED_RRLC_WEIGHT
setValue
weights
i
addProperty
property
add
addressEndpoint
return
endpoints
TestCase
