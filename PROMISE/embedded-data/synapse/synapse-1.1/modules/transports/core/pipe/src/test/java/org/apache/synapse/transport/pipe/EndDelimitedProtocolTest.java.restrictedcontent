EndDelimitedProtocolTest
test
byte
delimiter
Random
random
Random
ByteArrayOutputStream
out
ByteArrayOutputStream
List
byte
messages
LinkedList
byte
for
forControl
int
i
i
i
block
int
size
nextInt
byte
data
byte
size
for
forControl
int
j
j
size
j
block
data
j
byte
nextInt
write
data
write
delimiter
add
data
EndDelimitedProtocol
protocol
EndDelimitedProtocol
setDelimiter
delimiter
ByteArrayInputStream
in
ByteArrayInputStream
toByteArray
ProtocolDecoder
decoder
createProtocolDecoder
byte
readBuffer
byte
while
block
int
remaining
size
while
inputRequired
block
int
c
read
readBuffer
if
c
block
assertTrue
remaining
remaining
return
decode
readBuffer
c
assertTrue
remaining
byte
actual
getNext
byte
expected
remove
assertEquals
String
expected
String
actual
TestCase
