VFSTransportSender
FileSystemManager
fsManager
boolean
globalFileLockingFlag
VFSTransportSender
log
getLog
VFSTransportSender
init
cfgCtx
ConfigurationContext
transportOut
TransportOutDescription
init
cfgCtx
transportOut
try
StandardFileSystemManager
fsm
StandardFileSystemManager
setConfiguration
getClass
getClassLoader
getResource
init
fsManager
fsm
Parameter
lckFlagParam
getParameter
TRANSPORT_FILE_LOCKING
if
lckFlagParam
block
String
strLockingFlag
getValue
toString
if
equals
strLockingFlag
block
globalFileLockingFlag
catchClause
e
handleException
getMessage
e
sendMessage
msgCtx
MessageContext
targetAddress
String
outTransportInfo
OutTransportInfo
if
waitForSynchronousResponse
msgCtx
block
throw
AxisFault
VFSOutTransportInfo
vfsOutInfo
if
targetAddress
block
vfsOutInfo
VFSOutTransportInfo
targetAddress
globalFileLockingFlag
if
outTransportInfo
outTransportInfo
VFSOutTransportInfo
block
vfsOutInfo
VFSOutTransportInfo
outTransportInfo
if
vfsOutInfo
block
FileObject
replyFile
try
boolean
wasError
int
retryCount
int
maxRetryCount
getMaxRetryCount
long
reconnectionTimeout
getReconnectTimeout
boolean
append
isAppend
boolean
isUseTempFile
isUseTempFile
String
tempTargetFileName
actualTargetFileName
while
wasError
block
try
retryCount
replyFile
resolveFile
getOutFileURI
if
replyFile
block
error
throw
FileSystemException
wasError
catchClause
e
error
e
if
maxRetryCount
retryCount
block
handleException
getMessage
e
if
wasError
block
try
sleep
reconnectionTimeout
catchClause
e2
currentThread
interrupt
if
exists
block
if
getType
FOLDER
block
if
isUseTempFile
block
tempTargetFileName
generateTempFileName
actualTargetFileName
getFileName
msgCtx
vfsOutInfo
block
tempTargetFileName
getFileName
msgCtx
vfsOutInfo
FileObject
responseFile
resolveFile
replyFile
tempTargetFileName
if
isFileLockingEnabled
block
acquireLockForSending
responseFile
vfsOutInfo
if
exists
block
createFile
populateResponseFile
responseFile
msgCtx
append
releaseLock
fsManager
responseFile
block
if
exists
block
createFile
populateResponseFile
responseFile
msgCtx
append
if
isUseTempFile
block
moveTo
resolveFile
replyFile
actualTargetFileName
if
getType
FILE
block
if
isUseTempFile
block
tempTargetFileName
generateTempFileName
actualTargetFileName
getURL
toString
replyFile
getTempFileObject
fsManager
replyFile
tempTargetFileName
if
isFileLockingEnabled
block
acquireLockForSending
replyFile
vfsOutInfo
populateResponseFile
replyFile
msgCtx
append
releaseLock
fsManager
replyFile
block
populateResponseFile
replyFile
msgCtx
append
if
isUseTempFile
block
moveTo
resolveFile
actualTargetFileName
block
handleException
getType
getOutFileURI
block
if
isUseTempFile
block
tempTargetFileName
generateTempFileName
actualTargetFileName
getURL
toString
replyFile
getTempFileObject
fsManager
replyFile
tempTargetFileName
if
isFileLockingEnabled
block
acquireLockForSending
replyFile
vfsOutInfo
createFile
populateResponseFile
replyFile
msgCtx
append
releaseLock
fsManager
replyFile
block
createFile
populateResponseFile
replyFile
msgCtx
append
if
isUseTempFile
block
moveTo
resolveFile
actualTargetFileName
catchClause
e
handleException
getOutFileURI
e
if
replyFile
block
try
if
fsManager
getName
getName
getScheme
getName
getScheme
startsWith
getParent
getParent
getFileSystem
block
closeFileSystem
getParent
getFileSystem
close
catchClause
ignore
block
handleException
populateResponseFile
responseFile
FileObject
msgContext
MessageContext
append
boolean
lockingEnabled
boolean
MessageFormatter
messageFormatter
getMessageFormatter
msgContext
OMOutputFormat
format
getOMOutputFormat
msgContext
try
CountingOutputStream
os
CountingOutputStream
getContent
getOutputStream
append
try
writeTo
msgContext
format
os
close
incrementMessagesSent
msgContext
incrementBytesSent
msgContext
getByteCount
catchClause
e
if
lockingEnabled
block
releaseLock
fsManager
responseFile
incrementFaultsSending
handleException
maskURLPassword
getName
getURI
e
catchClause
e
if
lockingEnabled
block
releaseLock
fsManager
responseFile
incrementFaultsSending
handleException
maskURLPassword
getName
getURI
e
acquireLockForSending
responseFile
FileObject
vfsOutInfo
VFSOutTransportInfo
int
tryNum
while
acquireLock
fsManager
responseFile
block
if
getMaxRetryCount
tryNum
block
handleException
maskURLPassword
getName
getURI
tryNum
block
warn
maskURLPassword
getName
getURI
tryNum
getReconnectTimeout
try
sleep
getReconnectTimeout
catchClause
ignore
getTempFileObject
FileObject
fsManager
FileSystemManager
originalFileObj
FileObject
fileName
String
return
resolveFile
getParent
fileName
AbstractTransportSender
ManagementSupport
