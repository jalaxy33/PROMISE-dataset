PassThroughNHttpGetProcessor
Log
log
getLog
PassThroughNHttpGetProcessor
String
LOCATION
String
CONTENT_TYPE
String
TEXT_HTML
String
TEXT_XML
ConfigurationContext
cfgCtx
SourceHandler
sourceHandler
init
cfgCtx
ConfigurationContext
handler
SourceHandler
cfgCtx
cfgCtx
sourceHandler
handler
process
request
HttpRequest
response
HttpResponse
msgContext
MessageContext
conn
NHttpServerConnection
isRestDispatching
boolean
String
uri
getRequestLine
getUri
String
serviceName
getServiceName
request
Map
String
String
parameters
HashMap
String
String
int
pos
indexOf
if
pos
block
setTo
EndpointReference
substring
pos
StringTokenizer
st
StringTokenizer
substring
pos
while
hasMoreTokens
block
String
param
nextToken
pos
indexOf
if
pos
block
put
substring
pos
substring
pos
block
put
param
block
setTo
EndpointReference
uri
SimpleOutputBuffer
outputBuffer
SimpleOutputBuffer
getContext
getAttribute
PASS_THROUGH_RESPONSE_SOURCE_BUFFER
ContentOutputStream
os
ContentOutputStream
outputBuffer
if
isServiceListBlocked
uri
block
sendResponseAndFinish
response
SC_FORBIDDEN
conn
os
msgContext
if
equals
block
addHeader
LOCATION
sendResponseAndFinish
response
SC_MOVED_PERMANENTLY
conn
os
msgContext
if
serviceName
containsKey
block
generateWsdl
response
msgContext
conn
os
serviceName
parameters
if
serviceName
containsKey
block
generateWsdl2
response
msgContext
conn
os
serviceName
if
serviceName
containsKey
block
generateXsd
response
msgContext
conn
os
serviceName
parameters
block
setProperty
REST_GET_DELETE_INVOKE
sendResponseAndFinish
response
HttpResponse
status
int
conn
NHttpServerConnection
os
OutputStream
msgContext
MessageContext
setStatusCode
status
updateState
conn
GET_REQUEST_COMPLETE
commitResponseHideExceptions
conn
response
closeOutputStream
os
setProperty
GET_REQUEST_HANDLED
TRUE
sendResponseAndFinish
response
HttpResponse
data
byte
conn
NHttpServerConnection
os
OutputStream
msgContext
MessageContext
updateState
conn
GET_REQUEST_COMPLETE
commitResponseHideExceptions
conn
response
write
conn
os
data
closeOutputStream
os
setProperty
GET_REQUEST_HANDLED
TRUE
closeOutputStream
os
OutputStream
try
flush
close
catchClause
ignore
generateWsdl
response
HttpResponse
msgContext
MessageContext
conn
NHttpServerConnection
os
OutputStream
serviceName
String
parameters
Map
String
String
AxisService
service
getAxisConfiguration
getServices
get
serviceName
if
service
block
try
ByteArrayOutputStream
output
ByteArrayOutputStream
String
parameterValue
get
if
parameterValue
block
printWSDL
output
getIpAddress
block
printUserWSDL
output
parameterValue
addHeader
CONTENT_TYPE
TEXT_XML
sendResponseAndFinish
response
toByteArray
conn
os
msgContext
catchClause
e
handleBrowserException
response
msgContext
conn
os
serviceName
e
block
if
isDebugEnabled
block
debug
serviceName
setProperty
REST_GET_DELETE_INVOKE
generateWsdl2
response
HttpResponse
msgContext
MessageContext
conn
NHttpServerConnection
os
OutputStream
serviceName
String
AxisService
service
getAxisConfiguration
getServices
get
serviceName
if
service
block
String
parameterValue
String
getParameterValue
if
equals
parameterValue
isWSDLProvidedForProxyService
service
block
handleBrowserException
response
msgContext
conn
os
serviceName
try
ByteArrayOutputStream
output
ByteArrayOutputStream
printWSDL2
output
getIpAddress
addHeader
CONTENT_TYPE
TEXT_XML
sendResponseAndFinish
response
toByteArray
conn
os
msgContext
catchClause
e
handleBrowserException
response
msgContext
conn
os
serviceName
e
block
setProperty
REST_GET_DELETE_INVOKE
getServiceName
String
request
HttpRequest
String
uri
getRequestLine
getUri
String
servicePath
getServiceContextPath
if
startsWith
block
servicePath
servicePath
String
serviceName
if
startsWith
servicePath
block
serviceName
substring
length
if
startsWith
block
serviceName
substring
if
contains
block
serviceName
substring
indexOf
block
String
incomingURI
getRequestLine
getUri
Map
serviceURIMap
Map
getProperty
EPR_TO_SERVICE_NAME_MAP
if
serviceURIMap
block
Set
keySet
keySet
for
Object
key
keySet
block
if
toLowerCase
contains
String
key
block
return
String
get
key
if
serviceName
block
int
opnStart
indexOf
if
opnStart
block
serviceName
substring
opnStart
return
serviceName
generateXsd
response
HttpResponse
msgContext
MessageContext
conn
NHttpServerConnection
os
OutputStream
serviceName
String
parameters
Map
String
String
if
get
equals
get
block
AxisService
service
getAxisConfiguration
getServices
get
serviceName
if
service
block
try
ByteArrayOutputStream
output
ByteArrayOutputStream
printSchema
output
addHeader
CONTENT_TYPE
TEXT_XML
sendResponseAndFinish
response
toByteArray
conn
os
msgContext
catchClause
e
handleBrowserException
response
msgContext
conn
os
serviceName
e
block
setProperty
REST_GET_DELETE_INVOKE
block
String
schemaName
get
AxisService
service
getAxisConfiguration
getServices
get
serviceName
if
service
block
populateSchemaMappings
Map
schemaTable
getSchemaMappingTable
XmlSchema
schema
XmlSchema
get
schemaName
if
schema
block
int
dotIndex
indexOf
if
dotIndex
block
String
schemaKey
substring
dotIndex
schema
XmlSchema
get
schemaKey
if
schema
block
try
ByteArrayOutputStream
output
ByteArrayOutputStream
write
output
addHeader
CONTENT_TYPE
TEXT_XML
commitResponseHideExceptions
conn
response
write
conn
os
toByteArray
closeOutputStream
os
setProperty
GET_REQUEST_HANDLED
TRUE
catchClause
e
handleBrowserException
response
msgContext
conn
os
serviceName
e
block
setStatusCode
SC_NOT_FOUND
closeOutputStream
os
setProperty
GET_REQUEST_HANDLED
TRUE
block
setProperty
REST_GET_DELETE_INVOKE
handleBrowserException
response
HttpResponse
msgContext
MessageContext
conn
NHttpServerConnection
os
OutputStream
msg
String
e
Exception
if
e
block
error
msg
block
error
msg
e
if
containsHeader
TRANSFER_ENCODING
block
setStatusCode
SC_INTERNAL_SERVER_ERROR
setReasonPhrase
msg
addHeader
CONTENT_TYPE
TEXT_HTML
commitResponseHideExceptions
conn
response
try
write
conn
os
getBytes
close
catchClause
ignore
if
conn
block
try
shutdown
catchClause
ignore
setProperty
GET_REQUEST_HANDLED
TRUE
isServiceListBlocked
boolean
incomingURI
String
String
isBlocked
getInstance
isServiceListBlocked
return
equals
incomingURI
parseBoolean
isBlocked
isWSDLProvidedForProxyService
boolean
service
AxisService
boolean
isWSDLProvided
if
getParameterValue
WSDL_4_J_DEFINITION
getParameterValue
WSDL_20_DESCRIPTION
block
isWSDLProvided
return
isWSDLProvided
getIpAddress
String
Enumeration
e
getNetworkInterfaces
String
address
while
hasMoreElements
block
NetworkInterface
networkInterface
NetworkInterface
nextElement
Enumeration
addresses
getInetAddresses
while
hasMoreElements
block
InetAddress
ip
InetAddress
nextElement
if
isLoopbackAddress
isIP
getHostAddress
block
return
getHostAddress
return
address
isIP
boolean
hostAddress
String
return
split
length
write
conn
NHttpServerConnection
os
OutputStream
data
byte
synchronized
getContext
write
data
HttpGetRequestProcessor
