Pipe
IOControl
producerIoControl
IOControl
consumerIoControl
ControlledByteBuffer
buffer
ControlledByteBuffer
outputBuffer
boolean
producerCompleted
Lock
lock
ReentrantLock
Condition
readCondition
newCondition
Condition
writeCondition
newCondition
String
name
boolean
consumerError
boolean
producerError
BaseConfiguration
baseConfig
boolean
serializationComplete
boolean
rawSerializationComplete
boolean
hasHttpProducer
ByteBufferInputStream
inputStream
ByteBufferOutputStream
outputStream
Pipe
producerIoControl
IOControl
buffer
ControlledByteBuffer
name
String
baseConfig
BaseConfiguration
producerIoControl
producerIoControl
buffer
buffer
name
name
baseConfig
baseConfig
Pipe
buffer
ControlledByteBuffer
name
String
baseConfig
BaseConfiguration
buffer
buffer
name
name
baseConfig
baseConfig
hasHttpProducer
attachConsumer
consumerIoControl
IOControl
consumerIoControl
consumerIoControl
consume
int
encoder
ContentEncoder
if
consumerIoControl
block
throw
IllegalStateException
if
hasHttpProducer
producerIoControl
block
throw
IllegalStateException
lock
ControlledByteBuffer
consumerBuffer
if
outputBuffer
block
consumerBuffer
outputBuffer
block
consumerBuffer
buffer
try
if
producerError
block
complete
return
setOutputMode
consumerBuffer
int
bytesWritten
write
getByteBuffer
setInputMode
consumerBuffer
if
position
block
if
outputBuffer
block
if
producerCompleted
block
complete
block
suspendOutput
if
serializationComplete
rawSerializationComplete
block
complete
if
bytesWritten
block
if
isCompleted
producerCompleted
hasHttpProducer
block
requestInput
signalAll
return
bytesWritten
unlock
produce
int
decoder
ContentDecoder
if
producerIoControl
block
throw
IllegalStateException
lock
try
setInputMode
buffer
int
bytesRead
read
getByteBuffer
if
consumerError
block
clear
if
hasRemaining
block
suspendInput
if
position
isCompleted
block
if
consumerIoControl
block
requestOutput
signalAll
if
isCompleted
block
producerCompleted
return
bytesRead
unlock
toString
String
return
name
consumerError
lock
try
consumerError
signalAll
unlock
producerError
lock
try
producerError
signalAll
unlock
getInputStream
InputStream
if
inputStream
block
inputStream
ByteBufferInputStream
return
inputStream
getOutputStream
OutputStream
if
outputStream
block
outputBuffer
getBufferFactory
getBuffer
outputStream
ByteBufferOutputStream
return
outputStream
setSerializationComplete
serializationComplete
boolean
if
serializationComplete
block
serializationComplete
serializationComplete
if
consumerIoControl
hasData
outputBuffer
block
requestOutput
setSerializationCompleteWithoutData
serializationComplete
boolean
if
serializationComplete
block
serializationComplete
serializationComplete
requestOutput
setRawSerializationComplete
rawSerializationComplete
boolean
rawSerializationComplete
rawSerializationComplete
getBuffer
ControlledByteBuffer
return
buffer
isSerializationComplete
boolean
return
serializationComplete
setInputMode
buffer
ControlledByteBuffer
if
setInputMode
block
if
hasRemaining
block
compact
block
clear
setOutputMode
buffer
ControlledByteBuffer
if
setOutputMode
block
flip
hasData
boolean
buffer
ControlledByteBuffer
lock
try
setOutputMode
buffer
return
hasRemaining
unlock
ByteBufferInputStream
read
int
lock
try
if
hasData
buffer
block
waitForData
if
producerError
block
return
if
isEndOfStream
block
return
return
get
unlock
read
int
b
byte
off
int
len
int
if
b
block
return
lock
try
if
hasData
buffer
block
waitForData
if
isEndOfStream
block
return
setOutputMode
buffer
int
chunk
len
if
chunk
remaining
block
chunk
remaining
get
b
off
chunk
return
chunk
unlock
waitForData
lock
try
try
while
hasData
buffer
producerCompleted
block
if
producerError
block
break
requestInput
await
catchClause
e
throw
IOException
unlock
isEndOfStream
boolean
return
hasData
buffer
producerCompleted
InputStream
ByteBufferOutputStream
write
b
int
lock
try
setInputMode
outputBuffer
if
hasRemaining
block
flushContent
setInputMode
outputBuffer
put
byte
b
unlock
write
b
byte
off
int
len
int
if
b
block
return
lock
try
setInputMode
outputBuffer
int
remaining
len
while
remaining
block
if
hasRemaining
block
flushContent
if
consumerError
block
clear
break
setInputMode
outputBuffer
int
chunk
min
remaining
remaining
put
b
off
chunk
remaining
chunk
off
chunk
unlock
flushContent
lock
if
rawSerializationComplete
block
return
try
try
while
hasData
outputBuffer
block
if
consumerError
block
break
if
consumerIoControl
writeCondition
block
requestOutput
await
catchClause
ex
throw
IOException
unlock
OutputStream
