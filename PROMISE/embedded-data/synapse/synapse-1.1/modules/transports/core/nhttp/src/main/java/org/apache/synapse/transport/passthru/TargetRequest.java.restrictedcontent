TargetRequest
TargetConfiguration
targetConfiguration
Pipe
pipe
Map
String
TreeSet
String
headers
HashMap
String
TreeSet
String
URL
url
String
method
HttpRequest
request
boolean
chunk
ProtocolVersion
version
boolean
fullUrl
int
port
boolean
hasEntityBody
boolean
keepAlive
TargetRequest
targetConfiguration
TargetConfiguration
url
URL
method
String
hasEntityBody
boolean
targetConfiguration
method
url
hasEntityBody
TargetRequest
targetConfiguration
TargetConfiguration
method
String
url
URL
hasEntityBody
boolean
method
method
url
url
targetConfiguration
targetConfiguration
hasEntityBody
hasEntityBody
connect
pipe
Pipe
pipe
pipe
start
conn
NHttpClientConnection
if
pipe
block
get
setWriter
pipe
conn
String
path
fullUrl
toString
equals
getPath
getPath
getQuery
getQuery
long
contentLength
String
contentLengthHeader
if
get
CONTENT_LEN
get
size
CONTENT_LEN
block
contentLengthHeader
get
first
CONTENT_LEN
if
contentLengthHeader
block
contentLength
parseInt
contentLengthHeader
remove
CONTENT_LEN
MessageContext
requestMsgCtx
get
getRequestMsgCtx
conn
Long
lengthValue
Long
getProperty
PASS_THROUGH_MESSAGE_LENGTH
if
lengthValue
block
contentLength
lengthValue
if
isPropertyTrue
POST_TO_URI
block
path
toString
Object
o
getProperty
TRANSPORT_HEADERS
if
o
o
Map
block
Map
_headers
Map
o
String
trpContentType
String
get
CONTENT_TYPE
if
trpContentType
equals
block
if
contains
CONTENT_TYPE_MULTIPART_RELATED
isPropertyTrue
MESSAGE_BUILDER_INVOKED
block
addHeader
CONTENT_TYPE
trpContentType
if
hasEntityBody
block
request
BasicHttpEntityEnclosingRequest
method
path
version
version
HTTP_1_1
BasicHttpEntity
entity
BasicHttpEntity
if
isPropertyTrue
FORCE_HTTP_CONTENT_LENGTH
block
setChunked
if
isPropertyTrue
COPY_CONTENT_LENGTH_FROM_INCOMING
contentLength
block
setContentLength
contentLength
block
if
contentLength
block
setChunked
setContentLength
contentLength
block
setChunked
chunk
BasicHttpEntityEnclosingRequest
request
block
request
BasicHttpRequest
method
path
version
version
HTTP_1_1
Set
Map
Entry
String
TreeSet
String
entries
entrySet
for
Map
Entry
String
TreeSet
String
entry
entries
block
if
getKey
block
Iterator
String
i
getValue
iterator
while
hasNext
block
addHeader
getKey
next
if
request
block
String
soapAction
getSoapAction
if
soapAction
block
soapAction
getWSAAction
if
soapAction
block
getAxisOperation
getInputAction
if
isSOAP11
soapAction
length
block
Header
existingHeader
getFirstHeader
HEADER_SOAP_ACTION
if
existingHeader
block
removeHeader
existingHeader
MessageFormatter
messageFormatter
createMessageFormatterDecorator
requestMsgCtx
setHeader
HEADER_SOAP_ACTION
formatSOAPAction
requestMsgCtx
soapAction
processChunking
conn
requestMsgCtx
if
keepAlive
block
setHeader
CONN_DIRECTIVE
CONN_CLOSE
HttpContext
context
getContext
setAttribute
HTTP_CONNECTION
conn
setAttribute
HTTP_TARGET_HOST
HttpHost
getHost
port
setAttribute
HTTP_REQUEST
request
getHttpProcessor
process
request
context
submitRequest
request
if
hasEntityBody
block
updateState
conn
REQUEST_HEAD
block
updateState
conn
REQUEST_DONE
addHeader
name
String
value
String
if
get
name
block
TreeSet
String
values
TreeSet
String
add
value
if
equalsIgnoreCase
name
block
put
CONTENT_TYPE
values
block
put
name
values
block
if
equalsIgnoreCase
name
block
remove
CONTENT_TYPE
TreeSet
String
values
TreeSet
String
add
value
put
CONTENT_TYPE
values
block
TreeSet
String
values
get
name
add
value
processChunking
conn
NHttpClientConnection
requestMsgCtx
MessageContext
String
disableChunking
String
getProperty
DISABLE_CHUNKING
String
forceHttp10
String
getProperty
FORCE_HTTP_1_0
if
equals
disableChunking
equals
forceHttp10
block
if
getEnvelope
getBody
getFirstElement
block
BasicHttpEntity
entity
BasicHttpEntity
BasicHttpEntityEnclosingRequest
request
try
buildMessage
requestMsgCtx
hasEntityBody
Pipe
pipe
Pipe
getProperty
PASS_THROUGH_PIPE
if
pipe
block
attachConsumer
conn
connect
pipe
if
equals
getProperty
MESSAGE_BUILDER_INVOKED
block
ByteArrayOutputStream
out
ByteArrayOutputStream
MessageFormatter
formatter
getMessageFormatter
requestMsgCtx
OMOutputFormat
format
getOMOutputFormat
requestMsgCtx
writeTo
requestMsgCtx
format
out
OutputStream
_out
getOutputStream
write
toByteArray
_out
setContentLength
toByteArray
length
setChunked
catchClause
e
printStackTrace
write
int
conn
NHttpClientConnection
encoder
ContentEncoder
int
bytes
if
pipe
block
bytes
consume
encoder
if
isCompleted
block
getMetrics
notifySentMessageSize
getMetrics
getSentBytesCount
updateState
conn
REQUEST_DONE
return
bytes
hasEntityBody
boolean
return
hasEntityBody
getMethod
String
return
method
setChunk
chunk
boolean
chunk
chunk
setPort
port
int
port
port
setFullUrl
fullUrl
boolean
fullUrl
fullUrl
setVersion
version
ProtocolVersion
version
version
setKeepAlive
keepAlive
boolean
keepAlive
keepAlive
getRequest
HttpRequest
return
request
