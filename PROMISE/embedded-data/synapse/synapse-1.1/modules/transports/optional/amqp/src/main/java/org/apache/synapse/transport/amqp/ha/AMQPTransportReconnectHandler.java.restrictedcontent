AMQPTransportReconnectHandler
BlockingQueue
AMQPTransportHAEntry
blockedTasks
LinkedBlockingQueue
AMQPTransportHAEntry
ConcurrentMap
String
AMQPTransportHABrokerEntry
connectionMap
ConcurrentHashMap
String
AMQPTransportHABrokerEntry
AMQPTransportConnectionFactoryManager
connectionFactoryManager
int
initialReconnectDuration
double
reconnectionProgressionFactor
int
maxReconnectionDuration
ExecutorService
es
AMQPTransportReconnectHandler
es
ExecutorService
maxReconnectionDuration
int
reconnectionProgressionFactor
double
initialReconnectDuration
int
connectionFactoryManager
AMQPTransportConnectionFactoryManager
es
es
maxReconnectionDuration
maxReconnectionDuration
reconnectionProgressionFactor
reconnectionProgressionFactor
initialReconnectDuration
initialReconnectDuration
connectionFactoryManager
connectionFactoryManager
Log
log
getLog
AMQPTransportReconnectHandler
run
try
AMQPTransportHAEntry
entry
take
if
entry
block
Map
String
String
params
getConnectionFactory
getParameters
getConnectionFactoryName
int
count
long
retryDuration
initialReconnectDuration
while
block
try
sleep
initialReconnectDuration
AMQPTransportConnectionFactory
params
es
info
count
break
catchClause
e
retryDuration
long
retryDuration
reconnectionProgressionFactor
if
retryDuration
maxReconnectionDuration
block
retryDuration
initialReconnectDuration
info
initialReconnectDuration
info
count
retryDuration
try
sleep
retryDuration
catchClause
ignore
ConcurrentHashMap
String
AMQPTransportConnectionFactory
allFac
getAllFactories
for
Map
Entry
me
entrySet
block
String
name
String
getKey
Map
String
String
param
AMQPTransportConnectionFactory
getValue
removeConnectionFactory
name
addConnectionFactory
name
AMQPTransportConnectionFactory
param
es
info
name
String
conFacName
getConnectionFactoryName
AMQPTransportConnectionFactory
cf
getConnectionFactory
conFacName
put
getKey
AMQPTransportHABrokerEntry
getChannel
getConnection
getLock
release
while
isEmpty
block
entry
take
conFacName
getConnectionFactoryName
cf
getConnectionFactory
conFacName
put
getKey
AMQPTransportHABrokerEntry
getChannel
getConnection
if
isDebugEnabled
block
info
getKey
getLock
release
catchClause
e
currentThread
interrupt
catchClause
e
error
e
getBlockedTasks
BlockingQueue
AMQPTransportHAEntry
return
blockedTasks
getConnectionMap
ConcurrentMap
String
AMQPTransportHABrokerEntry
return
connectionMap
Runnable
