MTOMSwAClient
int
BUFFER
getProperty
String
name
String
def
String
String
result
getProperty
name
if
result
length
block
result
def
return
result
createServiceClient
ServiceClient
String
repo
getProperty
if
repo
equals
repo
block
ConfigurationContext
configContext
createConfigurationContextFromFileSystem
repo
repo
separator
separator
return
ServiceClient
configContext
block
return
ServiceClient
main
args
String
String
targetEPR
getProperty
String
fileName
getProperty
String
mode
getProperty
if
length
mode
args
if
length
targetEPR
args
if
length
fileName
args
if
equals
mode
block
sendUsingMTOM
fileName
targetEPR
if
equals
mode
block
sendUsingSwA
fileName
targetEPR
sleep
exit
sendUsingSwA
MessageContext
fileName
String
targetEPR
String
Options
options
Options
setTo
EndpointReference
targetEPR
setAction
setProperty
ENABLE_SWA
VALUE_TRUE
ServiceClient
sender
createServiceClient
setOptions
options
OperationClient
mepClient
createClient
ANON_OUT_IN_OP
MessageContext
mc
MessageContext
println
fileName
FileDataSource
fileDataSource
FileDataSource
File
fileName
DataHandler
dataHandler
DataHandler
fileDataSource
String
attachmentID
addAttachment
dataHandler
SOAPFactory
factory
getSOAP11Factory
SOAPEnvelope
env
getDefaultEnvelope
OMNamespace
ns
createOMNamespace
OMElement
payload
createOMElement
ns
OMElement
request
createOMElement
ns
OMElement
imageId
createOMElement
ns
setText
attachmentID
addChild
imageId
addChild
request
getBody
addChild
payload
setEnvelope
env
addMessageContext
mc
execute
MessageContext
response
getMessageContext
MESSAGE_LABEL_IN_VALUE
SOAPBody
body
getEnvelope
getBody
String
imageContentId
getFirstChildWithName
getFirstChildWithName
QName
getFirstChildWithName
QName
getText
QName
Attachments
attachment
getAttachmentMap
dataHandler
getDataHandler
imageContentId
File
tempFile
createTempFile
FileOutputStream
fos
FileOutputStream
tempFile
writeTo
fos
flush
close
println
getAbsolutePath
return
response
sendUsingMTOM
OMElement
fileName
String
targetEPR
String
OMFactory
factory
getOMFactory
OMNamespace
ns
createOMNamespace
OMElement
payload
createOMElement
ns
OMElement
request
createOMElement
ns
OMElement
image
createOMElement
ns
println
fileName
FileDataSource
fileDataSource
FileDataSource
File
fileName
DataHandler
dataHandler
DataHandler
fileDataSource
OMText
textData
createOMText
dataHandler
addChild
textData
addChild
image
addChild
request
ServiceClient
serviceClient
createServiceClient
Options
options
Options
setTo
EndpointReference
targetEPR
setAction
setProperty
ENABLE_MTOM
VALUE_TRUE
setOptions
options
OMElement
response
sendReceive
payload
OMText
binaryNode
OMText
getFirstChildWithName
getFirstChildWithName
QName
getFirstOMChild
QName
dataHandler
DataHandler
getDataHandler
InputStream
is
getInputStream
File
tempFile
createTempFile
FileOutputStream
fos
FileOutputStream
tempFile
BufferedOutputStream
dest
BufferedOutputStream
fos
BUFFER
byte
data
byte
BUFFER
int
count
while
count
read
data
BUFFER
block
write
data
count
flush
close
println
getAbsolutePath
return
response
