RabbitMQAMQPClient
main
args
String
String
queueName
getProperty
String
mode
getProperty
String
routingKey
getProperty
String
exchangeName
getProperty
String
quote
getProperty
if
quote
block
quote
String
msg
getRandom
int
getRandom
quote
ConnectionFactory
factory
ConnectionFactory
setHost
Connection
connection
Channel
channel
try
connection
newConnection
channel
createChannel
if
mode
block
mode
if
equals
mode
block
if
queueName
block
basicPublish
queueName
getBytes
block
if
routingKey
block
if
exchangeName
block
exchangeName
basicPublish
exchangeName
routingKey
getBytes
block
if
exchangeName
block
exchangeName
basicPublish
exchangeName
getBytes
block
if
queueName
block
queueName
QueueingConsumer
consumer
QueueingConsumer
channel
basicConsume
queueName
consumer
QueueingConsumer
Delivery
delivery
nextDelivery
String
message
String
getBody
println
message
close
close
catchClause
e
printStackTrace
catchClause
e
printStackTrace
if
channel
isOpen
block
try
close
catchClause
e
println
getMessage
if
connection
isOpen
block
try
close
catchClause
e
println
getMessage
getRandom
double
base
double
varience
double
onlypositive
boolean
double
rand
random
return
base
rand
varience
base
rand
onlypositive
rand
