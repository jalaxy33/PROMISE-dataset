TaskScheduler
Log
log
getLog
TaskScheduler
Scheduler
scheduler
boolean
initialized
TaskTriggerFactory
triggerFactory
DefaultTaskTriggerFactory
TaskJobDetailFactory
jobDetailFactory
DefaultTaskJobDetailFactory
String
QUARTZ_CONF
String
name
TaskScheduler
name
String
name
name
init
properties
Properties
StdSchedulerFactory
sf
StdSchedulerFactory
if
properties
block
String
quartzConf
getProperty
QUARTZ_CONF
try
if
quartzConf
equals
quartzConf
block
if
isDebugEnabled
block
debug
quartzConf
initialize
quartzConf
catchClause
e
throw
SynapseTaskException
sf
quartzConf
e
log
try
if
name
block
scheduler
getScheduler
name
if
scheduler
block
scheduler
getScheduler
catchClause
e
throw
SynapseTaskException
sf
e
log
initialized
start
start
assertInitialized
try
if
isStarted
block
if
isDebugEnabled
block
debug
getMetaData
start
catchClause
e
throw
SynapseTaskException
e
log
pauseAll
try
assertInitialized
assertStarted
pauseAll
catchClause
e
throw
SynapseTaskException
e
log
resumeAll
try
assertInitialized
assertStarted
resumeAll
catchClause
e
throw
SynapseTaskException
e
log
scheduleTask
taskDescription
TaskDescription
resources
Map
String
Object
jobClass
Class
Job
assertInitialized
assertStarted
if
taskDescription
block
throw
SynapseTaskException
log
if
jobClass
block
throw
SynapseTaskException
log
if
triggerFactory
block
throw
SynapseTaskException
log
if
jobDetailFactory
block
throw
SynapseTaskException
log
Trigger
trigger
createTrigger
taskDescription
if
trigger
block
throw
SynapseTaskException
taskDescription
log
JobDetail
jobDetail
createJobDetail
taskDescription
resources
jobClass
if
jobDetail
block
throw
SynapseTaskException
taskDescription
getName
log
try
if
getCount
block
if
isTaskAlreadyRunning
getKey
block
if
isDebugEnabled
block
debug
jobDetail
trigger
scheduleJob
jobDetail
trigger
block
warn
jobDetail
block
warn
jobDetail
catchClause
e
throw
SynapseTaskException
jobDetail
trigger
scheduleTask
taskDescription
TaskDescription
resources
Map
String
Object
jobClass
Class
Job
task
Task
assertInitialized
assertStarted
if
taskDescription
block
throw
SynapseTaskException
log
if
jobClass
block
throw
SynapseTaskException
log
if
triggerFactory
block
throw
SynapseTaskException
log
if
jobDetailFactory
block
throw
SynapseTaskException
log
Trigger
trigger
createTrigger
taskDescription
if
trigger
block
throw
SynapseTaskException
taskDescription
log
JobDetail
jobDetail
createJobDetail
taskDescription
resources
jobClass
if
jobDetail
block
throw
SynapseTaskException
taskDescription
getName
log
getJobDataMap
put
INSTANCE
task
try
if
getCount
block
if
isTaskAlreadyRunning
getKey
block
if
isDebugEnabled
block
debug
jobDetail
trigger
scheduleJob
jobDetail
trigger
block
warn
jobDetail
block
warn
jobDetail
catchClause
e
throw
SynapseTaskException
jobDetail
trigger
shutDown
if
isInitialized
block
try
if
scheduler
isStarted
block
if
isDebugEnabled
block
debug
getMetaData
shutdown
initialized
catchClause
e
throw
SynapseTaskException
e
log
isInitialized
boolean
return
initialized
deleteTask
name
String
group
String
assertInitialized
assertStarted
if
name
equals
name
block
throw
SynapseTaskException
log
if
group
equals
group
block
group
DEFAULT_GROUP
if
isDebugEnabled
block
debug
DEFAULT_GROUP
try
if
isDebugEnabled
block
debug
name
group
deleteJob
JobKey
name
group
catchClause
e
throw
SynapseTaskException
name
group
getRunningTaskCount
int
int
runningTasks
try
if
scheduler
block
runningTasks
getCurrentlyExecutingJobs
size
catchClause
e
error
e
return
runningTasks
isTaskAlreadyRunning
boolean
jobKey
JobKey
List
JobExecutionContext
currentJobs
getCurrentlyExecutingJobs
JobKey
currentJobKey
for
JobExecutionContext
jobCtx
currentJobs
block
currentJobKey
getJobDetail
getKey
if
compareTo
jobKey
block
warn
getName
return
return
setTriggerFactory
triggerFactory
TaskTriggerFactory
triggerFactory
triggerFactory
setJobDetailFactory
jobDetailFactory
TaskJobDetailFactory
jobDetailFactory
jobDetailFactory
toString
String
StringBuffer
schedulerMetaData
StringBuffer
if
scheduler
block
schedulerMetaData
append
append
scheduler
append
return
name
schedulerMetaData
assertInitialized
if
initialized
block
throw
SynapseTaskException
log
assertStarted
try
if
isStarted
block
throw
SynapseTaskException
log
catchClause
e
throw
SynapseTaskException
e
log
