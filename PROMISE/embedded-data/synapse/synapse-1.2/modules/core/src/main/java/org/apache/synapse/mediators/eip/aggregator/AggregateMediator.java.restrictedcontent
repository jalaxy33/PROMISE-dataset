AggregateMediator
Log
log
getLog
AggregateMediator
Log
trace
getLog
TRACE_LOGGER
long
completionTimeoutMillis
int
minMessagesToComplete
int
maxMessagesToComplete
SynapseXPath
correlateExpression
SynapseXPath
aggregationExpression
String
onCompleteSequenceRef
SequenceMediator
onCompleteSequence
Map
String
Aggregate
activeAggregates
synchronizedMap
HashMap
String
Aggregate
Object
lock
Object
AggregateMediator
try
aggregationExpression
SynapseXPath
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
catchClause
e
if
isDebugEnabled
block
handleException
e
mediate
boolean
synCtx
MessageContext
boolean
traceOn
isTraceOn
synCtx
boolean
traceOrDebugOn
isTraceOrDebugOn
traceOn
if
traceOrDebugOn
block
traceOrDebug
traceOn
if
traceOn
isTraceEnabled
block
trace
getEnvelope
try
Aggregate
aggregate
if
correlateExpression
evaluate
synCtx
block
while
aggregate
block
synchronized
lock
if
containsKey
toString
block
aggregate
get
toString
if
aggregate
block
if
getLock
block
aggregate
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
completionTimeoutMillis
completionTimeoutMillis
aggregate
Aggregate
toString
completionTimeoutMillis
minMessagesToComplete
maxMessagesToComplete
if
completionTimeoutMillis
block
getConfiguration
getSynapseTimer
schedule
aggregate
completionTimeoutMillis
getLock
put
toString
aggregate
if
getProperty
AGGREGATE_CORRELATION
block
Object
o
getProperty
AGGREGATE_CORRELATION
String
correlation
if
o
o
String
block
correlation
String
o
while
aggregate
block
synchronized
lock
if
containsKey
correlation
block
aggregate
get
correlation
if
aggregate
block
if
getLock
block
aggregate
block
break
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
completionTimeoutMillis
completionTimeoutMillis
aggregate
Aggregate
correlation
completionTimeoutMillis
minMessagesToComplete
maxMessagesToComplete
if
completionTimeoutMillis
block
getConfiguration
getSynapseTimer
schedule
aggregate
completionTimeoutMillis
getLock
put
correlation
aggregate
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
if
aggregate
block
boolean
collected
addMessage
synCtx
if
traceOrDebugOn
block
if
collected
block
traceOrDebug
traceOn
if
traceOn
isTraceEnabled
block
trace
synCtx
if
isComplete
traceOn
traceOrDebugOn
trace
log
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
completeAggregate
aggregate
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
block
releaseLock
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
catchClause
e
handleException
e
synCtx
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
completeAggregate
aggregate
Aggregate
if
isDebugEnabled
block
debug
cancel
setCompleted
MessageContext
newSynCtx
getAggregatedMessage
aggregate
if
newSynCtx
block
warn
return
remove
getCorrelation
if
correlateExpression
toString
equals
getCorrelation
correlateExpression
block
if
onCompleteSequence
block
mediate
newSynCtx
if
onCompleteSequenceRef
getSequence
onCompleteSequenceRef
block
getSequence
mediate
newSynCtx
onCompleteSequenceRef
block
handleException
newSynCtx
getAggregatedMessage
MessageContext
aggregate
Aggregate
MessageContext
newCtx
for
MessageContext
synCtx
getMessages
block
if
newCtx
block
newCtx
synCtx
if
isDebugEnabled
block
debug
getEnvelope
block
try
if
isDebugEnabled
block
debug
getEnvelope
aggregationExpression
enrichEnvelope
getEnvelope
getEnvelope
aggregationExpression
if
isDebugEnabled
block
debug
getEnvelope
catchClause
e
handleException
toString
e
synCtx
return
newCtx
getCorrelateExpression
SynapseXPath
return
correlateExpression
setCorrelateExpression
correlateExpression
SynapseXPath
correlateExpression
correlateExpression
getCompletionTimeoutMillis
long
return
completionTimeoutMillis
setCompletionTimeoutMillis
completionTimeoutMillis
long
completionTimeoutMillis
completionTimeoutMillis
getMinMessagesToComplete
int
return
minMessagesToComplete
setMinMessagesToComplete
minMessagesToComplete
int
minMessagesToComplete
minMessagesToComplete
getMaxMessagesToComplete
int
return
maxMessagesToComplete
setMaxMessagesToComplete
maxMessagesToComplete
int
maxMessagesToComplete
maxMessagesToComplete
getAggregationExpression
SynapseXPath
return
aggregationExpression
setAggregationExpression
aggregationExpression
SynapseXPath
aggregationExpression
aggregationExpression
getOnCompleteSequenceRef
String
return
onCompleteSequenceRef
setOnCompleteSequenceRef
onCompleteSequenceRef
String
onCompleteSequenceRef
onCompleteSequenceRef
getOnCompleteSequence
SequenceMediator
return
onCompleteSequence
setOnCompleteSequence
onCompleteSequence
SequenceMediator
onCompleteSequence
onCompleteSequence
getActiveAggregates
Map
return
activeAggregates
AbstractMediator
