ServerHandler
Log
log
getLog
ServerHandler
HttpParams
params
HttpResponseFactory
responseFactory
HttpProcessor
httpProcessor
ConnectionReuseStrategy
connStrategy
ByteBufferAllocator
allocator
ConfigurationContext
cfgCtx
NHttpConfiguration
cfg
boolean
isHttps
WorkerPool
workerPool
MetricsCollector
metrics
String
REQUEST_SINK_BUFFER
String
RESPONSE_SOURCE_BUFFER
ServerHandler
cfgCtx
ConfigurationContext
params
HttpParams
isHttps
boolean
metrics
MetricsCollector
cfgCtx
cfgCtx
params
params
isHttps
isHttps
metrics
metrics
responseFactory
DefaultHttpResponseFactory
httpProcessor
getHttpProcessor
connStrategy
DefaultConnectionReuseStrategy
allocator
HeapByteBufferAllocator
cfg
getInstance
workerPool
getWorkerPool
getServerCoreThreads
getServerMaxThreads
getServerKeepalive
getServerQueueLen
requestReceived
conn
NHttpServerConnection
HttpContext
context
getContext
HttpRequest
request
getHttpRequest
setAttribute
HTTP_REQUEST
request
try
ContentInputBuffer
inputBuffer
SharedInputBuffer
getBufferSize
conn
allocator
ContentOutputBuffer
outputBuffer
SharedOutputBuffer
getBufferSize
conn
allocator
setAttribute
REQUEST_SINK_BUFFER
inputBuffer
setAttribute
RESPONSE_SOURCE_BUFFER
outputBuffer
ProtocolVersion
httpVersion
getRequestLine
getProtocolVersion
HttpResponse
response
newHttpResponse
httpVersion
SC_OK
context
setParams
params
BasicHttpEntity
entity
BasicHttpEntity
if
greaterEquals
HTTP_1_1
block
setChunked
setEntity
entity
execute
ServerWorker
cfgCtx
conn
isHttps
metrics
request
ContentInputStream
inputBuffer
response
ContentOutputStream
outputBuffer
catchClause
e
handleException
getRequestLine
getUri
e
conn
inputReady
conn
NHttpServerConnection
decoder
ContentDecoder
HttpContext
context
getContext
ContentInputBuffer
inBuf
ContentInputBuffer
getAttribute
REQUEST_SINK_BUFFER
try
int
bytesRead
consumeContent
decoder
if
metrics
bytesRead
block
incrementBytesReceived
bytesRead
if
isCompleted
block
if
metrics
block
incrementMessagesReceived
catchClause
e
handleException
getMessage
e
conn
outputReady
conn
NHttpServerConnection
encoder
ContentEncoder
HttpContext
context
getContext
HttpResponse
response
getHttpResponse
ContentOutputBuffer
outBuf
ContentOutputBuffer
getAttribute
RESPONSE_SOURCE_BUFFER
try
int
bytesWritten
produceContent
encoder
if
metrics
bytesWritten
block
incrementBytesSent
bytesWritten
if
isCompleted
block
if
metrics
block
incrementMessagesSent
if
keepAlive
response
context
block
close
block
requestInput
catchClause
e
handleException
getMessage
e
conn
commitResponse
conn
NHttpServerConnection
response
HttpResponse
try
process
response
getContext
submitResponse
response
catchClause
e
handleException
getMessage
e
conn
catchClause
e
handleException
getMessage
e
conn
timeout
conn
NHttpServerConnection
HttpRequest
req
HttpRequest
getContext
getAttribute
HTTP_REQUEST
if
req
block
if
isDebugEnabled
block
debug
getRequestLine
getUri
block
warn
if
metrics
block
incrementTimeoutsReceiving
shutdownConnection
conn
connected
conn
NHttpServerConnection
if
isTraceEnabled
block
trace
responseReady
conn
NHttpServerConnection
if
isTraceEnabled
block
trace
closed
conn
NHttpServerConnection
HttpContext
context
getContext
removeAttribute
REQUEST_SINK_BUFFER
removeAttribute
RESPONSE_SOURCE_BUFFER
if
isTraceEnabled
block
trace
exception
conn
NHttpServerConnection
e
HttpException
HttpContext
context
getContext
HttpRequest
request
getHttpRequest
ProtocolVersion
ver
getRequestLine
getProtocolVersion
HttpResponse
response
newHttpResponse
ver
SC_BAD_REQUEST
context
byte
msg
getAsciiBytes
getMessage
ByteArrayEntity
entity
ByteArrayEntity
msg
setContentType
setEntity
entity
commitResponse
conn
response
if
metrics
block
incrementFaultsReceiving
exception
conn
NHttpServerConnection
e
IOException
if
e
ConnectionClosedException
getMessage
contains
getMessage
contains
block
if
isDebugEnabled
block
debug
getMessage
block
error
getMessage
if
metrics
block
incrementFaultsReceiving
shutdownConnection
conn
handleException
msg
String
e
Exception
conn
NHttpServerConnection
error
msg
e
if
conn
block
shutdownConnection
conn
shutdownConnection
conn
HttpConnection
try
shutdown
catchClause
ignore
getHttpProcessor
HttpProcessor
BasicHttpProcessor
httpProcessor
BasicHttpProcessor
addInterceptor
ResponseDate
addInterceptor
ResponseServer
addInterceptor
ResponseContent
addInterceptor
ResponseConnControl
return
httpProcessor
getActiveCount
int
return
getActiveCount
getQueueSize
int
return
getQueueSize
NHttpServiceHandler
