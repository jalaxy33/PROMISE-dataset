AMQPSender
String
TRANSPORT_NAME
Log
log
getLog
AMQPSender
Map
String
ConnectionDetails
_connectionDetails
HashMap
String
ConnectionDetails
init
cfgCtx
ConfigurationContext
transportOut
TransportOutDescription
setTransportName
TRANSPORT_NAME
init
cfgCtx
transportOut
sendMessage
msgCtx
MessageContext
targetEPR
String
outTransportInfo
OutTransportInfo
AMQPOutTransportInfo
amqpTransportInfo
ConnectionDetails
conDetails
Session
session
if
targetEPR
block
amqpTransportInfo
AMQPOutTransportInfo
targetEPR
if
outTransportInfo
outTransportInfo
AMQPOutTransportInfo
block
amqpTransportInfo
AMQPOutTransportInfo
outTransportInfo
if
containsKey
getConnectionURL
block
conDetails
get
getConnectionURL
block
Connection
con
createConnection
try
connect
getConnectionURL
catchClause
e
throw
AMQPSynapseException
e
put
getConnectionURL
ConnectionDetails
con
if
conDetails
block
session
getSession
byte
message
try
message
createMessageData
msgCtx
catchClause
e
handleException
e
boolean
waitForResponse
waitForSynchronousResponse
msgCtx
DeliveryProperties
deliveryProps
DeliveryProperties
MessageProperties
msgProps
MessageProperties
fillMessageHeaders
msgCtx
amqpTransportInfo
session
waitForResponse
deliveryProps
msgProps
synchronized
session
header
msgProps
deliveryProps
data
message
endData
if
waitForResponse
block
waitForResponseAndProcess
session
msgProps
msgCtx
fillMessageHeaders
msgCtx
MessageContext
amqpTransportInfo
AMQPOutTransportInfo
session
Session
waitForResponse
boolean
deliveryProps
DeliveryProperties
msgProps
MessageProperties
setExchange
getExchangeName
setRoutingKey
getRoutingKey
OMOutputFormat
format
getOMOutputFormat
msgCtx
MessageFormatter
messageFormatter
try
messageFormatter
getMessageFormatter
msgCtx
catchClause
axisFault
throw
AMQPSynapseException
String
contentType
getContentType
msgCtx
format
getSoapAction
setContentType
contentType
Map
String
Object
props
HashMap
String
Object
if
isServerSide
block
put
SOAPACTION
String
getProperty
SOAPACTION
block
String
action
getOptions
getAction
if
action
block
put
SOAPACTION
action
setApplicationHeaders
props
Map
headerMap
Map
getProperty
TRANSPORT_HEADERS
if
headerMap
block
Iterator
iter
keySet
iterator
while
hasNext
block
String
name
String
next
if
equals
name
block
setCorrelationId
String
get
AMQP_CORELATION_ID
if
equals
name
block
Object
o
get
AMQP_DELIVERY_MODE
if
o
Short
block
setDeliveryMode
Short
o
if
o
Integer
block
setDeliveryMode
Integer
o
if
o
String
block
try
setDeliveryMode
parseShort
String
o
catchClause
nfe
warn
o
nfe
block
warn
o
if
equals
name
block
setExpiration
parseLong
String
get
AMQP_EXPIRATION
if
equals
name
block
setMessageId
String
get
AMQP_MESSAGE_ID
if
equals
name
block
setPriority
parseShort
String
get
AMQP_PRIORITY
if
equals
name
block
setTimestamp
parseLong
String
get
AMQP_TIMESTAMP
block
Object
value
get
name
put
name
value
if
getProperty
AMQP_REPLY_TO_EXCHANGE_NAME
block
String
replyExchangeName
String
getProperty
AMQP_REPLY_TO_EXCHANGE_NAME
String
replyRoutingKey
getProperty
AMQP_REPLY_TO_ROUTING_KEY
String
getProperty
AMQP_REPLY_TO_ROUTING_KEY
setReplyTo
ReplyTo
replyExchangeName
replyRoutingKey
if
waitForResponse
block
if
waitForResponse
getCorrelationId
block
if
getProperty
AMQP_CORELATION_ID
block
setCorrelationId
String
getProperty
AMQP_CORELATION_ID
block
setCorrelationId
getUUID
if
getReplyTo
block
String
tempQueueName
getCorrelationId
synchronized
session
queueDeclare
tempQueueName
AUTO_DELETE
EXCLUSIVE
queueBind
tempQueueName
tempQueueName
sync
replyTo
ReplyTo
tempQueueName
createMessageData
byte
msgContext
MessageContext
OMOutputFormat
format
getOMOutputFormat
msgContext
MessageFormatter
messageFormatter
try
messageFormatter
getMessageFormatter
msgContext
catchClause
axisFault
throw
AMQPSynapseException
axisFault
String
contentType
getContentType
msgContext
format
getSoapAction
ByteArrayOutputStream
baos
ByteArrayOutputStream
try
writeTo
msgContext
format
baos
flush
return
toByteArray
catchClause
e
throw
AMQPSynapseException
e
waitForResponseAndProcess
session
Session
msgProps
MessageProperties
msgCtx
MessageContext
long
timeout
DEFAULT_AMQP_TIMEOUT
String
waitReply
String
getProperty
AMQP_WAIT_REPLY
if
waitReply
block
timeout
valueOf
longValue
waitReply
String
destination
getReplyTo
getRoutingKey
MessageManager
listener
MessageManager
session
destination
getCorrelationId
messageSubscribe
getReplyTo
getRoutingKey
destination
TRANSFER_CONFIRM_MODE_REQUIRED
TRANSFER_ACQUIRE_MODE_PRE_ACQUIRE
MessagePartListenerAdapter
listener
NO_OPTION
Message
reply
receive
timeout
if
reply
block
processSyncResponse
msgCtx
reply
block
warn
timeout
getReplyTo
getRoutingKey
getCorrelationId
processSyncResponse
outMsgCtx
MessageContext
message
Message
MessageContext
responseMsgCtx
createResponseMessageContext
outMsgCtx
Map
map
getTransportHeaders
message
setProperty
TRANSPORT_HEADERS
map
setServerSide
String
contentType
getInstace
getProperty
message
CONTENT_TYPE
getInstace
setSOAPEnvelope
message
responseMsgCtx
contentType
setServerSide
handleIncomingMessage
responseMsgCtx
map
String
get
SOAPACTION
contentType
ConnectionDetails
Connection
_conn
Session
_session
ConnectionDetails
conn
Connection
_conn
conn
getSession
Session
if
_session
block
_session
createSession
return
_session
AbstractTransportSender
