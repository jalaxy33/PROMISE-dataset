HttpCoreNIOSender
Log
log
getLog
HttpCoreNIOSender
ConfigurationContext
cfgCtx
DefaultConnectingIOReactor
ioReactor
ClientHandler
handler
SessionRequestCallback
sessionRequestCallback
getSessionRequestCallback
SSLContext
sslContext
SSLIOSessionHandler
sslIOSessionHandler
MetricsCollector
metrics
MetricsCollector
int
state
STOPPED
init
cfgCtx
ConfigurationContext
transportOut
TransportOutDescription
cfgCtx
cfgCtx
sslContext
getSSLContext
transportOut
sslIOSessionHandler
getSSLIOSessionHandler
transportOut
Thread
t
Thread
Runnable
run
executeClientEngine
start
info
sslContext
MBeanServer
mbs
getPlatformMBeanServer
String
jmxAgentName
getProperty
if
jmxAgentName
equals
jmxAgentName
block
jmxAgentName
String
name
try
name
jmxAgentName
sslContext
TransportView
tBean
TransportView
registerMBean
mbs
tBean
name
catchClause
e
warn
sslContext
e
executeClientEngine
HttpParams
params
getClientParameters
try
ioReactor
DefaultConnectingIOReactor
getInstance
getClientIOWorkers
params
setExceptionHandler
IOReactorExceptionHandler
handle
boolean
ioException
IOException
warn
getMessage
ioException
return
handle
boolean
runtimeException
RuntimeException
warn
getMessage
runtimeException
return
catchClause
e
error
e
handler
ClientHandler
cfgCtx
params
metrics
IOEventDispatch
ioEventDispatch
getEventDispatch
handler
sslContext
sslIOSessionHandler
params
state
STARTED
try
execute
ioEventDispatch
catchClause
ex
fatal
catchClause
e
fatal
getMessage
e
info
sslContext
getEventDispatch
IOEventDispatch
handler
NHttpClientHandler
sslContext
SSLContext
sslIOSessionHandler
SSLIOSessionHandler
params
HttpParams
return
PlainClientIOEventDispatch
handler
params
getSSLContext
SSLContext
transportOut
TransportOutDescription
return
getSSLIOSessionHandler
SSLIOSessionHandler
transportOut
TransportOutDescription
return
getClientParameters
HttpParams
NHttpConfiguration
cfg
getInstance
HttpParams
params
BasicHttpParams
setIntParameter
setIntParameter
CONNECTION_TIMEOUT
getProperty
CONNECTION_TIMEOUT
setIntParameter
SOCKET_BUFFER_SIZE
getProperty
SOCKET_BUFFER_SIZE
setBooleanParameter
STALE_CONNECTION_CHECK
getProperty
STALE_CONNECTION_CHECK
setBooleanParameter
TCP_NODELAY
getProperty
TCP_NODELAY
setParameter
USER_AGENT
SO_TIMEOUT
getProperty
SO_TIMEOUT
return
params
invoke
InvocationResponse
msgContext
MessageContext
removeUnwantedHeaders
msgContext
if
isReplyRedirected
msgContext
getReplyTo
hasNoneAddress
block
setProperty
IGNORE_SC_ACCEPTED
VALUE_TRUE
EndpointReference
epr
getDestinationEPR
msgContext
if
epr
block
if
equals
getAddress
block
sendAsyncRequest
epr
msgContext
block
handleException
WSA_NONE_URI
block
if
getProperty
OUT_TRANSPORT_INFO
block
if
getProperty
OUT_TRANSPORT_INFO
ServerWorker
block
sendAsyncResponse
msgContext
block
sendUsingOutputStream
msgContext
block
handleException
if
getOperationContext
block
getOperationContext
setProperty
RESPONSE_WRITTEN
VALUE_TRUE
return
CONTINUE
removeUnwantedHeaders
msgContext
MessageContext
Map
headers
Map
getProperty
TRANSPORT_HEADERS
if
headers
isEmpty
block
return
Iterator
iter
keySet
iterator
while
hasNext
block
String
headerName
String
next
if
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
equalsIgnoreCase
headerName
block
remove
sendAsyncRequest
epr
EndpointReference
msgContext
MessageContext
try
URL
url
URL
getAddress
int
port
getPort
if
port
block
if
equals
getProtocol
block
port
if
equals
getProtocol
block
port
HttpHost
httpHost
HttpHost
getHost
port
getProtocol
Axis2HttpRequest
axis2Req
Axis2HttpRequest
epr
httpHost
msgContext
NHttpClientConnection
conn
getConnection
getHost
port
if
conn
block
connect
InetSocketAddress
getHost
port
axis2Req
sessionRequestCallback
if
isDebugEnabled
block
debug
getHost
port
block
ClientHandler
handler
if
isDebugEnabled
block
debug
getHost
port
streamMessageContents
catchClause
e
handleException
getAddress
e
catchClause
e
handleException
e
sendAsyncResponse
msgContext
MessageContext
removeUnwantedHeaders
msgContext
ServerWorker
worker
ServerWorker
getProperty
OUT_TRANSPORT_INFO
HttpResponse
response
getResponse
OMOutputFormat
format
getOMOutputFormat
msgContext
MessageFormatter
messageFormatter
createMessageFormatterDecorator
msgContext
setHeader
CONTENT_TYPE
getContentType
msgContext
format
getSoapAction
if
getEnvelope
getBody
hasFault
isProcessingFault
block
setStatusCode
SC_INTERNAL_SERVER_ERROR
if
isPropertyTrue
SC_ACCEPTED
block
setStatusCode
SC_ACCEPTED
block
Object
statusCode
getProperty
HTTP_SC
if
statusCode
block
try
setStatusCode
parseInt
getProperty
toString
HTTP_SC
catchClause
e
warn
statusCode
Map
transportHeaders
Map
getProperty
TRANSPORT_HEADERS
if
transportHeaders
values
isEmpty
block
Iterator
iter
keySet
iterator
while
hasNext
block
Object
header
next
Object
value
get
header
if
value
header
String
value
String
block
setHeader
String
header
String
value
getServiceHandler
commitResponse
getConn
response
OutputStream
out
getOutputStream
try
if
isPropertyTrue
SC_ACCEPTED
block
write
byte
block
writeTo
msgContext
format
out
close
catchClause
e
handleException
e
try
getIs
close
catchClause
ignore
sendUsingOutputStream
msgContext
MessageContext
OMOutputFormat
format
getOMOutputFormat
msgContext
MessageFormatter
messageFormatter
createMessageFormatterDecorator
msgContext
OutputStream
out
OutputStream
getProperty
TRANSPORT_OUT
if
isServerSide
block
OutTransportInfo
transportInfo
OutTransportInfo
getProperty
OUT_TRANSPORT_INFO
if
transportInfo
block
setContentType
getContentType
msgContext
format
getSoapAction
block
throw
AxisFault
OUT_TRANSPORT_INFO
try
writeTo
msgContext
format
out
close
catchClause
e
handleException
e
cleanup
msgContext
MessageContext
stop
if
state
STARTED
return
try
shutdown
state
STOPPED
catchClause
e
warn
e
getSessionRequestCallback
SessionRequestCallback
return
SessionRequestCallback
completed
request
SessionRequest
failed
request
SessionRequest
handleError
request
timeout
request
SessionRequest
handleError
request
cancel
cancelled
sessionRequest
SessionRequest
handleError
request
SessionRequest
isTimeout
boolean
if
getAttachment
getAttachment
Axis2HttpRequest
block
Axis2HttpRequest
axis2Request
Axis2HttpRequest
getAttachment
if
isCompleted
block
setCompleted
MessageContext
mc
getMsgContext
MessageReceiver
mr
getAxisOperation
getMessageReceiver
if
mr
block
try
AxisFault
axisFault
if
isTimeout
block
axisFault
AxisFault
block
Exception
exception
getException
axisFault
AxisFault
toString
exception
MessageContext
nioFaultMessageContext
createFaultMessageContext
mc
axisFault
setProperty
SENDING_FAULT
TRUE
execute
Runnable
run
try
receive
nioFaultMessageContext
catchClause
af
error
af
catchClause
af
error
af
handleException
msg
String
e
Exception
error
msg
e
throw
AxisFault
msg
e
handleException
msg
String
error
msg
throw
AxisFault
msg
pause
if
state
STARTED
return
state
PAUSED
info
resume
if
state
PAUSED
return
state
STARTED
info
maintenenceShutdown
millis
long
if
state
STARTED
return
try
long
start
currentTimeMillis
shutdown
millis
state
STOPPED
info
currentTimeMillis
start
catchClause
e
handleException
e
getActiveThreadCount
int
return
getActiveCount
getQueueSize
int
return
getQueueSize
getMessagesReceived
long
if
metrics
block
return
getMessagesReceived
return
getFaultsReceiving
long
if
metrics
block
return
getFaultsReceiving
return
getBytesReceived
long
if
metrics
block
return
getBytesReceived
return
getMessagesSent
long
if
metrics
block
return
getMessagesSent
return
getFaultsSending
long
if
metrics
block
return
getFaultsSending
return
getBytesSent
long
if
metrics
block
return
getBytesSent
return
registerMBean
mbs
MBeanServer
mbeanInstance
Object
objectName
String
try
ObjectName
name
ObjectName
objectName
Set
set
queryNames
name
if
set
isEmpty
block
registerMBean
mbeanInstance
name
block
unregisterMBean
name
registerMBean
mbeanInstance
name
catchClause
e
warn
objectName
e
AbstractHandler
TransportSender
ManagementSupport
