XQueryMediator
List
dataSourceProperties
ArrayList
String
queryKey
String
querySource
String
DEFAULT_XPATH
AXIOMXPath
target
List
variables
ArrayList
Object
resourceLock
Object
boolean
useDOMSource
XQDataSource
cachedXQDataSource
XQConnection
cachedConnection
XQPreparedExpression
cachedPreparedExpression
XQueryMediator
try
target
AXIOMXPath
DEFAULT_XPATH
target
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
target
addNamespace
SOAP_ENVELOPE_NAMESPACE_URI
catchClause
e
handleException
e
mediate
boolean
synCtx
MessageContext
try
boolean
traceOn
isTraceOn
synCtx
boolean
traceOrDebugOn
isTraceOrDebugOn
traceOn
if
traceOrDebugOn
block
traceOrDebug
traceOn
if
traceOn
isTraceEnabled
block
trace
getEnvelope
traceOrDebug
traceOn
queryKey
performQuery
synCtx
traceOrDebugOn
traceOn
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
catchClause
e
handleException
e
return
performQuery
synCtx
MessageContext
traceOrDebugOn
boolean
traceOn
boolean
boolean
reLoad
boolean
needBind
XQResultSequence
resultSequence
Entry
dp
getConfiguration
getEntryDefinition
queryKey
if
dp
isDynamic
block
if
isCached
isExpired
block
reLoad
try
synchronized
resourceLock
if
cachedXQDataSource
block
cachedXQDataSource
SaxonXQDataSource
if
dataSourceProperties
isEmpty
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
for
forControl
int
i
i
size
i
block
MediatorProperty
prop
MediatorProperty
get
i
if
prop
block
setProperty
getName
getValue
if
cachedConnection
cachedConnection
isClosed
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
cachedConnection
getConnection
if
reLoad
cachedPreparedExpression
cachedPreparedExpression
isClosed
block
if
querySource
equals
querySource
block
if
cachedPreparedExpression
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
querySource
traceOrDebug
traceOn
cachedPreparedExpression
prepareExpression
querySource
needBind
block
Object
o
getEntry
queryKey
if
o
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
queryKey
return
String
sourceCode
InputStream
inputStream
if
o
OMElement
block
sourceCode
OMElement
o
if
o
String
block
sourceCode
String
o
if
o
OMText
block
DataHandler
dataHandler
DataHandler
OMText
o
if
dataHandler
block
try
inputStream
getInputStream
if
inputStream
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
queryKey
return
catchClause
e
handleException
if
sourceCode
equals
sourceCode
inputStream
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
queryKey
return
if
traceOrDebugOn
block
traceOrDebug
traceOn
queryKey
traceOrDebug
traceOn
if
sourceCode
block
cachedPreparedExpression
prepareExpression
sourceCode
block
cachedPreparedExpression
prepareExpression
inputStream
needBind
if
variables
isEmpty
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
for
forControl
int
i
i
size
i
block
MediatorVariable
variable
MediatorVariable
get
i
boolean
hasValueChanged
evaluateValue
synCtx
if
hasValueChanged
needBind
block
bindVariable
cachedPreparedExpression
variable
traceOrDebugOn
traceOn
resultSequence
executeQuery
if
resultSequence
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
return
while
next
block
XQItem
xqItem
getItem
if
xqItem
block
return
XQItemType
itemType
getItemType
if
itemType
block
return
int
itemKind
getItemKind
int
baseType
getBaseType
if
traceOrDebugOn
block
traceOrDebug
traceOn
getItemAsString
OMNode
destination
getTargetNode
synCtx
if
destination
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
destination
if
XQITEMKIND_DOCUMENT_ELEMENT
itemKind
XQITEMKIND_ELEMENT
itemKind
XQITEMKIND_DOCUMENT
itemKind
block
StAXOMBuilder
builder
StAXOMBuilder
newInstance
createXMLStreamReader
StringReader
getItemAsString
OMElement
resultOM
getDocumentElement
if
resultOM
block
insertSiblingAfter
resultOM
detach
if
XQBASETYPE_INTEGER
baseType
XQBASETYPE_INT
baseType
block
OMElement
destination
if
XQBASETYPE_BOOLEAN
baseType
block
OMElement
destination
if
XQBASETYPE_DOUBLE
baseType
block
OMElement
destination
if
XQBASETYPE_FLOAT
baseType
block
OMElement
destination
if
XQBASETYPE_LONG
baseType
block
OMElement
destination
if
XQBASETYPE_SHORT
baseType
block
OMElement
destination
if
XQBASETYPE_BYTE
baseType
block
OMElement
destination
if
XQBASETYPE_STRING
baseType
block
OMElement
destination
break
close
catchClause
e
handleException
getMessage
e
catchClause
e
handleException
getMessage
e
bindVariable
xqDynamicContext
XQDynamicContext
variable
MediatorVariable
traceOrDebugOn
boolean
traceOn
boolean
if
variable
block
QName
name
getName
int
type
getType
Object
value
getValue
if
value
type
block
if
traceOrDebugOn
block
traceOrDebug
traceOn
name
value
switch
type
case
XQBASETYPE_BOOLEAN
block
boolean
booleanValue
if
value
String
block
booleanValue
parseBoolean
String
value
if
value
Boolean
block
booleanValue
Boolean
value
block
handleException
bindBoolean
name
booleanValue
break
case
XQBASETYPE_INTEGER
block
int
intValue
if
value
String
block
try
intValue
parseInt
String
value
catchClause
e
handleException
value
e
if
value
Integer
block
intValue
Integer
value
block
handleException
if
intValue
block
bindInt
name
intValue
break
case
XQBASETYPE_INT
block
int
intValue
if
value
String
block
try
intValue
parseInt
String
value
catchClause
e
handleException
value
e
if
value
Integer
block
intValue
Integer
value
block
handleException
if
intValue
block
bindInt
name
intValue
break
case
XQBASETYPE_LONG
block
long
longValue
if
value
String
block
try
longValue
parseLong
String
value
catchClause
e
handleException
value
e
if
value
Long
block
longValue
Long
value
block
handleException
if
longValue
block
bindLong
name
longValue
break
case
XQBASETYPE_SHORT
block
short
shortValue
if
value
String
block
try
shortValue
parseShort
String
value
catchClause
e
handleException
value
e
if
value
Short
block
shortValue
Short
value
block
handleException
if
shortValue
block
bindShort
name
shortValue
break
case
XQBASETYPE_DOUBLE
block
double
doubleValue
if
value
String
block
try
doubleValue
parseDouble
String
value
catchClause
e
handleException
value
e
if
value
Double
block
doubleValue
Double
value
block
handleException
if
doubleValue
block
bindDouble
name
doubleValue
break
case
XQBASETYPE_FLOAT
block
float
floatValue
if
value
String
block
try
floatValue
parseFloat
String
value
catchClause
e
handleException
value
e
if
value
Float
block
floatValue
Float
value
block
handleException
if
floatValue
block
bindFloat
name
floatValue
break
case
XQBASETYPE_BYTE
block
byte
byteValue
if
value
String
block
try
byteValue
parseByte
String
value
catchClause
e
handleException
value
e
if
value
Byte
block
byteValue
Byte
value
block
handleException
if
byteValue
block
bindByte
name
byteValue
break
case
XQBASETYPE_STRING
block
if
value
String
block
bindObject
name
value
block
handleException
break
case
XQITEMKIND_DOCUMENT
block
if
value
OMNode
block
if
useDOMSource
block
bindObject
name
DOMSource
Element
importOMElement
OMElement
value
getOMFactory
block
bindDocument
name
InputSource
getInputStream
value
break
case
XQITEMKIND_ELEMENT
block
if
value
OMNode
block
if
useDOMSource
block
bindObject
name
DOMSource
Element
importOMElement
OMElement
value
getOMFactory
block
bindDocument
name
InputSource
getInputStream
value
break
case
XQITEMKIND_DOCUMENT_ELEMENT
block
if
value
OMNode
block
if
useDOMSource
block
bindObject
name
DOMSource
Element
importOMElement
OMElement
value
getOMFactory
block
bindDocument
name
InputSource
getInputStream
value
break
case
block
handleException
type
name
break
getTargetNode
OMNode
synCtx
MessageContext
try
Object
o
evaluate
getEnvelope
if
o
OMNode
block
return
OMNode
o
if
o
List
List
o
block
Object
nodeObject
List
o
if
nodeObject
OMNode
block
return
OMNode
nodeObject
block
handleException
target
block
handleException
target
catchClause
e
handleException
target
getEnvelope
return
handleException
msg
String
e
Exception
error
msg
e
throw
SynapseException
msg
e
handleException
msg
String
error
msg
throw
SynapseException
msg
getQueryKey
String
return
queryKey
setQueryKey
queryKey
String
queryKey
queryKey
getQuerySource
String
return
querySource
setQuerySource
querySource
String
querySource
querySource
addAllVariables
list
List
variables
addAll
list
addVariable
variable
MediatorVariable
variables
add
variable
getDataSourceProperties
List
return
dataSourceProperties
getVariables
List
return
variables
getTarget
AXIOMXPath
return
target
setTarget
target
AXIOMXPath
target
target
addAllDataSoureProperties
list
List
dataSourceProperties
addAll
list
isUseDOMSource
boolean
return
useDOMSource
setUseDOMSource
useDOMSource
boolean
useDOMSource
useDOMSource
AbstractMediator
