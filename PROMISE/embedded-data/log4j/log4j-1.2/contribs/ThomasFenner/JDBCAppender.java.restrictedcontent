JDBCAppender
String
URL_OPTION
String
USERNAME_OPTION
String
PASSWORD_OPTION
String
TABLE_OPTION
String
CONNECTOR_OPTION
String
COLUMNS_OPTION
String
SQL_OPTION
String
BUFFER_OPTION
String
COMMIT_OPTION
String
url
String
username
String
password
String
table
String
connection_class
String
sql
boolean
docommit
int
buffer_size
JDBCConnectionHandler
connectionHandler
ArrayList
buffer
ArrayList
Connection
con
JDBCLogger
jlogger
JDBCLogger
boolean
connected
boolean
configured
boolean
ready
finalize
close
finalize
getOptionStrings
String
return
String
CONNECTOR_OPTION
URL_OPTION
USERNAME_OPTION
PASSWORD_OPTION
SQL_OPTION
TABLE_OPTION
COLUMNS_OPTION
BUFFER_OPTION
COMMIT_OPTION
setOption
_option
String
_value
String
_option
trim
_value
trim
if
_option
_value
return
if
length
length
return
_value
trim
if
equals
CONNECTOR_OPTION
block
if
connected
connection_class
_value
if
equals
URL_OPTION
block
if
connected
url
_value
if
equals
USERNAME_OPTION
block
if
connected
username
_value
if
equals
PASSWORD_OPTION
block
if
connected
password
_value
if
equals
SQL_OPTION
block
sql
_value
if
equals
TABLE_OPTION
block
if
sql
return
table
_value
if
equals
COLUMNS_OPTION
block
if
sql
return
String
name
int
logtype
String
value
String
column
String
arg
int
num_args
int
num_columns
StringTokenizer
st_col
StringTokenizer
st_arg
st_col
StringTokenizer
_value
num_columns
countTokens
if
num_columns
block
error
_value
return
for
forControl
int
i
i
num_columns
i
block
column
nextToken
st_arg
StringTokenizer
column
num_args
countTokens
if
num_args
block
error
_value
return
for
forControl
int
j
j
num_args
j
block
arg
nextToken
if
j
name
arg
if
j
block
try
logtype
parseInt
arg
catchClause
e
logtype
parseLogType
arg
if
isLogType
logtype
block
error
arg
return
if
j
value
arg
if
setLogType
name
logtype
value
return
if
equals
BUFFER_OPTION
block
try
buffer_size
parseInt
_value
catchClause
e
error
_value
return
if
equals
COMMIT_OPTION
block
docommit
equals
if
equals
SQL_OPTION
equals
TABLE_OPTION
block
if
configured
configure
requiresLayout
boolean
return
close
flush_buffer
if
connection_class
block
try
close
catchClause
e
error
e
closed
setLogType
boolean
_name
String
_logtype
int
_value
Object
if
sql
return
if
configured
block
if
configure
return
try
setLogType
_name
_logtype
_value
catchClause
e
error
e
return
return
append
event
LoggingEvent
if
ready
block
if
ready
block
error
return
add
event
if
size
buffer_size
flush_buffer
flush_buffer
try
int
size
size
if
size
return
for
forControl
int
i
i
size
i
block
LoggingEvent
event
LoggingEvent
get
i
append
format
event
clear
if
docommit
commit
catchClause
e
error
e
getErrorMsg
try
rollback
catchClause
ex
return
ready
boolean
if
ready
return
if
configured
return
ready
ready
if
ready
block
error
getErrorMsg
return
ready
connect
if
connected
return
try
if
connection_class
block
if
url
throw
Exception
if
username
throw
Exception
if
password
throw
Exception
connectionHandler
DefaultConnectionHandler
block
connectionHandler
JDBCConnectionHandler
forName
connection_class
if
url
username
password
block
con
getConnection
url
username
password
block
con
getConnection
if
isClosed
block
throw
Exception
catchClause
e
throw
Exception
e
connected
configure
boolean
if
configured
return
if
connected
block
if
connection_class
url
username
password
block
error
return
try
connect
catchClause
e
connection_class
url
error
e
return
if
sql
table
block
error
return
if
isConfigured
block
try
setConnection
con
if
sql
block
configureTable
table
configureSQL
sql
catchClause
e
error
e
return
if
layout
block
layout
PatternLayout
configured
return
AppenderSkeleton
DefaultConnectionHandler
Connection
con
getConnection
Connection
return
con
getConnection
Connection
_url
String
_username
String
_password
String
try
if
con
isClosed
close
con
getConnection
_url
_username
_password
setAutoCommit
catchClause
e
return
con
JDBCConnectionHandler
