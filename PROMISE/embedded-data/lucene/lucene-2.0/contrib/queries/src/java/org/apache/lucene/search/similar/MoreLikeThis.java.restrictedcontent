MoreLikeThis
int
DEFAULT_MAX_NUM_TOKENS_PARSED
Analyzer
DEFAULT_ANALYZER
StandardAnalyzer
int
DEFAULT_MIN_TERM_FREQ
int
DEFALT_MIN_DOC_FREQ
boolean
DEFAULT_BOOST
String
DEFAULT_FIELD_NAMES
String
int
DEFAULT_MIN_WORD_LENGTH
int
DEFAULT_MAX_WORD_LENGTH
Set
DEFAULT_STOP_WORDS
Set
stopWords
DEFAULT_STOP_WORDS
int
DEFAULT_MAX_QUERY_TERMS
Analyzer
analyzer
DEFAULT_ANALYZER
int
minTermFreq
DEFAULT_MIN_TERM_FREQ
int
minDocFreq
DEFALT_MIN_DOC_FREQ
boolean
boost
DEFAULT_BOOST
String
fieldNames
DEFAULT_FIELD_NAMES
int
maxNumTokensParsed
DEFAULT_MAX_NUM_TOKENS_PARSED
int
minWordLen
DEFAULT_MIN_WORD_LENGTH
int
maxWordLen
DEFAULT_MAX_WORD_LENGTH
int
maxQueryTerms
DEFAULT_MAX_QUERY_TERMS
Similarity
similarity
DefaultSimilarity
IndexReader
ir
MoreLikeThis
ir
IndexReader
ir
ir
getAnalyzer
Analyzer
return
analyzer
setAnalyzer
analyzer
Analyzer
analyzer
analyzer
getMinTermFreq
int
return
minTermFreq
setMinTermFreq
minTermFreq
int
minTermFreq
minTermFreq
getMinDocFreq
int
return
minDocFreq
setMinDocFreq
minDocFreq
int
minDocFreq
minDocFreq
isBoost
boolean
return
boost
setBoost
boost
boolean
boost
boost
getFieldNames
String
return
fieldNames
setFieldNames
fieldNames
String
fieldNames
fieldNames
getMinWordLen
int
return
minWordLen
setMinWordLen
minWordLen
int
minWordLen
minWordLen
getMaxWordLen
int
return
maxWordLen
setMaxWordLen
maxWordLen
int
maxWordLen
maxWordLen
setStopWords
stopWords
Set
stopWords
stopWords
getStopWords
Set
return
stopWords
getMaxQueryTerms
int
return
maxQueryTerms
setMaxQueryTerms
maxQueryTerms
int
maxQueryTerms
maxQueryTerms
getMaxNumTokensParsed
int
return
maxNumTokensParsed
setMaxNumTokensParsed
i
int
maxNumTokensParsed
i
like
Query
docNum
int
if
fieldNames
block
Collection
fields
getFieldNames
INDEXED
fieldNames
String
toArray
String
size
return
createQuery
retrieveTerms
docNum
like
Query
f
File
if
fieldNames
block
Collection
fields
getFieldNames
INDEXED
fieldNames
String
toArray
String
size
return
like
FileReader
f
like
Query
u
URL
return
like
InputStreamReader
openConnection
getInputStream
like
Query
is
java
io
InputStream
return
like
InputStreamReader
is
like
Query
r
Reader
return
createQuery
retrieveTerms
r
createQuery
Query
q
PriorityQueue
BooleanQuery
query
BooleanQuery
Object
cur
int
qterms
float
bestScore
while
cur
pop
block
Object
ar
Object
cur
TermQuery
tq
TermQuery
Term
String
ar
String
ar
if
boost
block
if
qterms
block
bestScore
Float
ar
float
myScore
Float
ar
setBoost
myScore
bestScore
try
add
tq
SHOULD
catchClause
ignore
break
qterms
if
maxQueryTerms
qterms
maxQueryTerms
block
break
return
query
createQueue
PriorityQueue
words
Map
int
numDocs
numDocs
FreqQ
res
FreqQ
size
Iterator
it
keySet
iterator
while
hasNext
block
String
word
String
next
int
tf
Int
get
word
if
minTermFreq
tf
minTermFreq
block
continue
String
topField
fieldNames
int
docFreq
for
forControl
int
i
i
length
i
block
int
freq
docFreq
Term
fieldNames
i
word
topField
freq
docFreq
fieldNames
i
topField
docFreq
freq
docFreq
freq
docFreq
if
minDocFreq
docFreq
minDocFreq
block
continue
if
docFreq
block
continue
float
idf
idf
docFreq
numDocs
float
score
tf
idf
insert
Object
word
topField
Float
score
Float
idf
Integer
docFreq
Integer
tf
return
res
describeParams
String
StringBuffer
sb
StringBuffer
append
maxQueryTerms
append
minWordLen
append
maxWordLen
append
String
delim
for
forControl
int
i
i
length
i
block
String
fieldName
fieldNames
i
append
append
fieldName
delim
delim
append
append
boost
append
minTermFreq
append
minDocFreq
return
toString
main
a
String
String
indexName
String
fn
URL
url
for
forControl
int
i
i
length
i
block
if
a
i
equals
block
indexName
a
i
if
a
i
equals
block
fn
a
i
if
a
i
equals
block
url
URL
a
i
PrintStream
o
out
IndexReader
r
open
indexName
println
indexName
numDocs
MoreLikeThis
mlt
MoreLikeThis
r
println
println
describeParams
println
Query
query
if
url
block
println
url
query
like
url
if
fn
block
println
fn
query
like
File
fn
println
query
println
IndexSearcher
searcher
IndexSearcher
indexName
Hits
hits
search
query
int
len
length
println
len
println
for
forControl
int
i
i
min
len
i
block
Document
d
doc
i
String
summary
get
println
score
i
println
get
println
get
if
summary
println
get
println
retrieveTerms
PriorityQueue
docNum
int
Map
termFreqMap
HashMap
for
forControl
int
i
i
length
i
block
String
fieldName
fieldNames
i
TermFreqVector
vector
getTermFreqVector
docNum
fieldName
if
vector
block
Document
d
document
docNum
String
text
getValues
fieldName
if
text
block
for
forControl
int
j
j
length
j
block
addTermFrequencies
StringReader
text
j
termFreqMap
fieldName
block
addTermFrequencies
termFreqMap
vector
return
createQueue
termFreqMap
addTermFrequencies
termFreqMap
Map
vector
TermFreqVector
String
terms
getTerms
int
freqs
getTermFrequencies
for
forControl
int
j
j
length
j
block
String
term
terms
j
if
isNoiseWord
term
block
continue
Int
cnt
Int
get
term
if
cnt
block
cnt
Int
put
term
cnt
x
freqs
j
block
x
freqs
j
addTermFrequencies
r
Reader
termFreqMap
Map
fieldName
String
TokenStream
ts
tokenStream
fieldName
r
org
apache
lucene
analysis
Token
token
int
tokenCount
while
token
next
block
String
word
termText
tokenCount
if
tokenCount
maxNumTokensParsed
block
break
if
isNoiseWord
word
block
continue
Int
cnt
Int
get
word
if
cnt
block
put
word
Int
block
x
isNoiseWord
boolean
term
String
int
len
length
if
minWordLen
len
minWordLen
block
return
if
maxWordLen
len
maxWordLen
block
return
if
stopWords
contains
term
block
return
return
retrieveTerms
PriorityQueue
r
Reader
Map
words
HashMap
for
forControl
int
i
i
length
i
block
String
fieldName
fieldNames
i
addTermFrequencies
r
words
fieldName
return
createQueue
words
retrieveInterestingTerms
String
r
Reader
ArrayList
al
ArrayList
maxQueryTerms
PriorityQueue
pq
retrieveTerms
r
Object
cur
int
lim
maxQueryTerms
while
cur
pop
lim
block
Object
ar
Object
cur
add
ar
String
res
String
size
return
String
toArray
res
FreqQ
FreqQ
s
int
initialize
s
lessThan
boolean
a
Object
b
Object
Object
aa
Object
a
Object
bb
Object
b
Float
fa
Float
aa
Float
fb
Float
bb
return
floatValue
floatValue
PriorityQueue
Int
int
x
Int
x
