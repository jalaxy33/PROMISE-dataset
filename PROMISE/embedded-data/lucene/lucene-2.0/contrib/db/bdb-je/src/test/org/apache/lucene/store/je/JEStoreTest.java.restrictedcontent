JEStoreTest
File
dbHome
File
Environment
env
Database
index
blocks
setUp
if
exists
mkdir
block
File
files
listFiles
for
forControl
int
i
i
length
i
block
String
name
files
i
getName
if
endsWith
equals
files
i
delete
EnvironmentConfig
envConfig
EnvironmentConfig
DatabaseConfig
dbConfig
DatabaseConfig
setTransactional
setAllowCreate
setAllowCreate
setTransactional
env
Environment
dbHome
envConfig
Transaction
txn
try
txn
beginTransaction
index
openDatabase
txn
dbConfig
blocks
openDatabase
txn
dbConfig
catchClause
e
if
txn
block
abort
txn
index
blocks
throw
e
if
txn
commit
txn
tearDown
if
index
close
if
blocks
close
if
env
close
tesBytes
int
count
int
LENGTH_MASK
Random
gen
Random
int
totalLength
int
duration
Date
end
Date
veryStart
Date
Date
start
Date
Transaction
txn
Directory
store
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
for
forControl
int
i
i
count
i
block
String
name
i
int
length
nextInt
LENGTH_MASK
IndexOutput
file
createOutput
name
totalLength
length
for
forControl
int
j
j
length
j
block
byte
b
byte
nextInt
writeByte
b
close
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
String
name
i
int
length
nextInt
LENGTH_MASK
IndexInput
file
openInput
name
if
length
length
throw
Exception
for
forControl
int
j
j
length
j
block
byte
b
byte
nextInt
if
readByte
b
throw
Exception
close
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
String
name
i
deleteFile
name
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
print
getTime
getTime
println
print
getTime
getTime
println
testDelete
int
count
int
LENGTH_MASK
Random
gen
Random
int
totalLength
int
duration
Date
end
Date
veryStart
Date
Date
start
Date
Transaction
txn
Directory
store
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
for
forControl
int
i
i
count
i
block
String
name
i
int
length
nextInt
LENGTH_MASK
IndexOutput
file
createOutput
name
totalLength
length
for
forControl
int
j
j
length
j
block
byte
b
byte
nextInt
writeByte
b
close
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
if
i
block
String
name
i
deleteFile
name
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
print
getTime
getTime
println
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
int
length
nextInt
LENGTH_MASK
if
i
block
String
name
i
IndexInput
file
openInput
name
if
length
length
throw
Exception
for
forControl
int
j
j
length
j
block
byte
b
byte
nextInt
if
readByte
b
throw
Exception
close
block
for
forControl
int
j
j
length
j
block
nextInt
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
if
i
block
String
name
i
deleteFile
name
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
print
getTime
getTime
println
print
getTime
getTime
println
Cursor
cursor
try
cursor
openCursor
DatabaseEntry
foundKey
DatabaseEntry
DatabaseEntry
foundData
DatabaseEntry
if
getNext
foundKey
foundData
DEFAULT
SUCCESS
block
fail
catchClause
e
throw
e
if
cursor
close
cursor
try
cursor
openCursor
DatabaseEntry
foundKey
DatabaseEntry
DatabaseEntry
foundData
DatabaseEntry
if
getNext
foundKey
foundData
DEFAULT
SUCCESS
block
fail
catchClause
e
throw
e
if
cursor
close
tesArrays
int
count
int
LENGTH_MASK
Random
gen
Random
int
totalLength
int
duration
Date
end
Date
veryStart
Date
Date
start
Date
Transaction
txn
Directory
store
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
for
forControl
int
i
i
count
i
block
String
name
i
int
length
nextInt
LENGTH_MASK
IndexOutput
file
createOutput
name
byte
data
byte
length
totalLength
length
nextBytes
data
writeBytes
data
length
close
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
String
name
i
int
length
nextInt
LENGTH_MASK
IndexInput
file
openInput
name
if
length
length
throw
Exception
byte
data
byte
length
byte
read
byte
length
nextBytes
data
readBytes
read
length
if
equals
data
read
throw
Exception
close
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
duration
int
getTime
getTime
print
duration
print
print
totalLength
duration
println
try
txn
beginTransaction
store
JEDirectory
txn
index
blocks
gen
Random
start
Date
for
forControl
int
i
i
count
i
block
String
name
i
deleteFile
name
catchClause
e
abort
txn
throw
e
catchClause
e
if
txn
block
abort
txn
throw
e
if
txn
commit
close
end
Date
print
getTime
getTime
println
print
getTime
getTime
println
TestCase
