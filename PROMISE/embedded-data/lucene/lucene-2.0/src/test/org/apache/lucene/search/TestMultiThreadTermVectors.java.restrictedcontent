TestMultiThreadTermVectors
RAMDirectory
directory
RAMDirectory
int
numDocs
int
numThreads
TestMultiThreadTermVectors
s
String
s
setUp
IndexWriter
writer
IndexWriter
directory
SimpleAnalyzer
for
forControl
int
i
i
numDocs
i
block
Document
doc
Document
Field
fld
Field
intToEnglish
i
YES
UN_TOKENIZED
YES
add
fld
addDocument
doc
close
test
IndexReader
reader
try
reader
open
directory
for
forControl
int
i
i
numThreads
i
testTermPositionVectors
reader
i
catchClause
ioe
fail
getMessage
if
reader
block
try
close
catchClause
ioe
printStackTrace
testTermPositionVectors
reader
IndexReader
threadCount
int
MultiThreadTermVectorsReader
mtr
MultiThreadTermVectorsReader
threadCount
for
forControl
int
i
i
threadCount
i
block
mtr
i
MultiThreadTermVectorsReader
mtr
i
init
reader
int
threadsAlive
length
while
threadsAlive
block
try
sleep
threadsAlive
length
for
forControl
int
i
i
length
i
block
if
mtr
i
isAlive
block
break
threadsAlive
catchClause
ie
long
totalTime
for
forControl
int
i
i
length
i
block
totalTime
mtr
i
timeElapsed
mtr
i
TestCase
MultiThreadTermVectorsReader
IndexReader
reader
Thread
t
int
runsToDo
long
timeElapsed
init
reader
IndexReader
reader
reader
timeElapsed
t
Thread
start
isAlive
boolean
if
t
return
return
isAlive
run
try
for
forControl
int
i
i
runsToDo
i
testTermVectors
catchClause
e
printStackTrace
return
testTermVectors
int
numDocs
numDocs
long
start
for
forControl
int
docId
docId
numDocs
docId
block
start
currentTimeMillis
TermFreqVector
vectors
getTermFreqVectors
docId
timeElapsed
currentTimeMillis
start
verifyVectors
vectors
docId
start
currentTimeMillis
TermFreqVector
vector
getTermFreqVector
docId
timeElapsed
currentTimeMillis
start
vectors
TermFreqVector
vectors
vector
verifyVectors
vectors
docId
verifyVectors
vectors
TermFreqVector
num
int
StringBuffer
temp
StringBuffer
String
terms
for
forControl
int
i
i
length
i
block
terms
vectors
i
getTerms
for
forControl
int
z
z
length
z
block
append
terms
z
if
intToEnglish
trim
equals
toString
trim
num
println
Runnable
