TestDoc
main
args
String
run
TestSuite
TestDoc
File
workDir
File
indexDir
LinkedList
files
setUp
workDir
File
getProperty
mkdirs
indexDir
File
workDir
mkdirs
Directory
directory
getDirectory
indexDir
close
files
LinkedList
add
createOutput
add
createOutput
createOutput
File
name
String
text
String
FileWriter
fw
PrintWriter
pw
try
File
f
File
workDir
name
if
exists
delete
fw
FileWriter
f
pw
PrintWriter
fw
println
text
return
f
if
pw
close
if
fw
close
testIndexAndMerge
StringWriter
sw
StringWriter
PrintWriter
out
PrintWriter
sw
Directory
directory
getDirectory
indexDir
close
indexDoc
printSegment
out
indexDoc
printSegment
out
merge
printSegment
out
merge
printSegment
out
merge
printSegment
out
close
close
String
multiFileOutput
getBuffer
toString
sw
StringWriter
out
PrintWriter
sw
directory
getDirectory
indexDir
close
indexDoc
printSegment
out
indexDoc
printSegment
out
merge
printSegment
out
merge
printSegment
out
merge
printSegment
out
close
close
String
singleFileOutput
getBuffer
toString
assertEquals
multiFileOutput
singleFileOutput
indexDoc
segment
String
fileName
String
Directory
directory
getDirectory
indexDir
Analyzer
analyzer
SimpleAnalyzer
DocumentWriter
writer
DocumentWriter
directory
analyzer
getDefault
File
file
File
workDir
fileName
Document
doc
Document
file
addDocument
segment
doc
close
merge
seg1
String
seg2
String
merged
String
useCompoundFile
boolean
Directory
directory
getDirectory
indexDir
SegmentReader
r1
get
SegmentInfo
seg1
directory
SegmentReader
r2
get
SegmentInfo
seg2
directory
SegmentMerger
merger
SegmentMerger
directory
merged
add
r1
add
r2
merge
closeReaders
if
useCompoundFile
block
Vector
filesToDelete
createCompoundFile
merged
for
forControl
Iterator
iter
iterator
hasNext
deleteFile
String
next
close
printSegment
out
PrintWriter
segment
String
Directory
directory
getDirectory
indexDir
SegmentReader
reader
get
SegmentInfo
segment
directory
for
forControl
int
i
i
numDocs
i
println
document
i
TermEnum
tis
terms
while
next
block
print
term
println
docFreq
TermPositions
positions
termPositions
term
try
while
next
block
print
doc
print
freq
print
print
nextPosition
for
forControl
int
j
j
freq
j
print
nextPosition
println
close
close
close
close
TestCase
