TestDisjunctionMaxQuery
float
SCORE_COMP_THRESH
TestSimilarity
TestSimilarity
tf
float
freq
float
if
freq
return
return
lengthNorm
float
fieldName
String
numTerms
int
return
idf
float
docFreq
int
numDocs
int
return
DefaultSimilarity
Similarity
sim
TestSimilarity
Directory
index
IndexReader
r
IndexSearcher
s
setUp
index
RAMDirectory
IndexWriter
writer
IndexWriter
index
WhitespaceAnalyzer
setSimilarity
sim
block
Document
d1
Document
add
Field
YES
UN_TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
addDocument
d1
block
Document
d2
Document
add
Field
YES
UN_TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
addDocument
d2
block
Document
d3
Document
add
Field
YES
UN_TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
addDocument
d3
block
Document
d4
Document
add
Field
YES
UN_TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
add
Field
YES
TOKENIZED
addDocument
d4
close
r
open
index
s
IndexSearcher
r
setSimilarity
sim
testSimpleEqualScores1
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
Hits
h
search
q
try
assertEquals
toString
length
float
score
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
score
i
SCORE_COMP_THRESH
catchClause
e
printHits
h
throw
e
testSimpleEqualScores2
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
Hits
h
search
q
try
assertEquals
toString
length
float
score
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
score
i
SCORE_COMP_THRESH
catchClause
e
printHits
h
throw
e
testSimpleEqualScores3
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
add
tq
add
tq
Hits
h
search
q
try
assertEquals
toString
length
float
score
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
score
i
SCORE_COMP_THRESH
catchClause
e
printHits
h
throw
e
testSimpleTiebreaker
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
Hits
h
search
q
try
assertEquals
toString
length
assertEquals
doc
get
float
score0
score
float
score1
score
float
score2
score
assertTrue
score0
score1
score0
score1
assertEquals
score1
score2
SCORE_COMP_THRESH
catchClause
e
printHits
h
throw
e
testBooleanRequiredEqualScores
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
MUST
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
MUST
Hits
h
search
q
try
assertEquals
toString
length
float
score
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
score
i
SCORE_COMP_THRESH
catchClause
e
printHits
h
throw
e
testBooleanOptionalNoTiebreaker
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
Hits
h
search
q
try
assertEquals
toString
length
float
score
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
score
i
SCORE_COMP_THRESH
assertEquals
doc
get
length
float
score1
score
length
assertTrue
score
score1
score
score1
catchClause
e
printHits
h
throw
e
testBooleanOptionalWithTiebreaker
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
Hits
h
search
q
try
assertEquals
toString
length
float
score0
score
float
score1
score
float
score2
score
float
score3
score
String
doc0
doc
get
String
doc1
doc
get
String
doc2
doc
get
String
doc3
doc
get
assertTrue
doc0
equals
equals
assertTrue
doc0
equals
equals
assertEquals
score0
score1
SCORE_COMP_THRESH
assertEquals
doc2
assertTrue
score1
score2
score1
score2
assertEquals
doc3
assertTrue
score2
score3
score2
score3
catchClause
e
printHits
h
throw
e
testBooleanOptionalWithTiebreakerAndBoost
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
Hits
h
search
q
try
assertEquals
toString
length
float
score0
score
float
score1
score
float
score2
score
float
score3
score
String
doc0
doc
get
String
doc1
doc
get
String
doc2
doc
get
String
doc3
doc
get
assertEquals
doc0
assertEquals
doc1
assertEquals
doc2
assertEquals
doc3
assertTrue
score0
score1
score0
score1
assertTrue
score1
score2
score1
score2
assertTrue
score2
score3
score2
score3
catchClause
e
printHits
h
throw
e
tq
Query
f
String
t
String
return
TermQuery
Term
f
t
tq
Query
f
String
t
String
b
float
Query
q
tq
f
t
setBoost
b
return
q
printHits
test
String
h
Hits
println
test
DecimalFormat
f
DecimalFormat
for
forControl
int
i
i
length
i
block
Document
d
doc
i
float
score
score
i
println
i
format
score
get
TestCase
