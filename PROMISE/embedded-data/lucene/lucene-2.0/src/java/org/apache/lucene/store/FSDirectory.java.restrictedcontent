FSDirectory
Hashtable
DIRECTORIES
Hashtable
boolean
disableLocks
setDisableLocks
doDisableLocks
boolean
disableLocks
doDisableLocks
getDisableLocks
boolean
return
disableLocks
String
LOCK_DIR
getProperty
getProperty
Class
IMPL
try
String
name
getProperty
getName
FSDirectory
IMPL
forName
name
catchClause
e
throw
RuntimeException
toString
e
catchClause
se
try
IMPL
forName
getName
FSDirectory
catchClause
e
throw
RuntimeException
toString
e
MessageDigest
DIGESTER
try
DIGESTER
getInstance
catchClause
e
throw
RuntimeException
toString
e
byte
buffer
getDirectory
FSDirectory
path
String
create
boolean
return
getDirectory
File
path
create
getDirectory
FSDirectory
file
File
create
boolean
file
File
getCanonicalPath
FSDirectory
dir
synchronized
DIRECTORIES
dir
FSDirectory
get
file
if
dir
block
try
dir
FSDirectory
newInstance
catchClause
e
throw
RuntimeException
toString
e
init
file
create
put
file
dir
if
create
block
create
synchronized
dir
refCount
return
dir
File
directory
int
refCount
File
lockDir
FSDirectory
init
path
File
create
boolean
directory
path
if
LOCK_DIR
block
lockDir
directory
block
lockDir
File
LOCK_DIR
if
exists
block
if
mkdirs
throw
IOException
getAbsolutePath
if
isDirectory
block
throw
IOException
getAbsolutePath
if
create
block
create
if
isDirectory
throw
IOException
path
create
if
exists
if
mkdirs
throw
IOException
directory
if
isDirectory
throw
IOException
directory
String
files
list
IndexFileNameFilter
if
files
throw
IOException
getAbsolutePath
for
forControl
int
i
i
length
i
block
File
file
File
directory
files
i
if
delete
throw
IOException
file
String
lockPrefix
getLockPrefix
toString
files
list
if
files
throw
IOException
getAbsolutePath
for
forControl
int
i
i
length
i
block
if
files
i
startsWith
lockPrefix
continue
File
lockFile
File
lockDir
files
i
if
delete
throw
IOException
lockFile
list
String
return
list
fileExists
boolean
name
String
File
file
File
directory
name
return
exists
fileModified
long
name
String
File
file
File
directory
name
return
lastModified
fileModified
long
directory
File
name
String
File
file
File
directory
name
return
lastModified
touchFile
name
String
File
file
File
directory
name
setLastModified
currentTimeMillis
fileLength
long
name
String
File
file
File
directory
name
return
length
deleteFile
name
String
File
file
File
directory
name
if
delete
throw
IOException
file
renameFile
from
String
to
String
File
old
File
directory
from
File
nu
File
directory
to
if
exists
if
delete
throw
IOException
nu
if
renameTo
nu
block
java
io
InputStream
in
java
io
OutputStream
out
try
in
FileInputStream
old
out
FileOutputStream
nu
if
buffer
block
buffer
byte
int
len
while
len
read
buffer
block
write
buffer
len
delete
catchClause
ioe
IOException
newExc
IOException
old
nu
initCause
ioe
throw
newExc
if
in
block
try
close
catchClause
e
throw
RuntimeException
toString
e
if
out
block
try
close
catchClause
e
throw
RuntimeException
toString
e
createOutput
IndexOutput
name
String
File
file
File
directory
name
if
exists
delete
throw
IOException
file
return
FSIndexOutput
file
openInput
IndexInput
name
String
return
FSIndexInput
File
directory
name
char
HEX_DIGITS
makeLock
Lock
name
String
StringBuffer
buf
getLockPrefix
append
append
name
File
lockFile
File
lockDir
toString
return
Lock
obtain
boolean
if
disableLocks
return
if
exists
block
if
mkdirs
block
throw
IOException
lockDir
return
createNewFile
release
if
disableLocks
return
delete
isLocked
boolean
if
disableLocks
return
return
exists
toString
String
return
lockFile
getLockPrefix
StringBuffer
String
dirName
try
dirName
getCanonicalPath
catchClause
e
throw
RuntimeException
toString
e
byte
digest
synchronized
DIGESTER
digest
digest
getBytes
StringBuffer
buf
StringBuffer
append
for
forControl
int
i
i
length
i
block
int
b
digest
i
append
HEX_DIGITS
b
append
HEX_DIGITS
b
return
buf
close
if
refCount
block
synchronized
DIRECTORIES
remove
directory
getFile
File
return
directory
toString
String
return
getClass
getName
directory
Directory
FSIndexInput
Descriptor
long
position
Descriptor
file
File
mode
String
file
mode
RandomAccessFile
Descriptor
file
boolean
isClone
long
length
FSIndexInput
path
File
file
Descriptor
path
length
length
readInternal
b
byte
offset
int
len
int
synchronized
file
long
position
getFilePointer
if
position
position
block
seek
position
position
position
int
total
do
total
len
block
int
i
read
b
offset
total
len
total
if
i
throw
IOException
position
i
total
i
close
if
isClone
close
seekInternal
position
long
length
long
return
length
finalize
close
clone
Object
FSIndexInput
clone
FSIndexInput
clone
isClone
return
clone
isFDValid
boolean
return
getFD
valid
BufferedIndexInput
FSIndexOutput
RandomAccessFile
file
FSIndexOutput
path
File
file
RandomAccessFile
path
flushBuffer
b
byte
size
int
write
b
size
close
close
close
seek
pos
long
seek
pos
seek
pos
length
long
return
length
finalize
close
BufferedIndexOutput
