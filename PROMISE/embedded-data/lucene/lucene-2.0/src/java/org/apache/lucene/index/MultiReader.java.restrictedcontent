MultiReader
IndexReader
subReaders
int
starts
Hashtable
normsCache
Hashtable
int
maxDoc
int
numDocs
boolean
hasDeletions
MultiReader
subReaders
IndexReader
length
subReaders
directory
initialize
subReaders
MultiReader
directory
Directory
sis
SegmentInfos
closeDirectory
boolean
subReaders
IndexReader
directory
sis
closeDirectory
initialize
subReaders
initialize
subReaders
IndexReader
subReaders
subReaders
starts
int
length
for
forControl
int
i
i
length
i
block
starts
i
maxDoc
maxDoc
subReaders
i
maxDoc
if
subReaders
i
hasDeletions
hasDeletions
starts
length
maxDoc
getTermFreqVectors
TermFreqVector
n
int
int
i
readerIndex
n
return
subReaders
i
getTermFreqVectors
n
starts
i
getTermFreqVector
TermFreqVector
n
int
field
String
int
i
readerIndex
n
return
subReaders
i
getTermFreqVector
n
starts
i
field
numDocs
int
if
numDocs
block
int
n
for
forControl
int
i
i
length
i
n
subReaders
i
numDocs
numDocs
n
return
numDocs
maxDoc
int
return
maxDoc
document
Document
n
int
int
i
readerIndex
n
return
subReaders
i
document
n
starts
i
isDeleted
boolean
n
int
int
i
readerIndex
n
return
subReaders
i
isDeleted
n
starts
i
hasDeletions
boolean
return
hasDeletions
doDelete
n
int
numDocs
int
i
readerIndex
n
subReaders
i
deleteDocument
n
starts
i
hasDeletions
doUndeleteAll
for
forControl
int
i
i
length
i
subReaders
i
undeleteAll
hasDeletions
numDocs
readerIndex
int
n
int
int
lo
int
hi
length
while
hi
lo
block
int
mid
lo
hi
int
midValue
starts
mid
if
n
midValue
hi
mid
if
n
midValue
lo
mid
block
while
mid
length
starts
mid
midValue
block
mid
return
mid
return
hi
hasNorms
boolean
field
String
for
forControl
int
i
i
length
i
block
if
subReaders
i
hasNorms
field
return
return
byte
ones
fakeNorms
byte
if
ones
ones
createFakeNorms
maxDoc
return
ones
norms
byte
field
String
byte
bytes
byte
get
field
if
bytes
return
bytes
if
hasNorms
field
return
fakeNorms
bytes
byte
maxDoc
for
forControl
int
i
i
length
i
subReaders
i
norms
field
bytes
starts
i
put
field
bytes
return
bytes
norms
field
String
result
byte
offset
int
byte
bytes
byte
get
field
if
bytes
hasNorms
field
bytes
fakeNorms
if
bytes
arraycopy
bytes
result
offset
maxDoc
for
forControl
int
i
i
length
i
subReaders
i
norms
field
result
offset
starts
i
doSetNorm
n
int
field
String
value
byte
remove
field
int
i
readerIndex
n
subReaders
i
setNorm
n
starts
i
field
value
terms
TermEnum
return
MultiTermEnum
subReaders
starts
terms
TermEnum
term
Term
return
MultiTermEnum
subReaders
starts
term
docFreq
int
t
Term
int
total
for
forControl
int
i
i
length
i
total
subReaders
i
docFreq
t
return
total
termDocs
TermDocs
return
MultiTermDocs
subReaders
starts
termPositions
TermPositions
return
MultiTermPositions
subReaders
starts
doCommit
for
forControl
int
i
i
length
i
subReaders
i
commit
doClose
for
forControl
int
i
i
length
i
subReaders
i
close
getFieldNames
Collection
fieldNames
IndexReader
FieldOption
Set
fieldSet
HashSet
for
forControl
int
i
i
length
i
block
IndexReader
reader
subReaders
i
Collection
names
getFieldNames
fieldNames
addAll
names
return
fieldSet
IndexReader
MultiTermEnum
SegmentMergeQueue
queue
Term
term
int
docFreq
MultiTermEnum
readers
IndexReader
starts
int
t
Term
queue
SegmentMergeQueue
length
for
forControl
int
i
i
length
i
block
IndexReader
reader
readers
i
TermEnum
termEnum
if
t
block
termEnum
terms
t
termEnum
terms
SegmentMergeInfo
smi
SegmentMergeInfo
starts
i
termEnum
reader
if
t
next
term
put
smi
close
if
t
size
block
next
next
boolean
SegmentMergeInfo
top
SegmentMergeInfo
top
if
top
block
term
return
term
term
docFreq
while
top
compareTo
term
block
pop
docFreq
docFreq
if
next
put
top
close
top
SegmentMergeInfo
top
return
term
Term
return
term
docFreq
int
return
docFreq
close
close
TermEnum
MultiTermDocs
IndexReader
readers
int
starts
Term
term
int
base
int
pointer
TermDocs
readerTermDocs
TermDocs
current
MultiTermDocs
r
IndexReader
s
int
readers
r
starts
s
readerTermDocs
TermDocs
length
doc
int
return
base
doc
freq
int
return
freq
seek
term
Term
term
term
base
pointer
current
seek
termEnum
TermEnum
seek
term
next
boolean
if
current
next
block
return
if
pointer
length
block
base
starts
pointer
current
termDocs
pointer
return
next
return
read
int
docs
int
freqs
int
while
block
while
current
block
if
pointer
length
block
base
starts
pointer
current
termDocs
pointer
block
return
int
end
read
docs
freqs
if
end
block
current
block
int
b
base
for
forControl
int
i
i
end
i
docs
i
b
return
end
skipTo
boolean
target
int
do
target
doc
block
if
next
return
return
termDocs
TermDocs
i
int
if
term
return
TermDocs
result
readerTermDocs
i
if
result
result
readerTermDocs
i
termDocs
readers
i
seek
term
return
result
termDocs
TermDocs
reader
IndexReader
return
termDocs
close
for
forControl
int
i
i
length
i
block
if
readerTermDocs
i
readerTermDocs
i
close
TermDocs
MultiTermPositions
MultiTermPositions
r
IndexReader
s
int
r
s
termDocs
TermDocs
reader
IndexReader
return
TermDocs
termPositions
nextPosition
int
return
TermPositions
current
MultiTermDocs
TermPositions
