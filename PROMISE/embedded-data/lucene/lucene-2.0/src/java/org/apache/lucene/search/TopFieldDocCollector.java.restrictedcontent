TopFieldDocCollector
TopFieldDocCollector
reader
IndexReader
sort
Sort
numHits
int
numHits
FieldSortedHitQueue
reader
fields
numHits
collect
doc
int
score
float
if
score
block
totalHits
insert
FieldDoc
doc
score
topDocs
TopDocs
FieldSortedHitQueue
fshq
FieldSortedHitQueue
hq
ScoreDoc
scoreDocs
ScoreDoc
size
for
forControl
int
i
size
i
i
scoreDocs
i
fillFields
FieldDoc
pop
return
TopFieldDocs
totalHits
scoreDocs
getFields
getMaxScore
TopDocCollector
