DuplicateFilterTest
String
KEY_FIELD
RAMDirectory
directory
IndexReader
reader
TermQuery
tq
TermQuery
Term
IndexSearcher
searcher
setUp
directory
RAMDirectory
IndexWriter
writer
IndexWriter
directory
StandardAnalyzer
addDoc
writer
addDoc
writer
addDoc
writer
addDoc
writer
addDoc
writer
addDoc
writer
addDoc
writer
addDoc
writer
close
reader
open
directory
searcher
IndexSearcher
reader
tearDown
close
close
close
addDoc
writer
IndexWriter
url
String
text
String
date
String
Document
doc
Document
add
Field
KEY_FIELD
url
YES
NOT_ANALYZED
add
Field
text
YES
ANALYZED
add
Field
date
YES
ANALYZED
addDocument
doc
testDefaultFilter
DuplicateFilter
df
DuplicateFilter
KEY_FIELD
HashSet
results
HashSet
Hits
h
search
tq
df
for
forControl
int
i
i
length
i
block
Document
d
doc
i
String
url
get
KEY_FIELD
assertFalse
contains
url
add
url
testNoFilter
HashSet
results
HashSet
Hits
h
search
tq
assertTrue
length
boolean
dupsFound
for
forControl
int
i
i
length
i
block
Document
d
doc
i
String
url
get
KEY_FIELD
if
dupsFound
dupsFound
contains
url
add
url
assertTrue
dupsFound
testFastFilter
DuplicateFilter
df
DuplicateFilter
KEY_FIELD
setProcessingMode
PM_FAST_INVALIDATION
HashSet
results
HashSet
Hits
h
search
tq
df
assertTrue
length
for
forControl
int
i
i
length
i
block
Document
d
doc
i
String
url
get
KEY_FIELD
assertFalse
contains
url
add
url
assertEquals
size
testKeepsLastFilter
DuplicateFilter
df
DuplicateFilter
KEY_FIELD
setKeepMode
KM_USE_LAST_OCCURRENCE
Hits
h
search
tq
df
assertTrue
length
for
forControl
int
i
i
length
i
block
Document
d
doc
i
String
url
get
KEY_FIELD
TermDocs
td
termDocs
Term
KEY_FIELD
url
int
lastDoc
while
next
block
lastDoc
doc
assertEquals
lastDoc
id
i
testKeepsFirstFilter
DuplicateFilter
df
DuplicateFilter
KEY_FIELD
setKeepMode
KM_USE_FIRST_OCCURRENCE
Hits
h
search
tq
df
assertTrue
length
for
forControl
int
i
i
length
i
block
Document
d
doc
i
String
url
get
KEY_FIELD
TermDocs
td
termDocs
Term
KEY_FIELD
url
int
lastDoc
next
lastDoc
doc
assertEquals
lastDoc
id
i
TestCase
