TokenSources
getAnyTokenStream
TokenStream
reader
IndexReader
docId
int
field
String
doc
Document
analyzer
Analyzer
TokenStream
ts
TermFreqVector
tfv
TermFreqVector
getTermFreqVector
docId
field
if
tfv
block
if
tfv
TermPositionVector
block
ts
getTokenStream
TermPositionVector
tfv
if
ts
block
ts
getTokenStream
doc
field
analyzer
return
ts
getAnyTokenStream
TokenStream
reader
IndexReader
docId
int
field
String
analyzer
Analyzer
TokenStream
ts
TermFreqVector
tfv
TermFreqVector
getTermFreqVector
docId
field
if
tfv
block
if
tfv
TermPositionVector
block
ts
getTokenStream
TermPositionVector
tfv
if
ts
block
ts
getTokenStream
reader
docId
field
analyzer
return
ts
getTokenStream
TokenStream
tpv
TermPositionVector
return
getTokenStream
tpv
getTokenStream
TokenStream
tpv
TermPositionVector
tokenPositionsGuaranteedContiguous
boolean
StoredTokenStream
Token
tokens
int
currentToken
StoredTokenStream
tokens
Token
tokens
tokens
next
Token
reusableToken
Token
assert
reusableToken
if
currentToken
length
block
return
return
tokens
currentToken
TokenStream
String
terms
getTerms
int
freq
getTermFrequencies
int
totalTokens
Token
newToken
Token
for
forControl
int
t
t
length
t
block
totalTokens
freq
t
Token
tokensInOriginalOrder
Token
totalTokens
ArrayList
unsortedTokens
for
forControl
int
t
t
length
t
block
TermVectorOffsetInfo
offsets
getOffsets
t
if
offsets
block
return
int
pos
if
tokenPositionsGuaranteedContiguous
block
pos
getTermPositions
t
if
pos
block
if
unsortedTokens
block
unsortedTokens
ArrayList
for
forControl
int
tp
tp
length
tp
block
reinit
terms
t
offsets
tp
getStartOffset
offsets
tp
getEndOffset
add
clone
block
for
forControl
int
tp
tp
length
tp
block
reinit
terms
t
offsets
tp
getStartOffset
offsets
tp
getEndOffset
tokensInOriginalOrder
pos
tp
Token
clone
if
unsortedTokens
block
tokensInOriginalOrder
Token
toArray
Token
size
sort
tokensInOriginalOrder
Comparator
compare
int
o1
Object
o2
Object
Token
t1
Token
o1
Token
t2
Token
o2
if
startOffset
startOffset
return
if
startOffset
startOffset
return
return
return
StoredTokenStream
tokensInOriginalOrder
getTokenStream
TokenStream
reader
IndexReader
docId
int
field
String
TermFreqVector
tfv
TermFreqVector
getTermFreqVector
docId
field
if
tfv
block
throw
IllegalArgumentException
field
docId
if
tfv
TermPositionVector
block
TermPositionVector
tpv
TermPositionVector
getTermFreqVector
docId
field
return
getTokenStream
tpv
throw
IllegalArgumentException
field
docId
getTokenStream
TokenStream
reader
IndexReader
docId
int
field
String
analyzer
Analyzer
Document
doc
document
docId
return
getTokenStream
doc
field
analyzer
getTokenStream
TokenStream
doc
Document
field
String
analyzer
Analyzer
String
contents
get
field
if
contents
block
throw
IllegalArgumentException
field
return
getTokenStream
field
contents
analyzer
getTokenStream
TokenStream
field
String
contents
String
analyzer
Analyzer
return
tokenStream
field
StringReader
contents
