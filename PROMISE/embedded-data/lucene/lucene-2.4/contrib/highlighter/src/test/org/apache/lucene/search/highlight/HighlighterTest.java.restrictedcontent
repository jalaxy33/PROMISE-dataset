HighlighterTest
IndexReader
reader
String
FIELD_NAME
Query
query
RAMDirectory
ramDir
Searcher
searcher
Hits
hits
int
numHighlights
Analyzer
analyzer
StandardAnalyzer
String
texts
HighlighterTest
arg0
String
arg0
testHighlightingWithDefaultField
String
s1
QueryParser
parser
QueryParser
FIELD_NAME
StandardAnalyzer
Query
q
parse
String
expected
String
observed
highlightField
q
s1
println
expected
observed
assertEquals
expected
observed
q
parse
expected
s1
observed
highlightField
q
FIELD_NAME
s1
println
expected
observed
assertEquals
s1
highlightField
q
FIELD_NAME
s1
highlightField
String
query
Query
fieldName
String
text
String
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
fieldName
StringReader
text
StandardAnalyzer
SimpleHTMLFormatter
formatter
SimpleHTMLFormatter
Highlighter
highlighter
Highlighter
formatter
SpanScorer
query
fieldName
tokenStream
FIELD_NAME
setTextFragmenter
SimpleFragmenter
MAX_VALUE
reset
String
rv
getBestFragments
tokenStream
text
return
length
text
rv
testSimpleSpanHighlighter
doSearching
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
testSimpleSpanPhraseHighlighting
doSearching
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
assertTrue
numHighlights
numHighlights
testSimpleSpanPhraseHighlighting2
doSearching
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
assertTrue
numHighlights
numHighlights
testSimpleSpanPhraseHighlighting3
doSearching
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
assertTrue
numHighlights
numHighlights
testPosTermStdTerm
doSearching
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
assertTrue
numHighlights
numHighlights
testSpanMultiPhraseQueryHighlighting
MultiPhraseQuery
mpq
MultiPhraseQuery
add
Term
Term
FIELD_NAME
Term
FIELD_NAME
add
Term
FIELD_NAME
doSearching
mpq
int
maxNumFragmentsRequired
assertExpectedHighlightCount
maxNumFragmentsRequired
testSpanMultiPhraseQueryHighlightingWithGap
MultiPhraseQuery
mpq
MultiPhraseQuery
add
Term
Term
FIELD_NAME
add
Term
Term
FIELD_NAME
doSearching
mpq
int
maxNumFragmentsRequired
int
expectedHighlights
assertExpectedHighlightCount
maxNumFragmentsRequired
expectedHighlights
testNearSpanSimpleQuery
doSearching
SpanNearQuery
SpanQuery
SpanTermQuery
Term
FIELD_NAME
SpanTermQuery
Term
FIELD_NAME
TestHighlightRunner
helper
TestHighlightRunner
run
mode
SPAN
doStandardHighlights
analyzer
hits
query
run
assertTrue
numHighlights
numHighlights
testSimpleHighlighter
doSearching
Highlighter
highlighter
Highlighter
QueryScorer
query
setTextFragmenter
SimpleFragmenter
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
testSpanHighlighting
Query
query1
SpanNearQuery
SpanQuery
SpanTermQuery
Term
FIELD_NAME
SpanTermQuery
Term
FIELD_NAME
Query
query2
SpanNearQuery
SpanQuery
SpanTermQuery
Term
FIELD_NAME
SpanTermQuery
Term
FIELD_NAME
BooleanQuery
bquery
BooleanQuery
add
query1
SHOULD
add
query2
SHOULD
doSearching
bquery
TestHighlightRunner
helper
TestHighlightRunner
run
mode
SPAN
doStandardHighlights
analyzer
hits
query
run
assertTrue
numHighlights
numHighlights
testNotSpanSimpleQuery
doSearching
SpanNotQuery
SpanNearQuery
SpanQuery
SpanTermQuery
Term
FIELD_NAME
SpanTermQuery
Term
FIELD_NAME
SpanTermQuery
Term
FIELD_NAME
TestHighlightRunner
helper
TestHighlightRunner
run
mode
SPAN
doStandardHighlights
analyzer
hits
query
run
assertTrue
numHighlights
numHighlights
testGetBestFragmentsSimpleQuery
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetFuzzyFragments
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetWildCardFragments
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetMidWildCardFragments
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetRangeFragments
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
String
queryString
FIELD_NAME
QueryParser
parser
QueryParser
FIELD_NAME
StandardAnalyzer
setUseOldRangeQuery
query
parse
queryString
doSearching
query
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetConstantScoreRangeFragments
numHighlights
String
queryString
FIELD_NAME
QueryParser
parser
QueryParser
FIELD_NAME
StandardAnalyzer
query
parse
queryString
searcher
IndexSearcher
ramDir
println
toString
FIELD_NAME
hits
search
query
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
int
maxNumFragmentsRequired
String
fragmentSeparator
SpanScorer
scorer
TokenStream
tokenStream
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
setHighlightCnstScrRngQuery
scorer
SpanScorer
query
FIELD_NAME
CachingTokenFilter
tokenStream
Highlighter
highlighter
Highlighter
scorer
CachingTokenFilter
tokenStream
setTextFragmenter
SimpleFragmenter
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
fragmentSeparator
println
result
assertTrue
numHighlights
numHighlights
testGetBestFragmentsPhrase
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetBestFragmentsSpan
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
SpanQuery
clauses
SpanTermQuery
Term
SpanTermQuery
Term
SpanNearQuery
snq
SpanNearQuery
clauses
doSearching
snq
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testOffByOne
TestHighlightRunner
helper
TestHighlightRunner
run
TermQuery
query
TermQuery
Term
Highlighter
hg
Highlighter
SimpleHTMLFormatter
QueryScorer
query
setTextFragmenter
NullFragmenter
String
match
match
getBestFragment
StandardAnalyzer
assertEquals
match
start
testGetBestFragmentsFilteredQuery
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
RangeFilter
rf
RangeFilter
SpanQuery
clauses
SpanTermQuery
Term
SpanTermQuery
Term
SpanNearQuery
snq
SpanNearQuery
clauses
FilteredQuery
fq
FilteredQuery
snq
rf
doSearching
fq
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetBestFragmentsFilteredPhraseQuery
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
RangeFilter
rf
RangeFilter
PhraseQuery
pq
PhraseQuery
add
Term
add
Term
FilteredQuery
fq
FilteredQuery
pq
rf
doSearching
fq
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetBestFragmentsMultiTerm
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetBestFragmentsWithOr
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
doStandardHighlights
analyzer
hits
query
assertTrue
numHighlights
numHighlights
start
testGetBestSingleFragment
TestHighlightRunner
helper
TestHighlightRunner
run
doSearching
numHighlights
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
String
result
getBestFragment
tokenStream
text
println
result
assertTrue
numHighlights
numHighlights
numHighlights
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
getBestFragment
analyzer
FIELD_NAME
text
assertTrue
numHighlights
numHighlights
numHighlights
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
getBestFragments
analyzer
FIELD_NAME
text
assertTrue
numHighlights
numHighlights
start
testGetBestSingleFragmentWithWeights
TestHighlightRunner
helper
TestHighlightRunner
run
WeightedSpanTerm
wTerms
WeightedSpanTerm
wTerms
WeightedSpanTerm
List
positionSpans
ArrayList
add
PositionSpan
wTerms
addPositionSpans
positionSpans
wTerms
WeightedSpanTerm
positionSpans
ArrayList
add
PositionSpan
wTerms
addPositionSpans
positionSpans
Highlighter
highlighter
getHighlighter
wTerms
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
texts
setTextFragmenter
SimpleFragmenter
String
result
getBestFragment
trim
tokenStream
texts
assertTrue
result
equals
result
wTerms
setWeight
tokenStream
tokenStream
FIELD_NAME
StringReader
texts
highlighter
getHighlighter
wTerms
setTextFragmenter
SimpleFragmenter
result
getBestFragment
trim
tokenStream
texts
assertTrue
result
equals
result
start
testOverlapAnalyzer
TestHighlightRunner
helper
TestHighlightRunner
run
HashMap
synonyms
HashMap
put
Analyzer
analyzer
SynonymAnalyzer
synonyms
String
srchkey
String
s
QueryParser
parser
QueryParser
analyzer
Query
query
parse
srchkey
TokenStream
tokenStream
tokenStream
StringReader
s
Highlighter
highlighter
getHighlighter
query
tokenStream
tokenStream
tokenStream
StringReader
s
String
result
getBestFragments
tokenStream
s
String
expectedResult
assertTrue
expectedResult
result
equals
result
start
testGetSimpleHighlight
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
String
result
getBestFragment
tokenStream
text
println
result
assertTrue
numHighlights
numHighlights
start
testGetTextFragments
TestHighlightRunner
helper
TestHighlightRunner
run
doSearching
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
String
stringResults
getBestFragments
tokenStream
text
tokenStream
tokenStream
FIELD_NAME
StringReader
text
TextFragment
fragmentResults
getBestTextFragments
tokenStream
text
assertTrue
length
length
length
length
for
forControl
int
j
j
length
j
block
println
fragmentResults
j
assertTrue
fragmentResults
j
fragmentResults
j
toString
equals
stringResults
j
start
testMaxSizeHighlight
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
doSearching
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
texts
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
setMaxDocBytesToAnalyze
getBestFragment
tokenStream
texts
assertTrue
numHighlights
numHighlights
start
testMaxSizeHighlightTruncates
TestHighlightRunner
helper
TestHighlightRunner
run
String
goodWord
String
stopWords
TermQuery
query
TermQuery
Term
goodWord
String
match
StringBuffer
sb
StringBuffer
append
goodWord
for
forControl
int
i
i
i
block
append
append
stopWords
SimpleHTMLFormatter
fm
SimpleHTMLFormatter
Highlighter
hg
getHighlighter
query
tokenStream
StringReader
toString
StandardAnalyzer
stopWords
fm
setTextFragmenter
NullFragmenter
setMaxDocBytesToAnalyze
match
getBestFragment
StandardAnalyzer
stopWords
toString
assertTrue
length
getMaxDocBytesToAnalyze
append
append
goodWord
match
getBestFragment
StandardAnalyzer
stopWords
toString
assertTrue
length
getMaxDocBytesToAnalyze
start
testMaxSizeEndHighlight
TestHighlightRunner
helper
TestHighlightRunner
run
String
stopWords
TermQuery
query
TermQuery
Term
String
text
SimpleHTMLFormatter
fm
SimpleHTMLFormatter
Highlighter
hg
getHighlighter
query
tokenStream
StringReader
text
StandardAnalyzer
stopWords
fm
setTextFragmenter
NullFragmenter
setMaxDocCharsToAnalyze
String
match
getBestFragment
StandardAnalyzer
stopWords
text
assertTrue
endsWith
start
testUnRewrittenQuery
TestHighlightRunner
helper
TestHighlightRunner
run
numHighlights
searcher
IndexSearcher
ramDir
Analyzer
analyzer
StandardAnalyzer
QueryParser
parser
QueryParser
FIELD_NAME
analyzer
Query
query
parse
println
Hits
hits
search
query
int
maxNumFragmentsRequired
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
String
highlightedText
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
highlightedText
assertTrue
numHighlights
numHighlights
start
testNoFragments
TestHighlightRunner
helper
TestHighlightRunner
run
doSearching
for
forControl
int
i
i
length
i
block
String
text
texts
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
getHighlighter
query
FIELD_NAME
tokenStream
String
result
getBestFragment
tokenStream
text
assertNull
result
start
testEncoding
String
rawDocContent
Highlighter
highlighter
Highlighter
SimpleHTMLEncoder
Scorer
startFragment
newFragment
TextFragment
getTokenScore
float
token
Token
return
getFragmentScore
float
return
setTextFragmenter
SimpleFragmenter
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
rawDocContent
String
encodedSnippet
getBestFragments
tokenStream
rawDocContent
String
xhtml
encodedSnippet
DocumentBuilderFactory
dbf
newInstance
DocumentBuilder
db
newDocumentBuilder
org
w3c
dom
Document
doc
parse
ByteArrayInputStream
getBytes
Element
root
getDocumentElement
NodeList
nodes
getElementsByTagName
Element
body
Element
item
nodes
getElementsByTagName
Element
h2
Element
item
String
decodedSnippet
getFirstChild
getNodeValue
assertEquals
rawDocContent
decodedSnippet
testMultiSearcher
RAMDirectory
ramDir1
RAMDirectory
IndexWriter
writer1
IndexWriter
ramDir1
StandardAnalyzer
Document
d
Document
Field
f
Field
FIELD_NAME
YES
ANALYZED
add
f
addDocument
d
optimize
close
IndexReader
reader1
open
ramDir1
RAMDirectory
ramDir2
RAMDirectory
IndexWriter
writer2
IndexWriter
ramDir2
StandardAnalyzer
d
Document
f
Field
FIELD_NAME
YES
ANALYZED
add
f
addDocument
d
optimize
close
IndexReader
reader2
open
ramDir2
IndexSearcher
searchers
IndexSearcher
searchers
IndexSearcher
ramDir1
searchers
IndexSearcher
ramDir2
MultiSearcher
multiSearcher
MultiSearcher
searchers
QueryParser
parser
QueryParser
FIELD_NAME
StandardAnalyzer
query
parse
println
toString
FIELD_NAME
hits
search
query
Query
expandedQueries
Query
expandedQueries
rewrite
reader1
expandedQueries
rewrite
reader2
query
combine
expandedQueries
Highlighter
highlighter
Highlighter
QueryScorer
query
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
text
String
highlightedText
getBestFragment
tokenStream
text
println
highlightedText
assertTrue
numHighlights
numHighlights
testFieldSpecificHighlighting
TestHighlightRunner
helper
TestHighlightRunner
run
String
docMainText
QueryParser
parser
QueryParser
FIELD_NAME
analyzer
Query
query
parse
Scorer
fieldSpecificScorer
if
mode
SPAN
block
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
docMainText
CachingTokenFilter
ctf
CachingTokenFilter
tokenStream
fieldSpecificScorer
SpanScorer
query
FIELD_NAME
ctf
if
mode
STANDARD
block
fieldSpecificScorer
QueryScorer
query
Highlighter
fieldSpecificHighlighter
Highlighter
SimpleHTMLFormatter
fieldSpecificScorer
setTextFragmenter
NullFragmenter
String
result
getBestFragment
analyzer
FIELD_NAME
docMainText
assertEquals
result
Scorer
fieldInSpecificScorer
if
mode
SPAN
block
TokenStream
tokenStream
tokenStream
FIELD_NAME
StringReader
docMainText
CachingTokenFilter
ctf
CachingTokenFilter
tokenStream
fieldInSpecificScorer
SpanScorer
query
ctf
if
mode
STANDARD
block
fieldInSpecificScorer
QueryScorer
query
Highlighter
fieldInSpecificHighlighter
Highlighter
SimpleHTMLFormatter
fieldInSpecificScorer
setTextFragmenter
NullFragmenter
result
getBestFragment
analyzer
FIELD_NAME
docMainText
assertEquals
result
close
start
getTS2
TokenStream
return
TokenStream
Iterator
iter
List
lst
lst
ArrayList
Token
t
t
createToken
add
t
t
createToken
add
t
t
createToken
setPositionIncrement
add
t
t
createToken
add
t
t
createToken
add
t
iter
iterator
next
Token
reusableToken
Token
assert
reusableToken
return
hasNext
Token
next
getTS2a
TokenStream
return
TokenStream
Iterator
iter
List
lst
lst
ArrayList
Token
t
t
createToken
add
t
t
createToken
setPositionIncrement
add
t
t
createToken
add
t
t
createToken
add
t
t
createToken
add
t
iter
iterator
next
Token
reusableToken
Token
assert
reusableToken
return
hasNext
Token
next
testOverlapAnalyzer2
TestHighlightRunner
helper
TestHighlightRunner
run
String
s
Query
query
Highlighter
highlighter
String
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2
result
getBestFragments
getTS2
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
query
parse
QueryParser
WhitespaceAnalyzer
highlighter
getHighlighter
query
getTS2a
result
getBestFragments
getTS2a
s
assertEquals
result
start
Directory
dir
RAMDirectory
Analyzer
a
WhitespaceAnalyzer
testWeightedTermsWithDeletes
makeIndex
deleteDocument
searchIndex
doc
Document
f
String
v
String
Document
doc
Document
add
Field
f
v
YES
ANALYZED
return
doc
makeIndex
IndexWriter
writer
IndexWriter
dir
a
LIMITED
addDocument
doc
addDocument
doc
addDocument
doc
addDocument
doc
optimize
close
deleteDocument
IndexWriter
writer
IndexWriter
dir
a
LIMITED
deleteDocuments
Term
close
searchIndex
String
q
QueryParser
parser
QueryParser
a
Query
query
parse
q
IndexSearcher
searcher
IndexSearcher
dir
Scorer
scorer
QueryScorer
query
getIndexReader
Highlighter
h
Highlighter
scorer
TopDocs
hits
search
query
for
forControl
int
i
i
totalHits
i
block
Document
doc
doc
scoreDocs
i
doc
String
result
getBestFragment
a
get
println
result
assertEquals
result
close
highlightTerm
String
originalText
String
group
TokenGroup
if
getTotalScore
block
return
originalText
numHighlights
return
originalText
doSearching
queryString
String
QueryParser
parser
QueryParser
FIELD_NAME
StandardAnalyzer
query
parse
queryString
doSearching
query
doSearching
unReWrittenQuery
Query
searcher
IndexSearcher
ramDir
query
rewrite
reader
println
toString
FIELD_NAME
hits
search
query
assertExpectedHighlightCount
maxNumFragmentsRequired
int
expectedHighlights
int
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
CachingTokenFilter
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
SpanScorer
query
FIELD_NAME
tokenStream
setTextFragmenter
SimpleFragmenter
reset
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
println
result
assertTrue
numHighlights
numHighlights
expectedHighlights
setUp
ramDir
RAMDirectory
IndexWriter
writer
IndexWriter
ramDir
StandardAnalyzer
for
forControl
int
i
i
length
i
block
addDoc
writer
texts
i
optimize
close
reader
open
ramDir
numHighlights
addDoc
writer
IndexWriter
text
String
Document
d
Document
Field
f
Field
FIELD_NAME
text
YES
ANALYZED
add
f
addDocument
d
tearDown
tearDown
createToken
Token
term
String
start
int
offset
int
Token
token
Token
start
offset
setTermBuffer
term
return
token
TestCase
Formatter
SynonymAnalyzer
Map
synonyms
SynonymAnalyzer
synonyms
Map
synonyms
synonyms
tokenStream
TokenStream
arg0
String
arg1
Reader
return
SynonymTokenizer
LowerCaseTokenizer
arg1
synonyms
Analyzer
SynonymTokenizer
TokenStream
realStream
Token
currentRealToken
Map
synonyms
StringTokenizer
st
SynonymTokenizer
realStream
TokenStream
synonyms
Map
realStream
realStream
synonyms
synonyms
next
Token
reusableToken
Token
assert
reusableToken
if
currentRealToken
block
Token
nextRealToken
next
reusableToken
if
nextRealToken
block
return
String
expansions
String
get
term
if
expansions
block
return
nextRealToken
st
StringTokenizer
expansions
if
hasMoreTokens
block
currentRealToken
Token
clone
return
currentRealToken
block
reinit
nextToken
startOffset
endOffset
setPositionIncrement
if
hasMoreTokens
block
currentRealToken
st
return
reusableToken
TestHighlightRunner
int
STANDARD
int
SPAN
int
mode
STANDARD
getHighlighter
Highlighter
query
Query
fieldName
String
stream
TokenStream
formatter
Formatter
if
mode
STANDARD
block
return
Highlighter
formatter
QueryScorer
query
if
mode
SPAN
block
CachingTokenFilter
tokenStream
CachingTokenFilter
stream
Highlighter
highlighter
try
highlighter
Highlighter
formatter
SpanScorer
query
fieldName
tokenStream
reset
catchClause
e
throw
RuntimeException
e
return
highlighter
block
throw
RuntimeException
getHighlighter
Highlighter
weightedTerms
WeightedTerm
formatter
Formatter
if
mode
STANDARD
block
return
Highlighter
formatter
QueryScorer
weightedTerms
if
mode
SPAN
block
Highlighter
highlighter
highlighter
Highlighter
formatter
SpanScorer
WeightedSpanTerm
weightedTerms
return
highlighter
block
throw
RuntimeException
doStandardHighlights
analyzer
Analyzer
hits
Hits
query
Query
formatter
Formatter
for
forControl
int
i
i
length
i
block
String
text
doc
get
FIELD_NAME
i
int
maxNumFragmentsRequired
String
fragmentSeparator
Scorer
scorer
TokenStream
tokenStream
if
mode
SPAN
block
tokenStream
CachingTokenFilter
tokenStream
FIELD_NAME
StringReader
text
scorer
SpanScorer
query
FIELD_NAME
CachingTokenFilter
tokenStream
if
mode
STANDARD
block
scorer
QueryScorer
query
tokenStream
tokenStream
FIELD_NAME
StringReader
text
Highlighter
highlighter
Highlighter
formatter
scorer
if
mode
SPAN
block
CachingTokenFilter
tokenStream
setTextFragmenter
SimpleFragmenter
String
result
getBestFragments
tokenStream
text
maxNumFragmentsRequired
fragmentSeparator
println
result
run
start
println
run
println
mode
SPAN
run
TokenStream
