TrecDocMaker
String
newline
getProperty
ThreadLocal
dateFormat
ThreadLocal
File
dataDir
ArrayList
inputFiles
ArrayList
int
nextFile
int
iteration
BufferedReader
reader
GZIPInputStream
zis
String
DATE_FORMATS
setConfig
config
Config
setConfig
config
File
workDir
File
get
String
d
get
dataDir
File
d
if
isAbsolute
block
dataDir
File
workDir
d
resetUniqueBytes
clear
collectFiles
dataDir
inputFiles
if
size
block
throw
RuntimeException
getAbsolutePath
openNextFile
closeInputs
int
retries
while
block
File
f
synchronized
if
nextFile
size
block
if
forever
block
throw
NoMoreDataException
nextFile
iteration
f
File
get
nextFile
println
f
length
try
zis
GZIPInputStream
BufferedInputStream
FileInputStream
f
reader
BufferedReader
InputStreamReader
zis
return
catchClause
e
retries
if
retries
block
println
getAbsolutePath
retries
continue
block
throw
NoMoreDataException
closeInputs
if
zis
block
try
close
catchClause
e
println
e
printStackTrace
zis
if
reader
block
try
close
catchClause
e
println
e
printStackTrace
reader
read
StringBuffer
prefix
String
sb
StringBuffer
collectMatchLine
boolean
collectAll
boolean
sb
sb
StringBuffer
sb
String
sep
while
block
String
line
readLine
if
line
block
openNextFile
continue
if
startsWith
prefix
block
if
collectMatchLine
block
append
sep
line
sep
newline
break
if
collectAll
block
append
sep
line
sep
newline
return
sb
getNextDocData
DocData
if
reader
block
openNextFile
read
StringBuffer
sb
read
String
name
substring
length
name
substring
indexOf
iteration
read
sb
read
String
dateStr
substring
length
read
sb
read
Date
date
parseDate
dateStr
HTMLParser
p
getHtmlParser
DocData
docData
parse
name
date
sb
getDateFormat
addBytes
length
return
docData
getDateFormat
DateFormat
n
int
DateFormat
df
DateFormat
get
if
df
block
df
SimpleDateFormat
length
for
forControl
int
i
i
length
i
block
df
i
SimpleDateFormat
DATE_FORMATS
i
US
df
i
setLenient
set
df
return
df
n
parseDate
Date
dateStr
String
Date
date
for
forControl
int
i
i
length
i
block
try
date
getDateFormat
parse
trim
i
return
date
catchClause
e
println
dateStr
date
Date
return
date
resetInputs
resetInputs
closeInputs
nextFile
iteration
numUniqueTexts
int
return
size
BasicDocMaker
