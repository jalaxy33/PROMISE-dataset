CloseableThreadLocal
ThreadLocal
t
ThreadLocal
Map
hardRefs
HashMap
initialValue
Object
return
get
Object
WeakReference
weakRef
WeakReference
get
if
weakRef
block
Object
iv
initialValue
if
iv
block
set
iv
return
iv
return
block
Object
v
get
assert
v
return
v
set
object
Object
set
WeakReference
object
synchronized
hardRefs
put
currentThread
object
Iterator
it
keySet
iterator
while
hasNext
block
Thread
t
Thread
next
if
isAlive
remove
close
hardRefs
t
