DocFieldConsumers
DocFieldConsumer
one
DocFieldConsumer
two
DocFieldConsumers
one
DocFieldConsumer
two
DocFieldConsumer
one
one
two
two
setFieldInfos
fieldInfos
FieldInfos
setFieldInfos
fieldInfos
setFieldInfos
fieldInfos
setFieldInfos
fieldInfos
flush
threadsAndFields
Map
state
DocumentsWriter
FlushState
Map
oneThreadsAndFields
HashMap
Map
twoThreadsAndFields
HashMap
Iterator
it
entrySet
iterator
while
hasNext
block
Map
Entry
entry
Map
Entry
next
DocFieldConsumersPerThread
perThread
DocFieldConsumersPerThread
getKey
Collection
fields
Collection
getValue
Iterator
fieldsIt
iterator
Collection
oneFields
HashSet
Collection
twoFields
HashSet
while
hasNext
block
DocFieldConsumersPerField
perField
DocFieldConsumersPerField
next
add
one
add
two
put
one
oneFields
put
two
twoFields
flush
oneThreadsAndFields
state
flush
twoThreadsAndFields
state
closeDocStore
state
DocumentsWriter
FlushState
try
closeDocStore
state
closeDocStore
state
abort
try
abort
abort
freeRAM
boolean
boolean
any
freeRAM
any
freeRAM
return
any
addThread
DocFieldConsumerPerThread
docFieldProcessorPerThread
DocFieldProcessorPerThread
return
DocFieldConsumersPerThread
docFieldProcessorPerThread
addThread
docFieldProcessorPerThread
addThread
docFieldProcessorPerThread
PerDoc
docFreeList
PerDoc
int
freeCount
int
allocCount
getPerDoc
PerDoc
if
freeCount
block
allocCount
if
allocCount
length
block
assert
allocCount
length
docFreeList
PerDoc
getNextSize
allocCount
return
PerDoc
return
docFreeList
freeCount
freePerDoc
perDoc
PerDoc
assert
freeCount
length
docFreeList
freeCount
perDoc
PerDoc
DocumentsWriter
DocWriter
one
DocumentsWriter
DocWriter
two
sizeInBytes
long
return
sizeInBytes
sizeInBytes
finish
try
try
finish
finish
freePerDoc
abort
try
try
abort
abort
freePerDoc
DocumentsWriter
DocWriter
DocFieldConsumer
