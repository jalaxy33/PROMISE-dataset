SnapshotDeletionPolicy
IndexCommit
lastCommit
IndexDeletionPolicy
primary
String
snapshot
SnapshotDeletionPolicy
primary
IndexDeletionPolicy
primary
primary
onInit
commits
List
onInit
wrapCommits
commits
lastCommit
IndexCommit
get
size
onCommit
commits
List
onCommit
wrapCommits
commits
lastCommit
IndexCommit
get
size
snapshot
IndexCommitPoint
if
snapshot
snapshot
getSegmentsFileName
throw
IllegalStateException
return
lastCommit
release
if
snapshot
snapshot
throw
IllegalStateException
MyCommitPoint
IndexCommit
cp
MyCommitPoint
cp
IndexCommit
cp
cp
getSegmentsFileName
String
return
getSegmentsFileName
getFileNames
Collection
return
getFileNames
getDirectory
Directory
return
getDirectory
delete
synchronized
if
snapshot
equals
getSegmentsFileName
delete
isDeleted
boolean
return
isDeleted
getVersion
long
return
getVersion
getGeneration
long
return
getGeneration
IndexCommit
wrapCommits
List
commits
List
int
count
size
List
myCommits
ArrayList
count
for
forControl
int
i
i
count
i
add
MyCommitPoint
IndexCommit
get
i
return
myCommits
IndexDeletionPolicy
