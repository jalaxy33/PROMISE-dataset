LockStressTest
main
args
String
if
length
block
println
exit
int
myID
parseInt
args
if
myID
myID
block
println
exit
String
verifierHost
args
int
verifierPort
parseInt
args
String
lockFactoryClassName
args
String
lockDirName
args
int
sleepTimeMS
parseInt
args
Class
c
try
c
forName
lockFactoryClassName
catchClause
e
throw
IOException
lockFactoryClassName
LockFactory
lockFactory
try
lockFactory
LockFactory
newInstance
catchClause
e
throw
IOException
lockFactoryClassName
catchClause
e
throw
IOException
lockFactoryClassName
catchClause
e
throw
IOException
lockFactoryClassName
File
lockDir
File
lockDirName
if
lockFactory
NativeFSLockFactory
block
NativeFSLockFactory
lockFactory
if
lockFactory
SimpleFSLockFactory
block
SimpleFSLockFactory
lockFactory
setLockPrefix
LockFactory
verifyLF
VerifyingLockFactory
byte
myID
lockFactory
verifierHost
verifierPort
Lock
l
makeLock
while
block
boolean
obtained
try
obtained
obtain
catchClause
e
print
if
obtained
block
print
release
sleep
sleepTimeMS
