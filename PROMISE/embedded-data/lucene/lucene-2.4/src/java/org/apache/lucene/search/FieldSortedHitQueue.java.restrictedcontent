FieldSortedHitQueue
FieldSortedHitQueue
reader
IndexReader
fields
SortField
size
int
int
n
length
comparators
ScoreDocComparator
n
fields
SortField
n
for
forControl
int
i
i
n
i
block
String
fieldname
fields
i
getField
comparators
i
getCachedComparator
reader
fieldname
fields
i
getType
fields
i
getLocale
fields
i
getFactory
if
comparators
i
sortType
STRING
block
fields
i
SortField
fieldname
fields
i
getLocale
fields
i
getReverse
block
fields
i
SortField
fieldname
comparators
i
sortType
fields
i
getReverse
initialize
size
ScoreDocComparator
comparators
SortField
fields
float
maxscore
NEGATIVE_INFINITY
getMaxScore
float
return
maxscore
updateMaxScore
fdoc
FieldDoc
maxscore
max
maxscore
score
insert
boolean
fdoc
FieldDoc
updateMaxScore
fdoc
return
insert
fdoc
insert
boolean
fdoc
Object
return
insert
FieldDoc
fdoc
insertWithOverflow
Object
element
Object
updateMaxScore
FieldDoc
element
return
insertWithOverflow
element
lessThan
boolean
a
Object
b
Object
ScoreDoc
docA
ScoreDoc
a
ScoreDoc
docB
ScoreDoc
b
int
n
length
int
c
for
forControl
int
i
i
n
c
i
block
c
fields
comparators
i
compare
docB
docA
comparators
i
compare
docA
docB
if
c
return
doc
doc
return
c
fillFields
FieldDoc
doc
FieldDoc
int
n
length
Comparable
fields
Comparable
n
for
forControl
int
i
i
n
i
fields
i
comparators
i
sortValue
doc
fields
fields
return
doc
getFields
SortField
return
fields
getCachedComparator
ScoreDocComparator
reader
IndexReader
field
String
type
int
locale
Locale
factory
SortComparatorSource
if
type
DOC
return
INDEXORDER
if
type
SCORE
return
RELEVANCE
FieldCacheImpl
Entry
entry
factory
FieldCacheImpl
Entry
field
factory
FieldCacheImpl
Entry
field
type
locale
return
ScoreDocComparator
get
reader
entry
FieldCacheImpl
Cache
Comparators
FieldCacheImpl
Cache
createValue
Object
reader
IndexReader
entryKey
Object
FieldCacheImpl
Entry
entry
FieldCacheImpl
Entry
entryKey
String
fieldname
field
int
type
type
Locale
locale
locale
SortComparatorSource
factory
SortComparatorSource
custom
ScoreDocComparator
comparator
switch
type
case
AUTO
comparator
comparatorAuto
reader
fieldname
break
case
INT
comparator
comparatorInt
reader
fieldname
break
case
FLOAT
comparator
comparatorFloat
reader
fieldname
break
case
LONG
comparator
comparatorLong
reader
fieldname
break
case
DOUBLE
comparator
comparatorDouble
reader
fieldname
break
case
SHORT
comparator
comparatorShort
reader
fieldname
break
case
BYTE
comparator
comparatorByte
reader
fieldname
break
case
STRING
if
locale
comparator
comparatorStringLocale
reader
fieldname
locale
comparator
comparatorString
reader
fieldname
break
case
CUSTOM
comparator
newComparator
reader
fieldname
break
case
throw
RuntimeException
type
return
comparator
comparatorByte
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
byte
fieldOrder
getBytes
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
int
fi
fieldOrder
doc
int
fj
fieldOrder
doc
if
fi
fj
return
if
fi
fj
return
return
sortValue
Comparable
i
ScoreDoc
return
Byte
fieldOrder
doc
sortType
int
return
INT
comparatorShort
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
short
fieldOrder
getShorts
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
int
fi
fieldOrder
doc
int
fj
fieldOrder
doc
if
fi
fj
return
if
fi
fj
return
return
sortValue
Comparable
i
ScoreDoc
return
Short
fieldOrder
doc
sortType
int
return
SHORT
comparatorInt
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
int
fieldOrder
getInts
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
int
fi
fieldOrder
doc
int
fj
fieldOrder
doc
if
fi
fj
return
if
fi
fj
return
return
sortValue
Comparable
i
ScoreDoc
return
Integer
fieldOrder
doc
sortType
int
return
INT
comparatorLong
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
long
fieldOrder
getLongs
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
long
li
fieldOrder
doc
long
lj
fieldOrder
doc
if
li
lj
return
if
li
lj
return
return
sortValue
Comparable
i
ScoreDoc
return
Long
fieldOrder
doc
sortType
int
return
LONG
comparatorFloat
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
float
fieldOrder
getFloats
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
float
fi
fieldOrder
doc
float
fj
fieldOrder
doc
if
fi
fj
return
if
fi
fj
return
return
sortValue
Comparable
i
ScoreDoc
return
Float
fieldOrder
doc
sortType
int
return
FLOAT
comparatorDouble
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
double
fieldOrder
getDoubles
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
double
di
fieldOrder
doc
double
dj
fieldOrder
doc
if
di
dj
return
if
di
dj
return
return
sortValue
Comparable
i
ScoreDoc
return
Double
fieldOrder
doc
sortType
int
return
DOUBLE
comparatorString
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
FieldCache
StringIndex
index
getStringIndex
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
int
fi
order
doc
int
fj
order
doc
if
fi
fj
return
if
fi
fj
return
return
sortValue
Comparable
i
ScoreDoc
return
lookup
order
doc
sortType
int
return
STRING
comparatorStringLocale
ScoreDocComparator
reader
IndexReader
fieldname
String
locale
Locale
Collator
collator
getInstance
locale
String
field
intern
String
index
getStrings
reader
field
return
ScoreDocComparator
compare
int
i
ScoreDoc
j
ScoreDoc
String
is
index
doc
String
js
index
doc
if
is
js
block
return
if
is
block
return
if
js
block
return
block
return
compare
is
js
sortValue
Comparable
i
ScoreDoc
return
index
doc
sortType
int
return
STRING
comparatorAuto
ScoreDocComparator
reader
IndexReader
fieldname
String
String
field
intern
Object
lookupArray
getAuto
reader
field
if
lookupArray
FieldCache
StringIndex
block
return
comparatorString
reader
field
if
lookupArray
int
block
return
comparatorInt
reader
field
if
lookupArray
long
block
return
comparatorLong
reader
field
if
lookupArray
float
block
return
comparatorFloat
reader
field
if
lookupArray
String
block
return
comparatorString
reader
field
block
throw
RuntimeException
field
PriorityQueue
