TermVectorsWriter
IndexOutput
tvx
tvd
tvf
FieldInfos
fieldInfos
UnicodeUtil
UTF8Result
utf8Results
UnicodeUtil
UTF8Result
UnicodeUtil
UTF8Result
UnicodeUtil
UTF8Result
TermVectorsWriter
directory
Directory
segment
String
fieldInfos
FieldInfos
tvx
createOutput
segment
VECTORS_INDEX_EXTENSION
writeInt
FORMAT_CURRENT
tvd
createOutput
segment
VECTORS_DOCUMENTS_EXTENSION
writeInt
FORMAT_CURRENT
tvf
createOutput
segment
VECTORS_FIELDS_EXTENSION
writeInt
FORMAT_CURRENT
fieldInfos
fieldInfos
addAllDocVectors
vectors
TermFreqVector
writeLong
getFilePointer
writeLong
getFilePointer
if
vectors
block
int
numFields
length
writeVInt
numFields
long
fieldPointers
long
numFields
for
forControl
int
i
i
numFields
i
block
fieldPointers
i
getFilePointer
int
fieldNumber
fieldNumber
vectors
i
getField
writeVInt
fieldNumber
int
numTerms
vectors
i
size
writeVInt
numTerms
TermPositionVector
tpVector
byte
bits
boolean
storePositions
boolean
storeOffsets
if
vectors
i
TermPositionVector
block
tpVector
TermPositionVector
vectors
i
storePositions
size
getTermPositions
storeOffsets
size
getOffsets
bits
byte
storePositions
STORE_POSITIONS_WITH_TERMVECTOR
storeOffsets
STORE_OFFSET_WITH_TERMVECTOR
block
tpVector
bits
storePositions
storeOffsets
writeVInt
bits
String
terms
vectors
i
getTerms
int
freqs
vectors
i
getTermFrequencies
int
utf8Upto
utf8Results
length
for
forControl
int
j
j
numTerms
j
block
UTF16toUTF8
terms
j
terms
j
length
utf8Results
utf8Upto
int
start
bytesDifference
utf8Results
utf8Upto
result
utf8Results
utf8Upto
length
utf8Results
utf8Upto
result
utf8Results
utf8Upto
length
int
length
utf8Results
utf8Upto
length
start
writeVInt
start
writeVInt
length
writeBytes
utf8Results
utf8Upto
result
start
length
utf8Upto
utf8Upto
int
termFreq
freqs
j
writeVInt
termFreq
if
storePositions
block
int
positions
getTermPositions
j
if
positions
throw
IllegalStateException
assert
length
termFreq
int
lastPosition
for
forControl
int
k
k
length
k
block
int
position
positions
k
writeVInt
position
lastPosition
lastPosition
position
if
storeOffsets
block
TermVectorOffsetInfo
offsets
getOffsets
j
if
offsets
throw
IllegalStateException
assert
length
termFreq
int
lastEndOffset
for
forControl
int
k
k
length
k
block
int
startOffset
offsets
k
getStartOffset
int
endOffset
offsets
k
getEndOffset
writeVInt
startOffset
lastEndOffset
writeVInt
endOffset
startOffset
lastEndOffset
endOffset
long
lastFieldPointer
fieldPointers
for
forControl
int
i
i
numFields
i
block
long
fieldPointer
fieldPointers
i
writeVLong
fieldPointer
lastFieldPointer
lastFieldPointer
fieldPointer
writeVInt
addRawDocuments
reader
TermVectorsReader
tvdLengths
int
tvfLengths
int
numDocs
int
long
tvdPosition
getFilePointer
long
tvfPosition
getFilePointer
long
tvdStart
tvdPosition
long
tvfStart
tvfPosition
for
forControl
int
i
i
numDocs
i
block
writeLong
tvdPosition
tvdPosition
tvdLengths
i
writeLong
tvfPosition
tvfPosition
tvfLengths
i
copyBytes
getTvdStream
tvdPosition
tvdStart
copyBytes
getTvfStream
tvfPosition
tvfStart
assert
getFilePointer
tvdPosition
assert
getFilePointer
tvfPosition
close
IOException
keep
if
tvx
try
close
catchClause
e
if
keep
keep
e
if
tvd
try
close
catchClause
e
if
keep
keep
e
if
tvf
try
close
catchClause
e
if
keep
keep
e
if
keep
throw
IOException
fillInStackTrace
