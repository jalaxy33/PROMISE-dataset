StoredFieldsWriter
FieldsWriter
fieldsWriter
DocumentsWriter
docWriter
int
lastDocID
PerDoc
docFreeList
PerDoc
int
freeCount
StoredFieldsWriter
docWriter
DocumentsWriter
docWriter
docWriter
addThread
DocFieldConsumerPerThread
docFieldProcessorPerThread
DocFieldProcessorPerThread
return
StoredFieldsWriterPerThread
docFieldProcessorPerThread
flush
threadsAndFields
Map
state
DocumentsWriter
FlushState
if
numDocsInStore
block
initFieldsWriter
fill
numDocsInStore
getDocStoreOffset
if
fieldsWriter
flush
initFieldsWriter
if
fieldsWriter
block
String
docStoreSegment
getDocStoreSegment
if
docStoreSegment
block
assert
docStoreSegment
fieldsWriter
FieldsWriter
directory
docStoreSegment
fieldInfos
addOpenFile
docStoreSegment
FIELDS_EXTENSION
addOpenFile
docStoreSegment
FIELDS_INDEX_EXTENSION
lastDocID
closeDocStore
state
DocumentsWriter
FlushState
int
inc
numDocsInStore
lastDocID
if
inc
block
initFieldsWriter
fill
numDocsInStore
getDocStoreOffset
if
fieldsWriter
block
close
fieldsWriter
lastDocID
assert
docStoreSegmentName
add
docStoreSegmentName
FIELDS_EXTENSION
add
docStoreSegmentName
FIELDS_INDEX_EXTENSION
removeOpenFile
docStoreSegmentName
FIELDS_EXTENSION
removeOpenFile
docStoreSegmentName
FIELDS_INDEX_EXTENSION
if
numDocsInStore
fileLength
docStoreSegmentName
FIELDS_INDEX_EXTENSION
throw
RuntimeException
numDocsInStore
fileLength
docStoreSegmentName
FIELDS_INDEX_EXTENSION
docStoreSegmentName
FIELDS_INDEX_EXTENSION
int
allocCount
getPerDoc
PerDoc
if
freeCount
block
allocCount
if
allocCount
length
block
assert
allocCount
length
docFreeList
PerDoc
getNextSize
allocCount
return
PerDoc
return
docFreeList
freeCount
abort
if
fieldsWriter
block
try
close
catchClause
t
fieldsWriter
lastDocID
fill
docID
int
int
docStoreOffset
getDocStoreOffset
int
end
docID
docStoreOffset
while
lastDocID
end
block
skipDocument
lastDocID
finishDocument
perDoc
PerDoc
assert
testPoint
initFieldsWriter
fill
docID
flushDocument
numStoredFields
fdt
lastDocID
reset
free
perDoc
assert
testPoint
freeRAM
boolean
return
free
perDoc
PerDoc
assert
freeCount
length
assert
numStoredFields
assert
length
assert
getFilePointer
docFreeList
freeCount
perDoc
PerDoc
RAMOutputStream
fdt
RAMOutputStream
int
numStoredFields
reset
reset
numStoredFields
abort
reset
free
sizeInBytes
long
return
sizeInBytes
finish
finishDocument
DocumentsWriter
DocWriter
DocFieldConsumer
