TestDisjunctionMaxQuery
float
SCORE_COMP_THRESH
TestSimilarity
TestSimilarity
tf
float
freq
float
if
freq
return
return
lengthNorm
float
fieldName
String
numTerms
int
return
idf
float
docFreq
int
numDocs
int
return
DefaultSimilarity
Similarity
sim
TestSimilarity
Directory
index
IndexReader
r
IndexSearcher
s
setUp
setUp
index
RAMDirectory
IndexWriter
writer
IndexWriter
index
WhitespaceAnalyzer
LIMITED
setSimilarity
sim
block
Document
d1
Document
add
Field
YES
NOT_ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
addDocument
d1
block
Document
d2
Document
add
Field
YES
NOT_ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
addDocument
d2
block
Document
d3
Document
add
Field
YES
NOT_ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
addDocument
d3
block
Document
d4
Document
add
Field
YES
NOT_ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
add
Field
YES
ANALYZED
addDocument
d4
close
r
open
index
s
IndexSearcher
r
setSimilarity
sim
testSkipToFirsttimeMiss
DisjunctionMaxQuery
dq
DisjunctionMaxQuery
add
tq
add
tq
check
dq
s
Weight
dw
weight
s
Scorer
ds
scorer
r
boolean
skipOk
skipTo
if
skipOk
block
fail
document
get
doc
testSkipToFirsttimeHit
DisjunctionMaxQuery
dq
DisjunctionMaxQuery
add
tq
add
tq
check
dq
s
Weight
dw
weight
s
Scorer
ds
scorer
r
assertTrue
skipTo
assertEquals
document
get
doc
testSimpleEqualScores1
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score
h
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
h
i
score
SCORE_COMP_THRESH
catchClause
e
printHits
h
s
throw
e
testSimpleEqualScores2
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score
h
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
h
i
score
SCORE_COMP_THRESH
catchClause
e
printHits
h
s
throw
e
testSimpleEqualScores3
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
add
tq
add
tq
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score
h
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
h
i
score
SCORE_COMP_THRESH
catchClause
e
printHits
h
s
throw
e
testSimpleTiebreaker
DisjunctionMaxQuery
q
DisjunctionMaxQuery
add
tq
add
tq
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
assertEquals
doc
get
h
doc
float
score0
h
score
float
score1
h
score
float
score2
h
score
assertTrue
score0
score1
score0
score1
assertEquals
score1
score2
SCORE_COMP_THRESH
catchClause
e
printHits
h
s
throw
e
testBooleanRequiredEqualScores
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
MUST
check
q1
s
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
MUST
check
q2
s
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score
h
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
h
i
score
SCORE_COMP_THRESH
catchClause
e
printHits
h
s
throw
e
testBooleanOptionalNoTiebreaker
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score
h
score
for
forControl
int
i
i
length
i
block
assertEquals
i
score
h
i
score
SCORE_COMP_THRESH
assertEquals
doc
get
h
length
doc
float
score1
h
length
score
assertTrue
score
score1
score
score1
catchClause
e
printHits
h
s
throw
e
testBooleanOptionalWithTiebreaker
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score0
h
score
float
score1
h
score
float
score2
h
score
float
score3
h
score
String
doc0
doc
get
h
doc
String
doc1
doc
get
h
doc
String
doc2
doc
get
h
doc
String
doc3
doc
get
h
doc
assertTrue
doc0
equals
equals
assertTrue
doc0
equals
equals
assertEquals
score0
score1
SCORE_COMP_THRESH
assertEquals
doc2
assertTrue
score1
score2
score1
score2
assertEquals
doc3
assertTrue
score2
score3
score2
score3
catchClause
e
printHits
h
s
throw
e
testBooleanOptionalWithTiebreakerAndBoost
BooleanQuery
q
BooleanQuery
block
DisjunctionMaxQuery
q1
DisjunctionMaxQuery
add
tq
add
tq
add
q1
SHOULD
block
DisjunctionMaxQuery
q2
DisjunctionMaxQuery
add
tq
add
tq
add
q2
SHOULD
check
q
s
ScoreDoc
h
search
scoreDocs
q
try
assertEquals
toString
length
float
score0
h
score
float
score1
h
score
float
score2
h
score
float
score3
h
score
String
doc0
doc
get
h
doc
String
doc1
doc
get
h
doc
String
doc2
doc
get
h
doc
String
doc3
doc
get
h
doc
assertEquals
doc0
assertEquals
doc1
assertEquals
doc2
assertEquals
doc3
assertTrue
score0
score1
score0
score1
assertTrue
score1
score2
score1
score2
assertTrue
score2
score3
score2
score3
catchClause
e
printHits
h
s
throw
e
tq
Query
f
String
t
String
return
TermQuery
Term
f
t
tq
Query
f
String
t
String
b
float
Query
q
tq
f
t
setBoost
b
return
q
printHits
test
String
h
ScoreDoc
searcher
Searcher
println
test
DecimalFormat
f
DecimalFormat
for
forControl
int
i
i
length
i
block
Document
d
doc
h
i
doc
float
score
h
i
score
println
i
format
score
get
LuceneTestCase
