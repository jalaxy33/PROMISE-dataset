TestHugeRamFile
long
MAX_VALUE
long
long
MAX_VALUE
DenseRAMFile
long
capacity
HashMap
singleBuffers
HashMap
newBuffer
byte
size
int
capacity
size
if
capacity
MAX_VALUE
block
byte
buf
byte
get
Integer
size
if
buf
block
buf
byte
size
put
Integer
size
buf
return
buf
return
byte
size
RAMFile
testHugeFile
DenseRAMFile
f
DenseRAMFile
RAMOutputStream
out
RAMOutputStream
f
byte
b1
byte
BUFFER_SIZE
byte
b2
byte
BUFFER_SIZE
for
forControl
int
i
i
length
i
block
b1
i
byte
i
for
forControl
int
i
i
length
i
block
b2
i
byte
i
long
n
assertEquals
n
length
while
n
MAX_VALUE
length
block
writeBytes
b1
length
flush
n
length
assertEquals
n
length
int
m
length
long
L
for
forControl
int
j
j
L
j
block
for
forControl
int
i
i
length
i
block
b2
i
writeBytes
b2
m
flush
n
m
assertEquals
n
length
close
RAMInputStream
in
RAMInputStream
f
assertEquals
n
length
for
forControl
int
j
j
L
j
block
long
loc
n
L
j
m
seek
loc
seek
loc
for
forControl
int
i
i
m
i
block
byte
bt
readByte
byte
expected
byte
j
i
assertEquals
j
i
expected
bt
LuceneTestCase
