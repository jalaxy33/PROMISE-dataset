TestFieldsReader
RAMDirectory
dir
RAMDirectory
Document
testDoc
Document
FieldInfos
fieldInfos
String
TEST_SEGMENT_NAME
TestFieldsReader
s
String
s
setUp
setUp
fieldInfos
FieldInfos
setupDoc
testDoc
add
testDoc
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setUseCompoundFile
addDocument
testDoc
close
test
assertTrue
dir
assertTrue
fieldInfos
FieldsReader
reader
FieldsReader
dir
TEST_SEGMENT_NAME
fieldInfos
assertTrue
reader
assertTrue
size
Document
doc
doc
assertTrue
doc
assertTrue
getField
TEXT_FIELD_1_KEY
Fieldable
field
getField
TEXT_FIELD_2_KEY
assertTrue
field
assertTrue
isTermVectorStored
assertTrue
isStoreOffsetWithTermVector
assertTrue
isStorePositionWithTermVector
assertTrue
getOmitNorms
field
getField
TEXT_FIELD_3_KEY
assertTrue
field
assertTrue
isTermVectorStored
assertTrue
isStoreOffsetWithTermVector
assertTrue
isStorePositionWithTermVector
assertTrue
getOmitNorms
close
testLazyFields
assertTrue
dir
assertTrue
fieldInfos
FieldsReader
reader
FieldsReader
dir
TEST_SEGMENT_NAME
fieldInfos
assertTrue
reader
assertTrue
size
Set
loadFieldNames
HashSet
add
TEXT_FIELD_1_KEY
add
TEXT_FIELD_UTF1_KEY
Set
lazyFieldNames
HashSet
add
LARGE_LAZY_FIELD_KEY
add
LAZY_FIELD_KEY
add
LAZY_FIELD_BINARY_KEY
add
TEXT_FIELD_UTF2_KEY
add
COMPRESSED_TEXT_FIELD_2_KEY
SetBasedFieldSelector
fieldSelector
SetBasedFieldSelector
loadFieldNames
lazyFieldNames
Document
doc
doc
fieldSelector
assertTrue
doc
Fieldable
field
getFieldable
LAZY_FIELD_KEY
assertTrue
field
assertTrue
isLazy
String
value
stringValue
assertTrue
value
assertTrue
value
LAZY_FIELD_TEXT
equals
LAZY_FIELD_TEXT
field
getFieldable
COMPRESSED_TEXT_FIELD_2_KEY
assertTrue
field
assertTrue
isLazy
assertTrue
binaryValue
value
stringValue
assertTrue
value
assertTrue
value
FIELD_2_COMPRESSED_TEXT
equals
FIELD_2_COMPRESSED_TEXT
field
getFieldable
TEXT_FIELD_1_KEY
assertTrue
field
assertTrue
isLazy
field
getFieldable
TEXT_FIELD_UTF1_KEY
assertTrue
field
assertTrue
isLazy
assertTrue
stringValue
FIELD_UTF1_TEXT
stringValue
equals
FIELD_UTF1_TEXT
field
getFieldable
TEXT_FIELD_UTF2_KEY
assertTrue
field
assertTrue
isLazy
assertTrue
stringValue
FIELD_UTF2_TEXT
stringValue
equals
FIELD_UTF2_TEXT
field
getFieldable
LAZY_FIELD_BINARY_KEY
assertTrue
field
assertTrue
stringValue
byte
bytes
binaryValue
assertTrue
bytes
assertTrue
length
length
for
forControl
int
i
i
length
i
block
assertTrue
i
bytes
i
LAZY_FIELD_BINARY_BYTES
i
testLazyFieldsAfterClose
assertTrue
dir
assertTrue
fieldInfos
FieldsReader
reader
FieldsReader
dir
TEST_SEGMENT_NAME
fieldInfos
assertTrue
reader
assertTrue
size
Set
loadFieldNames
HashSet
add
TEXT_FIELD_1_KEY
add
TEXT_FIELD_UTF1_KEY
Set
lazyFieldNames
HashSet
add
LARGE_LAZY_FIELD_KEY
add
LAZY_FIELD_KEY
add
LAZY_FIELD_BINARY_KEY
add
TEXT_FIELD_UTF2_KEY
add
COMPRESSED_TEXT_FIELD_2_KEY
SetBasedFieldSelector
fieldSelector
SetBasedFieldSelector
loadFieldNames
lazyFieldNames
Document
doc
doc
fieldSelector
assertTrue
doc
Fieldable
field
getFieldable
LAZY_FIELD_KEY
assertTrue
field
assertTrue
isLazy
close
try
stringValue
fail
catchClause
e
testLoadFirst
assertTrue
dir
assertTrue
fieldInfos
FieldsReader
reader
FieldsReader
dir
TEST_SEGMENT_NAME
fieldInfos
assertTrue
reader
assertTrue
size
LoadFirstFieldSelector
fieldSelector
LoadFirstFieldSelector
Document
doc
doc
fieldSelector
assertTrue
doc
int
count
List
l
getFields
for
forControl
Iterator
iter
iterator
hasNext
block
Field
field
Field
next
assertTrue
field
String
sv
stringValue
assertTrue
sv
count
assertTrue
count
count
testLazyPerformance
String
tmpIODir
getProperty
String
userName
getProperty
String
path
tmpIODir
separator
userName
File
file
File
path
rmDir
file
FSDirectory
tmpDir
getDirectory
file
assertTrue
tmpDir
IndexWriter
writer
IndexWriter
tmpDir
WhitespaceAnalyzer
LIMITED
setUseCompoundFile
addDocument
testDoc
close
assertTrue
fieldInfos
FieldsReader
reader
long
lazyTime
long
regularTime
int
length
Set
lazyFieldNames
HashSet
add
LARGE_LAZY_FIELD_KEY
SetBasedFieldSelector
fieldSelector
SetBasedFieldSelector
EMPTY_SET
lazyFieldNames
for
forControl
int
i
i
length
i
block
reader
FieldsReader
tmpDir
TEST_SEGMENT_NAME
fieldInfos
assertTrue
reader
assertTrue
size
Document
doc
doc
doc
assertTrue
doc
Fieldable
field
getFieldable
LARGE_LAZY_FIELD_KEY
assertTrue
isLazy
String
value
long
start
long
finish
start
currentTimeMillis
value
stringValue
finish
currentTimeMillis
assertTrue
value
assertTrue
field
regularTime
finish
start
close
reader
doc
gc
reader
FieldsReader
tmpDir
TEST_SEGMENT_NAME
fieldInfos
doc
doc
fieldSelector
field
getFieldable
LARGE_LAZY_FIELD_KEY
assertTrue
isLazy
start
currentTimeMillis
value
stringValue
finish
currentTimeMillis
assertTrue
value
lazyTime
finish
start
close
println
regularTime
length
length
println
lazyTime
length
length
testLoadSize
FieldsReader
reader
FieldsReader
dir
TEST_SEGMENT_NAME
fieldInfos
Document
doc
doc
doc
FieldSelector
accept
FieldSelectorResult
fieldName
String
if
equals
TEXT_FIELD_1_KEY
equals
COMPRESSED_TEXT_FIELD_2_KEY
equals
LAZY_FIELD_BINARY_KEY
return
SIZE
if
equals
TEXT_FIELD_3_KEY
return
LOAD
return
NO_LOAD
Fieldable
f1
getFieldable
TEXT_FIELD_1_KEY
Fieldable
f3
getFieldable
TEXT_FIELD_3_KEY
Fieldable
fb
getFieldable
LAZY_FIELD_BINARY_KEY
assertTrue
isBinary
assertTrue
isBinary
assertTrue
isBinary
assertSizeEquals
length
binaryValue
assertEquals
FIELD_3_TEXT
stringValue
assertSizeEquals
length
binaryValue
close
assertSizeEquals
size
int
sizebytes
byte
assertEquals
byte
size
sizebytes
assertEquals
byte
size
sizebytes
assertEquals
byte
size
sizebytes
assertEquals
byte
size
sizebytes
FaultyFSDirectory
FSDirectory
fsDir
FaultyFSDirectory
dir
File
fsDir
getDirectory
dir
lockFactory
getLockFactory
openInput
IndexInput
name
String
return
FaultyIndexInput
openInput
name
list
String
return
list
fileExists
boolean
name
String
return
fileExists
name
fileModified
long
name
String
return
fileModified
name
touchFile
name
String
touchFile
name
deleteFile
name
String
deleteFile
name
renameFile
name
String
newName
String
renameFile
name
newName
fileLength
long
name
String
return
fileLength
name
createOutput
IndexOutput
name
String
return
createOutput
name
close
close
Directory
FaultyIndexInput
IndexInput
delegate
boolean
doFail
int
count
FaultyIndexInput
delegate
IndexInput
delegate
delegate
simOutage
if
doFail
count
block
throw
IOException
readInternal
b
byte
offset
int
length
int
simOutage
readBytes
b
offset
length
seekInternal
pos
long
seek
pos
length
long
return
length
close
close
clone
Object
return
FaultyIndexInput
IndexInput
clone
BufferedIndexInput
testExceptions
String
tempDir
getProperty
if
tempDir
throw
IOException
File
indexDir
File
tempDir
try
Directory
dir
FaultyFSDirectory
indexDir
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
addDocument
testDoc
optimize
close
IndexReader
reader
open
dir
doFail
boolean
exc
for
forControl
int
i
i
i
block
try
document
i
catchClause
ioe
exc
try
document
i
catchClause
ioe
exc
assertTrue
exc
close
close
rmDir
indexDir
LuceneTestCase
