TestIndexWriter
testDocCount
Directory
dir
RAMDirectory
IndexWriter
writer
IndexReader
reader
int
i
setDefaultWriteLockTimeout
assertEquals
getDefaultWriteLockTimeout
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setDefaultWriteLockTimeout
for
forControl
i
i
i
block
addDoc
writer
assertEquals
docCount
close
reader
open
dir
for
forControl
i
i
i
block
deleteDocument
i
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
assertEquals
docCount
close
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
writer
IndexWriter
dir
WhitespaceAnalyzer
assertEquals
maxDoc
assertEquals
numDocs
optimize
assertEquals
maxDoc
assertEquals
numDocs
close
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
assertEquals
maxDoc
assertEquals
numDocs
close
addDoc
writer
IndexWriter
Document
doc
Document
add
Field
NO
ANALYZED
addDocument
doc
addDocWithIndex
writer
IndexWriter
index
int
Document
doc
Document
add
Field
index
YES
ANALYZED
add
Field
index
YES
ANALYZED
addDocument
doc
testAddIndexOnDiskFull
int
START_COUNT
int
NUM_DIR
int
END_COUNT
START_COUNT
NUM_DIR
boolean
debug
Directory
dirs
Directory
NUM_DIR
long
inputDiskUsage
for
forControl
int
i
i
NUM_DIR
i
block
dirs
i
RAMDirectory
IndexWriter
writer
IndexWriter
dirs
i
WhitespaceAnalyzer
LIMITED
for
forControl
int
j
j
j
block
addDocWithIndex
writer
i
j
close
String
files
dirs
i
list
for
forControl
int
j
j
length
j
block
inputDiskUsage
dirs
i
fileLength
files
j
RAMDirectory
startDir
RAMDirectory
IndexWriter
writer
IndexWriter
startDir
WhitespaceAnalyzer
LIMITED
for
forControl
int
j
j
START_COUNT
j
block
addDocWithIndex
writer
j
close
Term
searchTerm
Term
IndexReader
reader
open
startDir
assertEquals
docFreq
searchTerm
IndexSearcher
searcher
IndexSearcher
reader
ScoreDoc
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
close
long
diskUsage
sizeInBytes
long
startDiskUsage
String
files
list
for
forControl
int
i
i
length
i
block
startDiskUsage
fileLength
files
i
for
forControl
int
iter
iter
iter
block
if
debug
println
iter
long
diskFree
diskUsage
boolean
autoCommit
iter
int
method
iter
boolean
success
boolean
done
String
methodName
if
method
block
methodName
if
method
block
methodName
block
methodName
while
done
block
MockRAMDirectory
dir
MockRAMDirectory
startDir
writer
IndexWriter
dir
autoCommit
WhitespaceAnalyzer
IOException
err
MergeScheduler
ms
getMergeScheduler
for
forControl
int
x
x
x
block
if
ms
ConcurrentMergeScheduler
if
x
ConcurrentMergeScheduler
ms
ConcurrentMergeScheduler
ms
double
rate
double
diskRatio
double
diskFree
diskUsage
long
thisDiskFree
String
testName
if
x
block
thisDiskFree
diskFree
if
diskRatio
block
rate
if
diskRatio
block
rate
if
diskRatio
block
rate
if
debug
testName
methodName
diskFree
autoCommit
block
thisDiskFree
rate
if
debug
testName
methodName
autoCommit
if
debug
println
testName
setMaxSizeInBytes
thisDiskFree
setRandomIOExceptionRate
rate
diskFree
try
if
method
block
addIndexes
dirs
if
method
block
IndexReader
readers
IndexReader
length
for
forControl
int
i
i
length
i
block
readers
i
open
dirs
i
try
addIndexes
readers
for
forControl
int
i
i
length
i
block
readers
i
close
block
addIndexesNoOptimize
dirs
success
if
debug
block
println
if
x
block
done
catchClause
e
success
err
e
if
debug
block
println
e
printStackTrace
out
if
x
block
printStackTrace
out
fail
methodName
syncConcurrentMerges
writer
if
autoCommit
block
String
successStr
if
success
block
successStr
block
successStr
String
message
methodName
successStr
diskFree
assertNoUnreferencedFiles
dir
message
if
debug
block
println
try
reader
open
dir
catchClause
e
printStackTrace
out
fail
testName
e
int
result
docFreq
searchTerm
if
success
block
if
autoCommit
result
END_COUNT
block
fail
testName
result
END_COUNT
if
autoCommit
result
START_COUNT
block
fail
testName
result
START_COUNT
block
if
result
START_COUNT
result
END_COUNT
block
printStackTrace
out
fail
testName
result
START_COUNT
END_COUNT
searcher
IndexSearcher
reader
try
hits
search
scoreDocs
TermQuery
searchTerm
END_COUNT
catchClause
e
printStackTrace
out
fail
testName
e
int
result2
length
if
success
block
if
result2
result
block
fail
testName
result2
result
block
if
result2
result
block
printStackTrace
out
fail
testName
result2
result
close
close
if
debug
block
println
result
if
done
result
END_COUNT
block
break
if
debug
block
println
startDiskUsage
inputDiskUsage
getMaxUsedSizeInBytes
if
done
block
assertTrue
methodName
getMaxUsedSizeInBytes
startDiskUsage
startDiskUsage
inputDiskUsage
getMaxUsedSizeInBytes
startDiskUsage
startDiskUsage
inputDiskUsage
setMaxSizeInBytes
setRandomIOExceptionRate
close
syncConcurrentMerges
ms
close
diskFree
close
testAddDocumentOnDiskFull
boolean
debug
for
forControl
int
pass
pass
pass
block
if
debug
println
pass
boolean
autoCommit
pass
boolean
doAbort
pass
long
diskFree
while
block
if
debug
println
diskFree
MockRAMDirectory
dir
MockRAMDirectory
setMaxSizeInBytes
diskFree
IndexWriter
writer
IndexWriter
dir
autoCommit
WhitespaceAnalyzer
MergeScheduler
ms
getMergeScheduler
if
ms
ConcurrentMergeScheduler
ConcurrentMergeScheduler
ms
boolean
hitError
try
for
forControl
int
i
i
i
block
addDoc
writer
catchClause
e
if
debug
block
println
printStackTrace
out
hitError
if
hitError
block
if
doAbort
block
abort
block
try
close
catchClause
e
if
debug
block
println
printStackTrace
out
setMaxSizeInBytes
close
syncConcurrentMerges
ms
assertNoUnreferencedFiles
dir
autoCommit
open
close
dir
close
diskFree
block
syncConcurrentMerges
writer
close
break
assertNoUnreferencedFiles
dir
Directory
message
String
String
startFiles
list
SegmentInfos
infos
SegmentInfos
read
dir
IndexFileDeleter
dir
KeepOnlyLastCommitDeletionPolicy
infos
String
endFiles
list
sort
startFiles
sort
endFiles
if
equals
startFiles
endFiles
block
fail
message
arrayToString
startFiles
arrayToString
endFiles
testWickedLongTerm
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
char
chars
char
CHAR_BLOCK_SIZE
fill
chars
Document
doc
Document
String
bigTerm
String
chars
String
contents
bigTerm
add
Field
contents
NO
ANALYZED
addDocument
doc
doc
Document
add
Field
NO
ANALYZED
addDocument
doc
close
IndexReader
reader
open
dir
assertEquals
docFreq
Term
assertEquals
docFreq
Term
assertEquals
docFreq
Term
assertEquals
docFreq
Term
TermPositions
tps
termPositions
Term
assertTrue
next
assertEquals
freq
assertEquals
nextPosition
assertEquals
numDocs
close
doc
Document
add
Field
bigTerm
NO
ANALYZED
StandardAnalyzer
sa
StandardAnalyzer
setMaxTokenLength
writer
IndexWriter
dir
sa
LIMITED
addDocument
doc
close
reader
open
dir
assertEquals
docFreq
Term
bigTerm
close
close
testOptimizeMaxNumSegments
MockRAMDirectory
dir
MockRAMDirectory
Document
doc
Document
add
Field
YES
ANALYZED
for
forControl
int
numDocs
numDocs
numDocs
block
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
LogDocMergePolicy
ldmp
LogDocMergePolicy
setMinMergeDocs
setMergePolicy
ldmp
setMergeFactor
setMaxBufferedDocs
for
forControl
int
j
j
numDocs
j
addDocument
doc
close
SegmentInfos
sis
SegmentInfos
read
dir
int
segCount
size
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMergePolicy
ldmp
setMergeFactor
optimize
close
sis
SegmentInfos
read
dir
int
optSegCount
size
if
segCount
assertEquals
segCount
optSegCount
assertEquals
optSegCount
testOptimizeMaxNumSegments2
MockRAMDirectory
dir
MockRAMDirectory
Document
doc
Document
add
Field
YES
ANALYZED
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
LogDocMergePolicy
ldmp
LogDocMergePolicy
setMinMergeDocs
setMergePolicy
ldmp
setMergeFactor
setMaxBufferedDocs
for
forControl
int
iter
iter
iter
block
for
forControl
int
i
i
i
addDocument
doc
ConcurrentMergeScheduler
getMergeScheduler
commit
SegmentInfos
sis
SegmentInfos
read
dir
int
segCount
size
optimize
commit
sis
SegmentInfos
ConcurrentMergeScheduler
getMergeScheduler
read
dir
int
optSegCount
size
if
segCount
assertEquals
segCount
optSegCount
assertEquals
optSegCount
testOptimizeTempSpaceUsage
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
j
j
j
block
addDocWithIndex
writer
j
close
long
startDiskUsage
String
files
list
for
forControl
int
i
i
length
i
block
startDiskUsage
fileLength
files
i
resetMaxUsedSizeInBytes
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
optimize
close
long
maxDiskUsage
getMaxUsedSizeInBytes
assertTrue
startDiskUsage
maxDiskUsage
startDiskUsage
maxDiskUsage
startDiskUsage
close
arrayToString
String
l
String
String
s
for
forControl
int
i
i
length
i
block
if
i
block
s
s
l
i
return
s
testCreateWithReader
String
tempDir
getProperty
if
tempDir
throw
IOException
File
indexDir
File
tempDir
try
Directory
dir
getDirectory
indexDir
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
addDoc
writer
close
IndexReader
reader
open
dir
assertEquals
numDocs
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
assertEquals
docCount
addDoc
writer
close
assertEquals
numDocs
IndexReader
reader2
open
dir
assertEquals
numDocs
close
close
rmDir
indexDir
testCreateWithReader2
String
tempDir
getProperty
if
tempDir
throw
IOException
File
indexDir
File
tempDir
try
IndexWriter
writer
IndexWriter
indexDir
WhitespaceAnalyzer
LIMITED
addDoc
writer
close
IndexReader
reader
open
indexDir
assertEquals
numDocs
writer
IndexWriter
indexDir
WhitespaceAnalyzer
LIMITED
assertEquals
docCount
addDoc
writer
close
assertEquals
numDocs
IndexReader
reader2
open
indexDir
assertEquals
numDocs
close
close
rmDir
indexDir
testCreateWithReader3
String
tempDir
getProperty
if
tempDir
throw
IOException
String
dirName
tempDir
try
IndexWriter
writer
IndexWriter
dirName
WhitespaceAnalyzer
LIMITED
addDoc
writer
close
IndexReader
reader
open
dirName
assertEquals
numDocs
writer
IndexWriter
dirName
WhitespaceAnalyzer
LIMITED
assertEquals
docCount
addDoc
writer
close
assertEquals
numDocs
IndexReader
reader2
open
dirName
assertEquals
numDocs
close
close
rmDir
File
dirName
testSimulatedCrashedWriter
Directory
dir
RAMDirectory
IndexWriter
writer
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
long
gen
getCurrentSegmentGeneration
dir
assertTrue
gen
gen
String
fileNameIn
getCurrentSegmentFileName
dir
String
fileNameOut
fileNameFromGeneration
SEGMENTS
gen
IndexInput
in
openInput
fileNameIn
IndexOutput
out
createOutput
fileNameOut
long
length
length
for
forControl
int
i
i
length
i
block
writeByte
readByte
close
close
IndexReader
reader
try
reader
open
dir
catchClause
e
fail
close
try
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
catchClause
e
fail
for
forControl
int
i
i
i
block
addDoc
writer
close
testSimulatedCorruptIndex1
Directory
dir
RAMDirectory
IndexWriter
writer
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
long
gen
getCurrentSegmentGeneration
dir
assertTrue
gen
gen
String
fileNameIn
getCurrentSegmentFileName
dir
String
fileNameOut
fileNameFromGeneration
SEGMENTS
gen
IndexInput
in
openInput
fileNameIn
IndexOutput
out
createOutput
fileNameOut
long
length
length
for
forControl
int
i
i
length
i
block
writeByte
readByte
close
close
deleteFile
fileNameIn
IndexReader
reader
try
reader
open
dir
fail
catchClause
e
if
reader
block
close
testChangesAfterClose
Directory
dir
RAMDirectory
IndexWriter
writer
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
addDoc
writer
close
try
addDoc
writer
fail
catchClause
e
testSimulatedCorruptIndex2
Directory
dir
RAMDirectory
IndexWriter
writer
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
long
gen
getCurrentSegmentGeneration
dir
assertTrue
gen
gen
String
files
list
for
forControl
int
i
i
length
i
block
if
files
i
endsWith
block
deleteFile
files
i
break
IndexReader
reader
try
reader
open
dir
fail
catchClause
e
if
reader
block
close
testCommitOnClose
Directory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
Term
searchTerm
Term
IndexSearcher
searcher
IndexSearcher
dir
ScoreDoc
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
IndexReader
reader
open
dir
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
for
forControl
int
j
j
j
block
addDoc
writer
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
assertTrue
isCurrent
close
assertFalse
isCurrent
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
testCommitOnCloseAbort
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
i
i
i
block
addDoc
writer
close
Term
searchTerm
Term
IndexSearcher
searcher
IndexSearcher
dir
ScoreDoc
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
j
j
j
block
addDoc
writer
deleteDocuments
searchTerm
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
abort
assertNoUnreferencedFiles
dir
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setPreventDoubleWrite
for
forControl
int
i
i
i
block
for
forControl
int
j
j
j
block
addDoc
writer
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
close
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
close
testCommitOnCloseDiskUsage
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
j
j
j
block
addDocWithIndex
writer
j
close
resetMaxUsedSizeInBytes
long
startDiskUsage
getMaxUsedSizeInBytes
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMergeScheduler
SerialMergeScheduler
for
forControl
int
j
j
j
block
addDocWithIndex
writer
j
long
midDiskUsage
getMaxUsedSizeInBytes
resetMaxUsedSizeInBytes
optimize
close
open
close
dir
long
endDiskUsage
getMaxUsedSizeInBytes
assertTrue
midDiskUsage
startDiskUsage
assertTrue
endDiskUsage
startDiskUsage
endDiskUsage
startDiskUsage
testCommitOnCloseOptimize
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
j
j
j
block
addDocWithIndex
writer
j
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
optimize
IndexReader
reader
open
dir
assertFalse
isOptimized
close
abort
assertNoUnreferencedFiles
dir
reader
open
dir
assertFalse
isOptimized
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
optimize
close
assertNoUnreferencedFiles
dir
reader
open
dir
assertTrue
isOptimized
close
testIndexNoDocuments
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
flush
close
IndexReader
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
flush
close
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
testManyFields
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
j
j
j
block
Document
doc
Document
add
Field
j
j
YES
ANALYZED
add
Field
j
j
YES
ANALYZED
add
Field
j
j
YES
ANALYZED
add
Field
j
YES
ANALYZED
add
Field
j
YES
ANALYZED
add
Field
j
YES
ANALYZED
addDocument
doc
close
IndexReader
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
for
forControl
int
j
j
j
block
assertEquals
docFreq
Term
j
j
assertEquals
docFreq
Term
j
j
assertEquals
docFreq
Term
j
j
assertEquals
docFreq
Term
j
assertEquals
docFreq
Term
j
assertEquals
docFreq
Term
j
close
close
testSmallRAMBuffer
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setRAMBufferSizeMB
int
lastNumFile
list
length
for
forControl
int
j
j
j
block
Document
doc
Document
add
Field
j
YES
ANALYZED
addDocument
doc
int
numFile
list
length
assertTrue
numFile
lastNumFile
lastNumFile
numFile
close
close
testChangingRAMBuffer
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
int
lastFlushCount
for
forControl
int
j
j
j
block
Document
doc
Document
add
Field
j
YES
ANALYZED
addDocument
doc
syncConcurrentMerges
writer
int
flushCount
getFlushCount
if
j
lastFlushCount
flushCount
if
j
assertEquals
flushCount
lastFlushCount
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
setRAMBufferSizeMB
setMaxBufferedDocs
DISABLE_AUTO_FLUSH
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
if
j
block
setRAMBufferSizeMB
setMaxBufferedDocs
DISABLE_AUTO_FLUSH
lastFlushCount
flushCount
if
j
block
assertEquals
flushCount
lastFlushCount
if
j
block
setRAMBufferSizeMB
setMaxBufferedDocs
DISABLE_AUTO_FLUSH
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
if
j
block
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
lastFlushCount
flushCount
if
j
block
assertEquals
flushCount
lastFlushCount
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
if
j
block
assertTrue
flushCount
lastFlushCount
close
close
testChangingRAMBuffer2
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMaxBufferedDeleteTerms
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
for
forControl
int
j
j
j
block
Document
doc
Document
add
Field
j
YES
ANALYZED
addDocument
doc
int
lastFlushCount
for
forControl
int
j
j
j
block
deleteDocuments
Term
j
syncConcurrentMerges
writer
int
flushCount
getFlushCount
if
j
lastFlushCount
flushCount
if
j
block
assertEquals
flushCount
lastFlushCount
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
setRAMBufferSizeMB
setMaxBufferedDeleteTerms
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
if
j
block
setRAMBufferSizeMB
setMaxBufferedDeleteTerms
DISABLE_AUTO_FLUSH
lastFlushCount
flushCount
if
j
block
assertEquals
flushCount
lastFlushCount
if
j
block
setRAMBufferSizeMB
setMaxBufferedDeleteTerms
DISABLE_AUTO_FLUSH
setMaxBufferedDeleteTerms
if
j
block
assertTrue
flushCount
lastFlushCount
lastFlushCount
flushCount
if
j
block
setMaxBufferedDeleteTerms
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
lastFlushCount
flushCount
if
j
block
assertEquals
flushCount
lastFlushCount
setMaxBufferedDeleteTerms
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
if
j
block
assertTrue
flushCount
lastFlushCount
close
close
testDiverseDocs
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setRAMBufferSizeMB
Random
rand
Random
for
forControl
int
i
i
i
block
for
forControl
int
j
j
j
block
Document
doc
Document
for
forControl
int
k
k
k
block
add
Field
toString
nextInt
YES
ANALYZED
addDocument
doc
for
forControl
int
j
j
j
block
Document
doc
Document
add
Field
YES
ANALYZED
addDocument
doc
for
forControl
int
j
j
j
block
StringBuffer
b
StringBuffer
String
x
toString
j
for
forControl
int
k
k
k
append
x
String
longTerm
toString
Document
doc
Document
add
Field
longTerm
YES
ANALYZED
addDocument
doc
close
IndexSearcher
searcher
IndexSearcher
dir
ScoreDoc
hits
search
scoreDocs
TermQuery
Term
assertEquals
length
close
close
testEnablingNorms
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
j
j
j
block
Document
doc
Document
Field
f
Field
YES
ANALYZED
if
j
block
setOmitNorms
add
f
addDocument
doc
close
Term
searchTerm
Term
IndexSearcher
searcher
IndexSearcher
dir
ScoreDoc
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
j
j
j
block
Document
doc
Document
Field
f
Field
YES
ANALYZED
if
j
block
setOmitNorms
add
f
addDocument
doc
close
searcher
IndexSearcher
dir
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
IndexReader
reader
open
dir
close
close
testHighFreqTerm
RAMDirectory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
IndexWriter
MaxFieldLength
setRAMBufferSizeMB
StringBuffer
b
StringBuffer
for
forControl
int
i
i
i
block
append
append
append
append
Document
doc
Document
add
Field
toString
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
close
IndexReader
reader
open
dir
assertEquals
maxDoc
assertEquals
numDocs
Term
t
Term
assertEquals
docFreq
t
TermDocs
td
termDocs
t
next
assertEquals
freq
close
close
testNullLockFactory
MyRAMDirectory
LockFactory
myLockFactory
MyRAMDirectory
lockFactory
myLockFactory
SingleInstanceLockFactory
makeLock
Lock
name
String
return
makeLock
name
RAMDirectory
Directory
dir
MyRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
Term
searchTerm
Term
IndexSearcher
searcher
IndexSearcher
dir
ScoreDoc
hits
search
scoreDocs
TermQuery
searchTerm
assertEquals
length
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
close
close
testFlushWithNoMerging
Directory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
for
forControl
int
i
i
i
addDocument
doc
flush
close
SegmentInfos
sis
SegmentInfos
read
dir
assert
size
testEmptyDocAfterFlushingRealDoc
Directory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
flush
addDocument
Document
close
checkIndex
dir
IndexReader
reader
open
dir
assertEquals
numDocs
testBackgroundOptimize
Directory
dir
MockRAMDirectory
for
forControl
int
pass
pass
pass
block
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMergeScheduler
ConcurrentMergeScheduler
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDocument
doc
optimize
if
pass
block
close
IndexReader
reader
open
dir
assertTrue
isOptimized
close
block
addDocument
doc
addDocument
doc
close
IndexReader
reader
open
dir
assertTrue
isOptimized
close
SegmentInfos
infos
SegmentInfos
read
dir
assertEquals
size
close
rmDir
dir
File
File
files
listFiles
if
files
block
for
forControl
int
i
i
length
i
block
files
i
delete
delete
testBadSegment
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
ir
IndexWriter
dir
StandardAnalyzer
LIMITED
Document
document
Document
add
Field
NO
ANALYZED
YES
addDocument
document
close
close
testNoTermVectorAfterTermVector
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
iw
IndexWriter
dir
StandardAnalyzer
LIMITED
Document
document
Document
add
Field
NO
ANALYZED
YES
addDocument
document
document
Document
add
Field
NO
ANALYZED
NO
addDocument
document
flush
add
Field
NO
ANALYZED
YES
addDocument
document
flush
optimize
close
close
testNoTermVectorAfterTermVectorMerge
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
iw
IndexWriter
dir
StandardAnalyzer
LIMITED
Document
document
Document
add
Field
NO
ANALYZED
YES
addDocument
document
flush
document
Document
add
Field
NO
ANALYZED
NO
addDocument
document
flush
optimize
add
Field
NO
ANALYZED
YES
addDocument
document
flush
optimize
close
close
testMaxThreadPriority
int
pri
currentThread
getPriority
try
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
iw
IndexWriter
dir
StandardAnalyzer
LIMITED
Document
document
Document
add
Field
NO
ANALYZED
YES
setMaxBufferedDocs
setMergeFactor
currentThread
setPriority
MAX_PRIORITY
for
forControl
int
i
i
i
addDocument
document
close
currentThread
setPriority
pri
MyMergeScheduler
merge
writer
IndexWriter
while
block
MergePolicy
OneMerge
merge
getNextMerge
if
merge
break
for
forControl
int
i
i
size
i
assert
info
docCount
i
merge
merge
close
MergeScheduler
testSetMaxMergeDocs
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
iw
IndexWriter
dir
StandardAnalyzer
LIMITED
setMergeScheduler
MyMergeScheduler
setMaxMergeDocs
setMaxBufferedDocs
setMergeFactor
Document
document
Document
add
Field
NO
ANALYZED
YES
for
forControl
int
i
i
i
addDocument
document
close
testExceptionFromTokenStream
RAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
Analyzer
tokenStream
TokenStream
fieldName
String
reader
Reader
return
TokenFilter
StandardTokenizer
reader
int
count
next
Token
reusableToken
Token
if
count
block
throw
IOException
return
next
reusableToken
LIMITED
Document
doc
Document
String
contents
add
Field
contents
NO
ANALYZED
try
addDocument
doc
fail
catchClause
e
doc
Document
add
Field
NO
ANALYZED
addDocument
doc
doc
Document
add
Field
NO
ANALYZED
addDocument
doc
close
IndexReader
reader
open
dir
Term
t
Term
assertEquals
docFreq
t
TermDocs
tdocs
termDocs
t
int
count
while
next
block
count
assertEquals
count
assertEquals
docFreq
Term
close
close
FailOnlyOnFlush
boolean
doFail
int
count
setDoFail
doFail
clearDoFail
doFail
eval
dir
MockRAMDirectory
if
doFail
block
StackTraceElement
trace
getStackTrace
Exception
boolean
sawAppend
boolean
sawFlush
for
forControl
int
i
i
length
i
block
if
equals
trace
i
getClassName
equals
trace
i
getMethodName
sawAppend
if
equals
trace
i
getMethodName
sawFlush
if
sawAppend
sawFlush
count
block
doFail
throw
IOException
MockRAMDirectory
Failure
testDocumentsWriterAbort
MockRAMDirectory
dir
MockRAMDirectory
FailOnlyOnFlush
failure
FailOnlyOnFlush
setDoFail
failOn
failure
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
Document
doc
Document
String
contents
add
Field
contents
NO
ANALYZED
boolean
hitError
for
forControl
int
i
i
i
block
try
addDocument
doc
catchClause
ioe
assertFalse
hitError
hitError
assertTrue
hitError
close
IndexReader
reader
open
dir
assertEquals
docFreq
Term
close
CrashingFilter
String
fieldName
int
count
CrashingFilter
fieldName
String
input
TokenStream
input
fieldName
fieldName
next
Token
reusableToken
Token
if
fieldName
equals
count
throw
IOException
return
next
reusableToken
reset
reset
count
TokenFilter
testDocumentsWriterExceptions
Analyzer
analyzer
Analyzer
tokenStream
TokenStream
fieldName
String
reader
Reader
return
CrashingFilter
fieldName
WhitespaceTokenizer
reader
for
forControl
int
i
i
i
block
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
analyzer
LIMITED
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
addDocument
doc
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
try
addDocument
doc
fail
catchClause
ioe
if
i
block
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
addDocument
doc
close
IndexReader
reader
open
dir
int
expected
i
assertEquals
expected
docFreq
Term
assertEquals
expected
maxDoc
int
numDel
for
forControl
int
j
j
maxDoc
j
block
if
isDeleted
j
numDel
block
document
j
getTermFreqVectors
j
close
assertEquals
numDel
writer
IndexWriter
dir
analyzer
LIMITED
setMaxBufferedDocs
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
for
forControl
int
j
j
j
addDocument
doc
optimize
close
reader
open
dir
expected
i
assertEquals
expected
docFreq
Term
assertEquals
expected
maxDoc
numDel
for
forControl
int
j
j
maxDoc
j
block
if
isDeleted
j
numDel
block
document
j
getTermFreqVectors
j
close
assertEquals
numDel
close
testDocumentsWriterExceptionThreads
Analyzer
analyzer
Analyzer
tokenStream
TokenStream
fieldName
String
reader
Reader
return
CrashingFilter
fieldName
WhitespaceTokenizer
reader
int
NUM_THREAD
int
NUM_ITER
for
forControl
int
i
i
i
block
MockRAMDirectory
dir
MockRAMDirectory
block
IndexWriter
writer
IndexWriter
dir
analyzer
LIMITED
int
finalI
i
Thread
threads
Thread
NUM_THREAD
for
forControl
int
t
t
NUM_THREAD
t
block
threads
t
Thread
run
try
for
forControl
int
iter
iter
NUM_ITER
iter
block
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
addDocument
doc
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
try
addDocument
doc
fail
catchClause
ioe
if
finalI
block
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
addDocument
doc
catchClause
t
synchronized
println
currentThread
getName
printStackTrace
out
fail
threads
t
start
for
forControl
int
t
t
NUM_THREAD
t
while
try
threads
t
join
break
catchClause
ie
currentThread
interrupt
close
IndexReader
reader
open
dir
int
expected
i
NUM_THREAD
NUM_ITER
assertEquals
expected
docFreq
Term
assertEquals
expected
maxDoc
int
numDel
for
forControl
int
j
j
maxDoc
j
block
if
isDeleted
j
numDel
block
document
j
getTermFreqVectors
j
close
assertEquals
NUM_THREAD
NUM_ITER
numDel
IndexWriter
writer
IndexWriter
dir
analyzer
LIMITED
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
for
forControl
int
j
j
j
addDocument
doc
optimize
close
reader
open
dir
expected
NUM_THREAD
NUM_ITER
assertEquals
expected
docFreq
Term
assertEquals
expected
maxDoc
numDel
for
forControl
int
j
j
maxDoc
j
block
if
isDeleted
j
numDel
block
document
j
getTermFreqVectors
j
close
assertEquals
numDel
close
testVariableSchema
MockRAMDirectory
dir
MockRAMDirectory
int
delID
for
forControl
int
i
i
i
block
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
setUseCompoundFile
Document
doc
Document
String
contents
if
i
block
add
Field
NO
ANALYZED
block
Field
Store
storeVal
if
i
block
add
Field
contents
YES
ANALYZED
storeVal
YES
storeVal
NO
add
Field
contents
storeVal
ANALYZED
add
Field
YES
ANALYZED
add
Field
storeVal
ANALYZED
for
forControl
int
j
j
j
addDocument
doc
close
IndexReader
reader
open
dir
deleteDocument
delID
close
if
i
block
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setUseCompoundFile
optimize
close
testNoWaitClose
RAMDirectory
directory
MockRAMDirectory
Document
doc
Document
Field
idField
Field
YES
NOT_ANALYZED
add
idField
for
forControl
int
pass
pass
pass
block
boolean
autoCommit
pass
IndexWriter
writer
IndexWriter
directory
autoCommit
WhitespaceAnalyzer
for
forControl
int
iter
iter
iter
block
MergeScheduler
ms
if
pass
ms
ConcurrentMergeScheduler
ms
SerialMergeScheduler
setMergeScheduler
ms
setMaxBufferedDocs
setMergeFactor
for
forControl
int
j
j
j
block
setValue
toString
iter
j
addDocument
doc
int
delID
iter
for
forControl
int
j
j
j
block
deleteDocuments
Term
toString
delID
delID
setMergeFactor
IndexWriter
finalWriter
writer
ArrayList
failure
ArrayList
Thread
t1
Thread
run
boolean
done
while
done
block
for
forControl
int
i
i
i
block
try
addDocument
doc
catchClause
e
done
break
catchClause
e
done
break
catchClause
e
printStackTrace
out
add
e
done
break
yield
if
size
throw
Throwable
get
start
close
while
block
try
join
break
catchClause
ie
currentThread
interrupt
IndexReader
reader
open
directory
close
writer
IndexWriter
directory
autoCommit
WhitespaceAnalyzer
close
close
IndexerThread
boolean
diskFull
Throwable
error
AlreadyClosedException
ace
IndexWriter
writer
boolean
noErrors
int
addCount
IndexerThread
writer
IndexWriter
noErrors
boolean
writer
writer
noErrors
noErrors
run
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
int
idUpto
int
fullCount
long
stopTime
currentTimeMillis
while
currentTimeMillis
stopTime
block
try
updateDocument
Term
idUpto
doc
addCount
catchClause
ioe
if
getMessage
startsWith
getMessage
equals
block
diskFull
try
sleep
catchClause
ie
currentThread
interrupt
if
fullCount
break
block
if
noErrors
block
println
currentThread
getName
printStackTrace
out
error
ioe
break
catchClause
t
if
noErrors
block
println
currentThread
getName
printStackTrace
out
error
t
break
Thread
testCloseWithThreads
int
NUM_THREADS
for
forControl
int
iter
iter
iter
block
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
ConcurrentMergeScheduler
cms
ConcurrentMergeScheduler
setSuppressExceptions
setMergeScheduler
cms
setMaxBufferedDocs
setMergeFactor
IndexerThread
threads
IndexerThread
NUM_THREADS
for
forControl
int
i
i
NUM_THREADS
i
threads
i
IndexerThread
writer
for
forControl
int
i
i
NUM_THREADS
i
threads
i
start
boolean
done
while
done
block
try
sleep
catchClause
ie
currentThread
interrupt
for
forControl
int
i
i
NUM_THREADS
i
if
threads
i
addCount
block
done
break
close
for
forControl
int
i
i
NUM_THREADS
i
block
while
block
try
threads
i
join
break
catchClause
ie
currentThread
interrupt
if
threads
i
isAlive
fail
IndexReader
reader
open
dir
TermDocs
tdocs
termDocs
Term
int
count
while
next
block
count
assertTrue
count
close
close
testImmediateDiskFull
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxSizeInBytes
getRecomputedActualSizeInBytes
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
try
addDocument
doc
fail
catchClause
ioe
try
addDocument
doc
fail
catchClause
ioe
try
close
fail
catchClause
ioe
testImmediateDiskFullWithThreads
int
NUM_THREADS
for
forControl
int
iter
iter
iter
block
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
ConcurrentMergeScheduler
cms
ConcurrentMergeScheduler
setSuppressExceptions
setMergeScheduler
cms
setMaxBufferedDocs
setMergeFactor
setMaxSizeInBytes
iter
IndexerThread
threads
IndexerThread
NUM_THREADS
for
forControl
int
i
i
NUM_THREADS
i
threads
i
IndexerThread
writer
for
forControl
int
i
i
NUM_THREADS
i
threads
i
start
for
forControl
int
i
i
NUM_THREADS
i
block
while
block
try
threads
i
join
break
catchClause
ie
currentThread
interrupt
if
threads
i
isAlive
fail
assertTrue
threads
i
error
try
close
catchClause
ioe
close
FailOnlyOnAbortOrFlush
boolean
onlyOnce
FailOnlyOnAbortOrFlush
onlyOnce
boolean
onlyOnce
onlyOnce
eval
dir
MockRAMDirectory
if
doFail
block
StackTraceElement
trace
getStackTrace
Exception
for
forControl
int
i
i
length
i
block
if
equals
trace
i
getMethodName
equals
trace
i
getMethodName
block
if
onlyOnce
doFail
throw
IOException
MockRAMDirectory
Failure
_testSingleThreadFailure
failure
MockRAMDirectory
Failure
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
for
forControl
int
i
i
i
addDocument
doc
failOn
failure
setDoFail
try
addDocument
doc
addDocument
doc
fail
catchClause
ioe
clearDoFail
addDocument
doc
close
_testMultipleThreadsFailure
failure
MockRAMDirectory
Failure
int
NUM_THREADS
for
forControl
int
iter
iter
iter
block
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
ConcurrentMergeScheduler
cms
ConcurrentMergeScheduler
setSuppressExceptions
setMergeScheduler
cms
setMaxBufferedDocs
setMergeFactor
IndexerThread
threads
IndexerThread
NUM_THREADS
for
forControl
int
i
i
NUM_THREADS
i
threads
i
IndexerThread
writer
for
forControl
int
i
i
NUM_THREADS
i
threads
i
start
try
sleep
catchClause
ie
currentThread
interrupt
failOn
failure
setDoFail
for
forControl
int
i
i
NUM_THREADS
i
block
while
block
try
threads
i
join
break
catchClause
ie
currentThread
interrupt
if
threads
i
isAlive
fail
assertTrue
threads
i
error
boolean
success
try
close
success
catchClause
ioe
clearDoFail
close
if
success
block
IndexReader
reader
open
dir
for
forControl
int
j
j
maxDoc
j
block
if
isDeleted
j
block
document
j
getTermFreqVectors
j
close
close
testIOExceptionDuringAbort
_testSingleThreadFailure
FailOnlyOnAbortOrFlush
testIOExceptionDuringAbortOnlyOnce
_testSingleThreadFailure
FailOnlyOnAbortOrFlush
testIOExceptionDuringAbortWithThreads
_testMultipleThreadsFailure
FailOnlyOnAbortOrFlush
testIOExceptionDuringAbortWithThreadsOnlyOnce
_testMultipleThreadsFailure
FailOnlyOnAbortOrFlush
FailOnlyInCloseDocStore
boolean
onlyOnce
FailOnlyInCloseDocStore
onlyOnce
boolean
onlyOnce
onlyOnce
eval
dir
MockRAMDirectory
if
doFail
block
StackTraceElement
trace
getStackTrace
Exception
for
forControl
int
i
i
length
i
block
if
equals
trace
i
getMethodName
block
if
onlyOnce
doFail
throw
IOException
MockRAMDirectory
Failure
testIOExceptionDuringCloseDocStore
_testSingleThreadFailure
FailOnlyInCloseDocStore
testIOExceptionDuringCloseDocStoreOnlyOnce
_testSingleThreadFailure
FailOnlyInCloseDocStore
testIOExceptionDuringCloseDocStoreWithThreads
_testMultipleThreadsFailure
FailOnlyInCloseDocStore
testIOExceptionDuringCloseDocStoreWithThreadsOnlyOnce
_testMultipleThreadsFailure
FailOnlyInCloseDocStore
FailOnlyInWriteSegment
boolean
onlyOnce
FailOnlyInWriteSegment
onlyOnce
boolean
onlyOnce
onlyOnce
eval
dir
MockRAMDirectory
if
doFail
block
StackTraceElement
trace
getStackTrace
Exception
for
forControl
int
i
i
length
i
block
if
equals
trace
i
getMethodName
equals
trace
i
getClassName
block
if
onlyOnce
doFail
throw
IOException
MockRAMDirectory
Failure
testIOExceptionDuringWriteSegment
_testSingleThreadFailure
FailOnlyInWriteSegment
testIOExceptionDuringWriteSegmentOnlyOnce
_testSingleThreadFailure
FailOnlyInWriteSegment
testIOExceptionDuringWriteSegmentWithThreads
_testMultipleThreadsFailure
FailOnlyInWriteSegment
testIOExceptionDuringWriteSegmentWithThreadsOnlyOnce
_testMultipleThreadsFailure
FailOnlyInWriteSegment
testUnlimitedMaxFieldLength
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
Document
doc
Document
StringBuffer
b
StringBuffer
for
forControl
int
i
i
i
append
append
add
Field
toString
NO
ANALYZED
addDocument
doc
close
IndexReader
reader
open
dir
Term
t
Term
assertEquals
docFreq
t
close
close
testSegmentsChecksumError
Directory
dir
MockRAMDirectory
IndexWriter
writer
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
block
addDoc
writer
close
long
gen
getCurrentSegmentGeneration
dir
assertTrue
gen
gen
String
segmentsFileName
getCurrentSegmentFileName
dir
IndexInput
in
openInput
segmentsFileName
IndexOutput
out
createOutput
fileNameFromGeneration
SEGMENTS
gen
copyBytes
in
length
byte
b
readByte
writeByte
byte
b
close
close
IndexReader
reader
try
reader
open
dir
catchClause
e
printStackTrace
out
fail
close
testForceCommit
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDoc
writer
IndexReader
reader
open
dir
assertEquals
numDocs
commit
IndexReader
reader2
reopen
assertEquals
numDocs
assertEquals
numDocs
close
for
forControl
int
i
i
i
addDoc
writer
assertEquals
numDocs
close
reader
open
dir
assertEquals
numDocs
close
commit
reader
open
dir
assertEquals
numDocs
close
close
close
FailOnlyInSync
boolean
didFail
eval
dir
MockRAMDirectory
if
doFail
block
StackTraceElement
trace
getStackTrace
Exception
for
forControl
int
i
i
length
i
block
if
doFail
equals
trace
i
getClassName
equals
trace
i
getMethodName
block
didFail
throw
IOException
MockRAMDirectory
Failure
testExceptionDuringSync
MockRAMDirectory
dir
MockRAMDirectory
FailOnlyInSync
failure
FailOnlyInSync
failOn
failure
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
setDoFail
ConcurrentMergeScheduler
cms
ConcurrentMergeScheduler
setSuppressExceptions
setMergeScheduler
cms
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDoc
writer
sync
assertTrue
didFail
clearDoFail
close
IndexReader
reader
open
dir
assertEquals
numDocs
close
close
testTermVectorCorruption
Directory
dir
MockRAMDirectory
for
forControl
int
iter
iter
iter
block
boolean
autoCommit
iter
IndexWriter
writer
IndexWriter
dir
autoCommit
StandardAnalyzer
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
setMergeScheduler
SerialMergeScheduler
setMergePolicy
LogDocMergePolicy
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
addDocument
document
addDocument
document
document
Document
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
addDocument
document
optimize
close
IndexReader
reader
open
dir
for
forControl
int
i
i
numDocs
i
block
document
i
getTermFreqVectors
i
close
writer
IndexWriter
dir
autoCommit
StandardAnalyzer
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
setMergeScheduler
SerialMergeScheduler
setMergePolicy
LogDocMergePolicy
Directory
indexDirs
MockRAMDirectory
dir
addIndexes
indexDirs
close
close
testTermVectorCorruption2
Directory
dir
MockRAMDirectory
for
forControl
int
iter
iter
iter
block
boolean
autoCommit
iter
IndexWriter
writer
IndexWriter
dir
autoCommit
StandardAnalyzer
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
setMergeScheduler
SerialMergeScheduler
setMergePolicy
LogDocMergePolicy
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
addDocument
document
addDocument
document
document
Document
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
addDocument
document
optimize
close
IndexReader
reader
open
dir
assertTrue
getTermFreqVectors
assertTrue
getTermFreqVectors
assertTrue
getTermFreqVectors
close
close
testTermVectorCorruption3
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
setMergeScheduler
SerialMergeScheduler
setMergePolicy
LogDocMergePolicy
Document
document
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
for
forControl
int
i
i
i
addDocument
document
close
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
setMergeScheduler
SerialMergeScheduler
setMergePolicy
LogDocMergePolicy
for
forControl
int
i
i
i
addDocument
document
optimize
close
IndexReader
reader
open
dir
for
forControl
int
i
i
i
block
getTermFreqVectors
i
document
i
close
close
testUserSpecifiedMaxFieldLength
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
IndexWriter
MaxFieldLength
Document
doc
Document
StringBuffer
b
StringBuffer
for
forControl
int
i
i
i
append
append
add
Field
toString
NO
ANALYZED
addDocument
doc
close
IndexReader
reader
open
dir
Term
t
Term
assertEquals
docFreq
t
close
close
testExpungeDeletes
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMaxBufferedDocs
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
Document
document
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
for
forControl
int
i
i
i
addDocument
document
close
IndexReader
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
deleteDocument
deleteDocument
assertEquals
numDocs
close
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
assertEquals
numDocs
assertEquals
maxDoc
expungeDeletes
assertEquals
numDocs
close
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
close
testExpungeDeletes2
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
Document
document
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
for
forControl
int
i
i
i
addDocument
document
close
IndexReader
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
for
forControl
int
i
i
i
deleteDocument
i
assertEquals
numDocs
close
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMergeFactor
assertEquals
numDocs
expungeDeletes
close
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
close
testExpungeDeletes3
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
setRAMBufferSizeMB
DISABLE_AUTO_FLUSH
Document
document
Document
document
Document
Field
storedField
Field
YES
NO
add
storedField
Field
termVectorField
Field
NO
NOT_ANALYZED
WITH_POSITIONS_OFFSETS
add
termVectorField
for
forControl
int
i
i
i
addDocument
document
close
IndexReader
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
for
forControl
int
i
i
i
deleteDocument
i
assertEquals
numDocs
close
writer
IndexWriter
dir
StandardAnalyzer
LIMITED
setMergeFactor
expungeDeletes
close
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
close
testEmptyFieldName
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
Document
doc
Document
add
Field
NO
ANALYZED
addDocument
doc
close
MockIndexWriter
MockIndexWriter
dir
Directory
a
Analyzer
create
boolean
mfl
MaxFieldLength
dir
a
create
mfl
boolean
doFail
testPoint
boolean
name
String
if
doFail
equals
throw
RuntimeException
return
IndexWriter
testExceptionDocumentsWriterInit
MockRAMDirectory
dir
MockRAMDirectory
MockIndexWriter
w
MockIndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
Document
doc
Document
add
Field
YES
ANALYZED
addDocument
doc
doFail
try
addDocument
doc
fail
catchClause
re
close
checkIndex
dir
close
testExceptionJustBeforeFlush
MockRAMDirectory
dir
MockRAMDirectory
MockIndexWriter
w
MockIndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
addDocument
doc
Analyzer
analyzer
Analyzer
tokenStream
TokenStream
fieldName
String
reader
Reader
return
CrashingFilter
fieldName
WhitespaceTokenizer
reader
Document
crashDoc
Document
add
Field
YES
ANALYZED
try
addDocument
crashDoc
analyzer
fail
catchClause
ioe
addDocument
doc
close
close
MockIndexWriter2
MockIndexWriter2
dir
Directory
a
Analyzer
create
boolean
mfl
MaxFieldLength
dir
a
create
mfl
boolean
doFail
boolean
failed
testPoint
boolean
name
String
if
doFail
equals
block
failed
throw
RuntimeException
return
IndexWriter
testExceptionOnMergeInit
MockRAMDirectory
dir
MockRAMDirectory
MockIndexWriter2
w
MockIndexWriter2
dir
WhitespaceAnalyzer
UNLIMITED
setMaxBufferedDocs
setMergeFactor
doFail
setMergeScheduler
ConcurrentMergeScheduler
Document
doc
Document
add
Field
YES
ANALYZED
for
forControl
int
i
i
i
try
addDocument
doc
catchClause
re
break
ConcurrentMergeScheduler
getMergeScheduler
assertTrue
failed
close
close
MockIndexWriter3
MockIndexWriter3
dir
Directory
a
Analyzer
create
boolean
mfl
IndexWriter
MaxFieldLength
dir
a
create
mfl
boolean
wasCalled
doAfterFlush
wasCalled
IndexWriter
testDoAfterFlush
MockRAMDirectory
dir
MockRAMDirectory
MockIndexWriter3
w
MockIndexWriter3
dir
WhitespaceAnalyzer
LIMITED
Document
doc
Document
add
Field
YES
ANALYZED
addDocument
doc
commit
assertTrue
wasCalled
wasCalled
deleteDocuments
Term
commit
assertTrue
wasCalled
close
IndexReader
ir
open
dir
assertEquals
maxDoc
assertEquals
numDocs
close
close
FailOnlyInCommit
boolean
fail1
fail2
eval
dir
MockRAMDirectory
StackTraceElement
trace
getStackTrace
Exception
boolean
isCommit
boolean
isDelete
for
forControl
int
i
i
length
i
block
if
equals
trace
i
getClassName
equals
trace
i
getMethodName
isCommit
if
equals
trace
i
getClassName
equals
trace
i
getMethodName
isDelete
if
isCommit
block
if
isDelete
block
fail1
throw
RuntimeException
block
fail2
throw
IOException
MockRAMDirectory
Failure
testExceptionsDuringCommit
MockRAMDirectory
dir
MockRAMDirectory
FailOnlyInCommit
failure
FailOnlyInCommit
IndexWriter
w
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
Document
doc
Document
add
Field
YES
ANALYZED
addDocument
doc
failOn
failure
try
close
fail
catchClause
ioe
fail
catchClause
re
assertTrue
fail1
fail2
abort
close
String
utf8Data
String
testInvalidUTF16
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
w
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
Document
doc
Document
int
count
length
for
forControl
int
i
i
count
i
add
Field
i
utf8Data
i
YES
ANALYZED
addDocument
doc
close
IndexReader
ir
open
dir
Document
doc2
document
for
forControl
int
i
i
count
i
block
assertEquals
i
docFreq
Term
i
utf8Data
i
assertEquals
i
utf8Data
i
getField
stringValue
i
close
close
testAllUnicodeChars
UnicodeUtil
UTF8Result
utf8
UnicodeUtil
UTF8Result
UnicodeUtil
UTF16Result
utf16
UnicodeUtil
UTF16Result
char
chars
char
for
forControl
int
ch
ch
ch
block
if
ch
ch
int
len
if
ch
block
chars
len
char
ch
block
chars
len
char
ch
UNI_SUR_HIGH_START
chars
len
char
ch
UNI_SUR_LOW_START
UTF16toUTF8
chars
len
utf8
String
s1
String
chars
len
String
s2
String
result
length
assertEquals
ch
s1
s2
UTF8toUTF16
result
length
utf16
assertEquals
ch
s1
String
result
length
byte
b
getBytes
assertEquals
length
length
for
forControl
int
j
j
length
j
assertEquals
result
j
b
j
Random
r
Random
nextInt
int
lim
int
return
nextInt
lim
nextInt
int
start
int
end
int
return
start
nextInt
end
start
fillUnicode
boolean
buffer
char
expected
char
offset
int
count
int
int
len
offset
count
boolean
hasIllegal
if
offset
buffer
offset
buffer
offset
offset
for
forControl
int
i
offset
i
len
i
block
int
t
nextInt
if
t
i
len
block
expected
i
buffer
i
char
nextInt
expected
i
buffer
i
char
nextInt
if
t
expected
i
buffer
i
char
nextInt
if
t
expected
i
buffer
i
char
nextInt
if
t
expected
i
buffer
i
char
nextInt
if
t
expected
i
buffer
i
char
nextInt
if
t
i
len
block
if
nextInt
block
if
nextBoolean
buffer
i
char
nextInt
buffer
i
char
nextInt
expected
i
expected
i
buffer
i
char
nextInt
hasIllegal
expected
i
buffer
i
char
nextInt
block
expected
i
buffer
i
return
hasIllegal
testRandomUnicodeStrings
char
buffer
char
char
expected
char
UnicodeUtil
UTF8Result
utf8
UnicodeUtil
UTF8Result
UnicodeUtil
UTF16Result
utf16
UnicodeUtil
UTF16Result
for
forControl
int
iter
iter
iter
block
boolean
hasIllegal
fillUnicode
buffer
expected
UTF16toUTF8
buffer
utf8
if
hasIllegal
block
byte
b
getBytes
String
buffer
assertEquals
length
length
for
forControl
int
i
i
length
i
assertEquals
b
i
result
i
UTF8toUTF16
result
length
utf16
assertEquals
length
for
forControl
int
i
i
i
assertEquals
expected
i
result
i
testIncrementalUnicodeStrings
char
buffer
char
char
expected
char
UnicodeUtil
UTF8Result
utf8
UnicodeUtil
UTF8Result
UnicodeUtil
UTF16Result
utf16
UnicodeUtil
UTF16Result
UnicodeUtil
UTF16Result
utf16a
UnicodeUtil
UTF16Result
boolean
hasIllegal
byte
last
byte
for
forControl
int
iter
iter
iter
block
int
prefix
if
iter
hasIllegal
prefix
prefix
nextInt
hasIllegal
fillUnicode
buffer
expected
prefix
prefix
UTF16toUTF8
buffer
utf8
if
hasIllegal
block
byte
b
getBytes
String
buffer
assertEquals
length
length
for
forControl
int
i
i
length
i
assertEquals
b
i
result
i
int
bytePrefix
if
iter
hasIllegal
bytePrefix
for
forControl
int
i
i
i
if
last
i
result
i
block
bytePrefix
i
break
arraycopy
result
last
length
UTF8toUTF16
result
bytePrefix
length
bytePrefix
utf16
assertEquals
length
for
forControl
int
i
i
i
assertEquals
expected
i
result
i
UTF8toUTF16
result
length
utf16a
assertEquals
length
for
forControl
int
i
i
i
assertEquals
expected
i
result
i
testNegativePositions
SinkTokenizer
tokens
SinkTokenizer
Token
t
Token
setTermBuffer
setPositionIncrement
add
t
setTermBuffer
setPositionIncrement
add
t
setTermBuffer
add
t
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
w
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
Document
doc
Document
add
Field
tokens
addDocument
doc
commit
IndexSearcher
s
IndexSearcher
dir
PhraseQuery
pq
PhraseQuery
add
Term
add
Term
add
Term
ScoreDoc
hits
search
scoreDocs
pq
assertEquals
length
Query
q
SpanTermQuery
Term
hits
search
scoreDocs
q
assertEquals
length
TermPositions
tps
getIndexReader
termPositions
Term
assertTrue
next
assertEquals
freq
assertEquals
nextPosition
close
assertTrue
checkIndex
dir
close
close
testPrepareCommit
Directory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDoc
writer
IndexReader
reader
open
dir
assertEquals
numDocs
prepareCommit
IndexReader
reader2
open
dir
assertEquals
numDocs
commit
IndexReader
reader3
reopen
assertEquals
numDocs
assertEquals
numDocs
assertEquals
numDocs
close
close
for
forControl
int
i
i
i
addDoc
writer
assertEquals
numDocs
close
reader
open
dir
assertEquals
numDocs
close
prepareCommit
reader
open
dir
assertEquals
numDocs
close
commit
reader
open
dir
assertEquals
numDocs
close
close
close
testPrepareCommitRollback
MockRAMDirectory
dir
MockRAMDirectory
setPreventDoubleWrite
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDoc
writer
IndexReader
reader
open
dir
assertEquals
numDocs
prepareCommit
IndexReader
reader2
open
dir
assertEquals
numDocs
rollback
IndexReader
reader3
reopen
assertEquals
numDocs
assertEquals
numDocs
assertEquals
numDocs
close
close
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
for
forControl
int
i
i
i
addDoc
writer
assertEquals
numDocs
close
reader
open
dir
assertEquals
numDocs
close
prepareCommit
reader
open
dir
assertEquals
numDocs
close
commit
reader
open
dir
assertEquals
numDocs
close
close
close
testPrepareCommitNoChanges
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
prepareCommit
commit
close
IndexReader
reader
open
dir
assertEquals
numDocs
close
close
RunAddIndexesThreads
Directory
dir
dir2
int
NUM_INIT_DOCS
IndexWriter
writer2
List
failures
ArrayList
boolean
didClose
IndexReader
readers
int
NUM_COPY
int
NUM_THREADS
Thread
threads
Thread
NUM_THREADS
ConcurrentMergeScheduler
cms
RunAddIndexesThreads
numCopy
int
NUM_COPY
numCopy
dir
MockRAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
LIMITED
setMaxBufferedDocs
for
forControl
int
i
i
NUM_INIT_DOCS
i
addDoc
writer
close
dir2
MockRAMDirectory
writer2
IndexWriter
dir2
WhitespaceAnalyzer
LIMITED
cms
ConcurrentMergeScheduler
getMergeScheduler
readers
IndexReader
NUM_COPY
for
forControl
int
i
i
NUM_COPY
i
readers
i
open
dir
launchThreads
numIter
int
for
forControl
int
i
i
NUM_THREADS
i
block
threads
i
Thread
run
try
Directory
dirs
Directory
NUM_COPY
for
forControl
int
k
k
NUM_COPY
k
dirs
k
MockRAMDirectory
dir
int
j
while
block
if
numIter
j
numIter
break
doBody
j
dirs
catchClause
t
handle
t
for
forControl
int
i
i
NUM_THREADS
i
threads
i
start
joinThreads
for
forControl
int
i
i
NUM_THREADS
i
try
threads
i
join
catchClause
ie
currentThread
interrupt
close
doWait
boolean
didClose
close
doWait
closeDir
for
forControl
int
i
i
NUM_COPY
i
readers
i
close
close
doBody
j
int
dirs
Directory
handle
t
Throwable
CommitAndAddIndexes
CommitAndAddIndexes
numCopy
int
numCopy
handle
t
Throwable
printStackTrace
out
synchronized
failures
add
t
doBody
j
int
dirs
Directory
switch
j
case
addIndexes
dirs
break
case
addIndexesNoOptimize
dirs
break
case
addIndexes
readers
break
case
commit
RunAddIndexesThreads
testAddIndexesWithThreads
int
NUM_ITER
int
NUM_COPY
CommitAndAddIndexes
c
CommitAndAddIndexes
NUM_COPY
launchThreads
NUM_ITER
for
forControl
int
i
i
i
addDoc
writer2
joinThreads
assertEquals
NUM_COPY
NUM_ITER
NUM_THREADS
NUM_INIT_DOCS
numDocs
close
assertTrue
size
checkIndex
dir2
IndexReader
reader
open
dir2
assertEquals
NUM_COPY
NUM_ITER
NUM_THREADS
NUM_INIT_DOCS
numDocs
close
closeDir
CommitAndAddIndexes2
CommitAndAddIndexes2
numCopy
int
numCopy
handle
t
Throwable
if
t
AlreadyClosedException
t
NullPointerException
block
printStackTrace
out
synchronized
failures
add
t
CommitAndAddIndexes
testAddIndexesWithClose
int
NUM_COPY
CommitAndAddIndexes2
c
CommitAndAddIndexes2
NUM_COPY
launchThreads
close
joinThreads
checkIndex
dir2
closeDir
assertTrue
size
CommitAndAddIndexes3
CommitAndAddIndexes3
numCopy
int
numCopy
doBody
j
int
dirs
Directory
switch
j
case
addIndexes
dirs
break
case
addIndexesNoOptimize
dirs
break
case
addIndexes
readers
break
case
optimize
case
commit
handle
t
Throwable
boolean
report
if
t
AlreadyClosedException
t
MergePolicy
MergeAbortedException
t
NullPointerException
block
report
didClose
if
t
IOException
block
Throwable
t2
getCause
if
t2
MergePolicy
MergeAbortedException
block
report
didClose
if
report
block
printStackTrace
out
synchronized
failures
add
t
RunAddIndexesThreads
testAddIndexesWithCloseNoWait
int
NUM_COPY
CommitAndAddIndexes3
c
CommitAndAddIndexes3
NUM_COPY
launchThreads
try
sleep
catchClause
ie
currentThread
interrupt
close
joinThreads
checkIndex
dir2
closeDir
assertTrue
size
testAddIndexesWithRollback
int
NUM_COPY
CommitAndAddIndexes3
c
CommitAndAddIndexes3
NUM_COPY
launchThreads
try
sleep
catchClause
ie
currentThread
interrupt
didClose
rollback
joinThreads
checkIndex
dir2
closeDir
assertTrue
size
MockIndexWriter4
MockIndexWriter4
dir
Directory
a
Analyzer
create
boolean
mfl
MaxFieldLength
dir
a
create
mfl
boolean
doFail
testPoint
boolean
name
String
if
doFail
equals
throw
RuntimeException
return
IndexWriter
testRollbackExceptionHang
MockRAMDirectory
dir
MockRAMDirectory
MockIndexWriter4
w
MockIndexWriter4
dir
WhitespaceAnalyzer
LIMITED
addDoc
w
doFail
try
rollback
fail
catchClause
re
doFail
rollback
testBinaryFieldOffsetLength
MockRAMDirectory
dir
MockRAMDirectory
IndexWriter
w
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
byte
b
byte
for
forControl
int
i
i
i
b
i
byte
i
Document
doc
Document
Field
f
Field
b
YES
byte
bx
getBinaryValue
assertTrue
bx
assertEquals
length
assertEquals
getBinaryOffset
assertEquals
getBinaryLength
add
f
addDocument
doc
close
IndexReader
ir
open
dir
doc
document
f
getField
b
getBinaryValue
assertTrue
b
assertEquals
length
assertEquals
b
close
close
testMergeCompressedFields
File
indexDir
File
getProperty
Directory
dir
getDirectory
indexDir
try
for
forControl
int
i
i
i
block
IndexWriter
w
IndexWriter
dir
WhitespaceAnalyzer
i
UNLIMITED
try
setMergeFactor
setMergeScheduler
SerialMergeScheduler
Document
doc
Document
add
Field
COMPRESS
NO
add
Field
byte
COMPRESS
add
Field
i
NO
ANALYZED
addDocument
doc
close
byte
cmp
byte
IndexReader
r
open
dir
try
for
forControl
int
i
i
i
block
Document
doc
document
i
assertEquals
getField
stringValue
byte
b
getField
binaryValue
assertTrue
equals
b
cmp
close
close
rmDir
indexDir
testOptimizeExceptions
RAMDirectory
startDir
MockRAMDirectory
IndexWriter
w
IndexWriter
startDir
WhitespaceAnalyzer
UNLIMITED
setMaxBufferedDocs
setMergeFactor
for
forControl
int
i
i
i
addDoc
w
close
for
forControl
int
i
i
i
block
MockRAMDirectory
dir
MockRAMDirectory
startDir
w
IndexWriter
dir
WhitespaceAnalyzer
UNLIMITED
ConcurrentMergeScheduler
getMergeScheduler
setRandomIOExceptionRate
try
optimize
catchClause
ioe
if
getCause
fail
close
close
LuceneTestCase
