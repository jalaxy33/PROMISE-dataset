TestSnapshotDeletionPolicy
String
INDEX_PATH
testSnapshotDeletionPolicy
File
dir
File
getProperty
INDEX_PATH
try
Directory
fsDir
getDirectory
dir
runTest
fsDir
close
rmDir
dir
MockRAMDirectory
dir2
MockRAMDirectory
runTest
dir2
testReuseAcrossWriters
Directory
dir
MockRAMDirectory
SnapshotDeletionPolicy
dp
SnapshotDeletionPolicy
KeepOnlyLastCommitDeletionPolicy
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
dp
setMaxBufferedDocs
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
for
forControl
int
i
i
i
addDocument
doc
IndexCommit
cp
IndexCommit
snapshot
copyFiles
dir
cp
close
copyFiles
dir
cp
writer
IndexWriter
dir
StandardAnalyzer
dp
copyFiles
dir
cp
for
forControl
int
i
i
i
addDocument
doc
copyFiles
dir
cp
close
copyFiles
dir
cp
release
writer
IndexWriter
dir
StandardAnalyzer
dp
close
try
copyFiles
dir
cp
fail
catchClause
ioe
close
runTest
dir
Directory
long
stopTime
currentTimeMillis
SnapshotDeletionPolicy
dp
SnapshotDeletionPolicy
KeepOnlyLastCommitDeletionPolicy
IndexWriter
writer
IndexWriter
dir
StandardAnalyzer
dp
setMaxBufferedDocs
Thread
t
Thread
run
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
while
currentTimeMillis
stopTime
block
for
forControl
int
i
i
i
block
try
addDocument
doc
catchClause
t
printStackTrace
out
fail
try
sleep
catchClause
ie
currentThread
interrupt
start
while
currentTimeMillis
stopTime
block
backupIndex
dir
dp
try
sleep
catchClause
ie
currentThread
interrupt
if
isAlive
break
try
join
catchClause
ie
currentThread
interrupt
Document
doc
Document
add
Field
YES
ANALYZED
WITH_POSITIONS_OFFSETS
addDocument
doc
close
assertNoUnreferencedFiles
dir
backupIndex
dir
Directory
dp
SnapshotDeletionPolicy
try
copyFiles
dir
IndexCommit
snapshot
release
copyFiles
dir
Directory
cp
IndexCommit
Collection
files
getFileNames
Iterator
it
iterator
while
hasNext
block
String
fileName
String
next
readFile
dir
fileName
byte
buffer
byte
readFile
dir
Directory
name
String
IndexInput
input
openInput
name
try
long
size
fileLength
name
long
bytesLeft
size
while
bytesLeft
block
int
numToRead
if
bytesLeft
length
numToRead
int
bytesLeft
numToRead
length
readBytes
buffer
numToRead
bytesLeft
numToRead
try
sleep
catchClause
ie
currentThread
interrupt
close
LuceneTestCase
