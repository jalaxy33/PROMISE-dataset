TestCompoundFile
main
args
String
run
TestSuite
TestCompoundFile
Directory
dir
setUp
setUp
File
file
File
getProperty
rmDir
file
dir
getDirectory
file
createRandomFile
dir
Directory
name
String
size
int
IndexOutput
os
createOutput
name
for
forControl
int
i
i
size
i
block
byte
b
byte
random
writeByte
b
close
createSequenceFile
dir
Directory
name
String
start
byte
size
int
IndexOutput
os
createOutput
name
for
forControl
int
i
i
size
i
block
writeByte
start
start
close
assertSameStreams
msg
String
expected
IndexInput
test
IndexInput
assertNotNull
msg
expected
assertNotNull
msg
test
assertEquals
msg
length
length
assertEquals
msg
getFilePointer
getFilePointer
byte
expectedBuffer
byte
byte
testBuffer
byte
length
long
remainder
length
getFilePointer
while
remainder
block
int
readLen
int
min
remainder
length
readBytes
expectedBuffer
readLen
readBytes
testBuffer
readLen
assertEqualArrays
msg
remainder
expectedBuffer
testBuffer
readLen
remainder
readLen
assertSameStreams
msg
String
expected
IndexInput
actual
IndexInput
seekTo
long
if
seekTo
seekTo
length
block
seek
seekTo
seek
seekTo
assertSameStreams
msg
expected
actual
assertSameSeekBehavior
msg
String
expected
IndexInput
actual
IndexInput
long
point
assertSameStreams
msg
expected
actual
point
point
length
assertSameStreams
msg
expected
actual
point
point
length
assertSameStreams
msg
expected
actual
point
point
length
assertSameStreams
msg
expected
actual
point
point
length
assertSameStreams
msg
expected
actual
point
point
length
assertSameStreams
msg
expected
actual
point
assertEqualArrays
msg
String
expected
byte
test
byte
start
int
len
int
assertNotNull
msg
expected
assertNotNull
msg
test
for
forControl
int
i
start
i
len
i
block
assertEquals
msg
i
expected
i
test
i
testSingleFile
int
data
int
for
forControl
int
i
i
length
i
block
String
name
data
i
createSequenceFile
dir
name
byte
data
i
CompoundFileWriter
csw
CompoundFileWriter
dir
name
addFile
name
close
CompoundFileReader
csr
CompoundFileReader
dir
name
IndexInput
expected
openInput
name
IndexInput
actual
openInput
name
assertSameStreams
name
expected
actual
assertSameSeekBehavior
name
expected
actual
close
close
close
testTwoFiles
createSequenceFile
dir
byte
createSequenceFile
dir
byte
CompoundFileWriter
csw
CompoundFileWriter
dir
addFile
addFile
close
CompoundFileReader
csr
CompoundFileReader
dir
IndexInput
expected
openInput
IndexInput
actual
openInput
assertSameStreams
expected
actual
assertSameSeekBehavior
expected
actual
close
close
expected
openInput
actual
openInput
assertSameStreams
expected
actual
assertSameSeekBehavior
expected
actual
close
close
close
testRandomFiles
String
segment
int
chunk
createRandomFile
dir
segment
createRandomFile
dir
segment
createRandomFile
dir
segment
createRandomFile
dir
segment
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
segment
chunk
createRandomFile
dir
createRandomFile
dir
segment
createRandomFile
dir
segment
CompoundFileWriter
csw
CompoundFileWriter
dir
String
data
String
for
forControl
int
i
i
length
i
block
addFile
segment
data
i
close
CompoundFileReader
csr
CompoundFileReader
dir
for
forControl
int
i
i
length
i
block
IndexInput
check
openInput
segment
data
i
IndexInput
test
openInput
segment
data
i
assertSameStreams
data
i
check
test
assertSameSeekBehavior
data
i
check
test
close
close
close
setUp_2
CompoundFileWriter
cw
CompoundFileWriter
dir
for
forControl
int
i
i
i
block
createSequenceFile
dir
i
byte
addFile
i
close
testReadAfterClose
demo_FSIndexInputBug
FSDirectory
dir
demo_FSIndexInputBug
fsdir
FSDirectory
file
String
IndexOutput
os
createOutput
file
for
forControl
int
i
i
i
block
writeByte
byte
i
close
IndexInput
in
openInput
file
byte
b
readByte
close
b
readByte
seek
try
b
readByte
fail
catchClause
e
isCSIndexInput
boolean
is
IndexInput
return
is
CompoundFileReader
CSIndexInput
isCSIndexInputOpen
boolean
is
IndexInput
if
isCSIndexInput
is
block
CompoundFileReader
CSIndexInput
cis
CompoundFileReader
CSIndexInput
is
return
isFSIndexInputOpen
base
block
return
testClonedStreamsClosing
setUp_2
CompoundFileReader
cr
CompoundFileReader
dir
IndexInput
expected
openInput
if
isFSIndexInput
expected
block
assertTrue
isFSIndexInputOpen
expected
IndexInput
one
openInput
assertTrue
isCSIndexInputOpen
one
IndexInput
two
IndexInput
clone
assertTrue
isCSIndexInputOpen
two
assertSameStreams
expected
one
seek
assertSameStreams
expected
two
close
assertTrue
isCSIndexInputOpen
one
seek
seek
assertSameStreams
expected
two
close
assertFalse
isCSIndexInputOpen
one
assertFalse
isCSIndexInputOpen
two
seek
seek
close
seek
seek
close
testRandomAccess
setUp_2
CompoundFileReader
cr
CompoundFileReader
dir
IndexInput
e1
openInput
IndexInput
e2
openInput
IndexInput
a1
openInput
IndexInput
a2
openInput
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
byte
be1
readByte
byte
ba1
readByte
assertEquals
be1
ba1
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
byte
be2
readByte
byte
ba2
readByte
assertEquals
be2
ba2
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
assertEquals
getFilePointer
assertEquals
getFilePointer
be2
readByte
ba2
readByte
assertEquals
be2
ba2
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
be2
readByte
ba2
readByte
assertEquals
be2
ba2
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
close
close
close
close
close
testRandomAccessClones
setUp_2
CompoundFileReader
cr
CompoundFileReader
dir
IndexInput
e1
openInput
IndexInput
e2
openInput
IndexInput
a1
IndexInput
clone
IndexInput
a2
IndexInput
clone
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
byte
be1
readByte
byte
ba1
readByte
assertEquals
be1
ba1
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
byte
be2
readByte
byte
ba2
readByte
assertEquals
be2
ba2
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
assertEquals
getFilePointer
assertEquals
getFilePointer
be2
readByte
ba2
readByte
assertEquals
be2
ba2
seek
seek
assertEquals
getFilePointer
assertEquals
getFilePointer
be2
readByte
ba2
readByte
assertEquals
be2
ba2
assertEquals
getFilePointer
assertEquals
getFilePointer
be1
readByte
ba1
readByte
assertEquals
be1
ba1
close
close
close
close
close
testFileNotFound
setUp_2
CompoundFileReader
cr
CompoundFileReader
dir
try
IndexInput
e1
openInput
fail
catchClause
e
close
testReadPastEOF
setUp_2
CompoundFileReader
cr
CompoundFileReader
dir
IndexInput
is
openInput
seek
length
byte
b
byte
readBytes
b
try
byte
test
readByte
fail
catchClause
e
seek
length
try
readBytes
b
fail
catchClause
e
close
close
testLargeWrites
IndexOutput
os
createOutput
byte
largeBuf
byte
for
forControl
int
i
i
length
i
block
largeBuf
i
byte
random
long
currentPos
getFilePointer
writeBytes
largeBuf
length
try
assertEquals
currentPos
length
getFilePointer
close
LuceneTestCase
