TestPayloadSpans
boolean
DEBUG
IndexSearcher
searcher
Similarity
similarity
DefaultSimilarity
IndexReader
indexReader
TestPayloadSpans
s
String
s
setUp
PayloadHelper
helper
PayloadHelper
searcher
setUp
similarity
indexReader
getIndexReader
tearDown
testSpanTermQuery
SpanTermQuery
stq
PayloadSpans
spans
stq
SpanTermQuery
Term
FIELD
spans
getPayloadSpans
indexReader
assertTrue
spans
checkSpans
spans
stq
SpanTermQuery
Term
NO_PAYLOAD_FIELD
spans
getPayloadSpans
indexReader
assertTrue
spans
checkSpans
spans
testSpanFirst
SpanQuery
match
SpanFirstQuery
sfq
match
SpanTermQuery
Term
FIELD
sfq
SpanFirstQuery
match
PayloadSpans
spans
getPayloadSpans
indexReader
checkSpans
spans
SpanQuery
clauses
SpanQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
match
SpanNearQuery
clauses
sfq
SpanFirstQuery
match
checkSpans
getPayloadSpans
indexReader
match
SpanNearQuery
clauses
sfq
SpanFirstQuery
match
checkSpans
getPayloadSpans
indexReader
testNestedSpans
SpanTermQuery
stq
PayloadSpans
spans
IndexSearcher
searcher
getSearcher
stq
SpanTermQuery
Term
FIELD
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
SpanQuery
clauses
SpanQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
SpanNearQuery
spanNearQuery
SpanNearQuery
clauses
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
int
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
spanNearQuery
SpanNearQuery
clauses
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
int
clauses
SpanQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
spanNearQuery
SpanNearQuery
clauses
SpanQuery
clauses2
SpanQuery
clauses2
SpanTermQuery
Term
FIELD
clauses2
spanNearQuery
SpanNearQuery
nestedSpanNearQuery
SpanNearQuery
clauses2
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
int
testFirstClauseWithoutPayload
PayloadSpans
spans
IndexSearcher
searcher
getSearcher
SpanQuery
clauses
SpanQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
SpanNearQuery
spanNearQuery
SpanNearQuery
clauses
SpanQuery
clauses2
SpanQuery
clauses2
SpanTermQuery
Term
FIELD
clauses2
spanNearQuery
SpanNearQuery
snq
SpanNearQuery
clauses2
SpanQuery
clauses3
SpanQuery
clauses3
SpanTermQuery
Term
FIELD
clauses3
snq
SpanNearQuery
nestedSpanNearQuery
SpanNearQuery
clauses3
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
int
testHeavilyNestedSpanQuery
PayloadSpans
spans
IndexSearcher
searcher
getSearcher
SpanQuery
clauses
SpanQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
SpanNearQuery
spanNearQuery
SpanNearQuery
clauses
clauses
SpanQuery
clauses
spanNearQuery
clauses
SpanTermQuery
Term
FIELD
clauses
SpanTermQuery
Term
FIELD
SpanNearQuery
spanNearQuery2
SpanNearQuery
clauses
SpanQuery
clauses2
SpanQuery
clauses2
SpanTermQuery
Term
FIELD
clauses2
SpanTermQuery
Term
FIELD
SpanNearQuery
spanNearQuery3
SpanNearQuery
clauses2
SpanQuery
clauses3
SpanQuery
clauses3
SpanTermQuery
Term
FIELD
clauses3
spanNearQuery2
clauses3
spanNearQuery3
SpanNearQuery
nestedSpanNearQuery
SpanNearQuery
clauses3
spans
getPayloadSpans
getIndexReader
assertTrue
spans
checkSpans
spans
int
testPayloadSpanUtil
RAMDirectory
directory
RAMDirectory
PayloadAnalyzer
analyzer
PayloadAnalyzer
String
docs
String
IndexWriter
writer
IndexWriter
directory
analyzer
setSimilarity
similarity
Document
doc
Document
add
Field
FIELD
YES
ANALYZED
addDocument
doc
close
IndexSearcher
searcher
IndexSearcher
directory
IndexReader
reader
getIndexReader
PayloadSpanUtil
psu
PayloadSpanUtil
reader
Collection
payloads
getPayloadsForQuery
TermQuery
Term
FIELD
if
DEBUG
println
size
Iterator
it
iterator
while
hasNext
block
byte
bytes
byte
next
if
DEBUG
println
String
bytes
checkSpans
spans
PayloadSpans
expectedNumSpans
int
expectedNumPayloads
int
expectedPayloadLength
int
expectedFirstByte
int
assertTrue
spans
int
seen
while
next
block
if
expectedNumPayloads
block
assertTrue
isPayloadAvailable
expectedNumPayloads
isPayloadAvailable
block
assertTrue
isPayloadAvailable
if
isPayloadAvailable
block
Collection
payload
getPayload
assertTrue
size
expectedNumPayloads
size
expectedNumPayloads
for
forControl
Iterator
iterator
iterator
hasNext
block
byte
thePayload
byte
next
assertTrue
length
expectedPayloadLength
length
expectedPayloadLength
assertTrue
thePayload
expectedFirstByte
thePayload
expectedFirstByte
seen
assertTrue
seen
expectedNumSpans
seen
expectedNumSpans
getSearcher
IndexSearcher
RAMDirectory
directory
RAMDirectory
PayloadAnalyzer
analyzer
PayloadAnalyzer
String
docs
String
IndexWriter
writer
IndexWriter
directory
analyzer
setSimilarity
similarity
Document
doc
for
forControl
int
i
i
length
i
block
doc
Document
String
docText
docs
i
add
Field
FIELD
docText
YES
ANALYZED
addDocument
doc
close
IndexSearcher
searcher
IndexSearcher
directory
return
searcher
checkSpans
spans
PayloadSpans
numSpans
int
numPayloads
int
int
cnt
while
next
block
if
DEBUG
println
if
isPayloadAvailable
block
Collection
payload
getPayload
if
DEBUG
println
size
Iterator
it
iterator
while
hasNext
block
byte
bytes
byte
next
if
DEBUG
println
doc
start
end
String
bytes
assertEquals
numPayloads
cnt
size
block
assertFalse
numPayloads
cnt
length
numPayloads
cnt
cnt
assertEquals
numSpans
cnt
PayloadAnalyzer
tokenStream
TokenStream
fieldName
String
reader
Reader
TokenStream
result
LowerCaseTokenizer
reader
result
PayloadFilter
result
fieldName
return
result
Analyzer
PayloadFilter
String
fieldName
int
numSeen
Set
entities
HashSet
Set
nopayload
HashSet
int
pos
PayloadFilter
input
TokenStream
fieldName
String
input
fieldName
fieldName
pos
add
add
add
add
next
Token
Token
result
next
if
result
block
String
token
String
termBuffer
termLength
if
contains
token
block
if
contains
token
block
setPayload
Payload
token
pos
block
setPayload
Payload
token
pos
pos
getPositionIncrement
return
result
TokenFilter
TestCase
