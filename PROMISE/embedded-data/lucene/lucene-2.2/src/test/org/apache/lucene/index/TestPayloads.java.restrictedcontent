TestPayloads
testPayload
byte
testData
getBytes
Payload
payload
Payload
testData
assertEquals
length
length
byte
target
byte
length
try
copyTo
target
fail
catchClause
expected
target
byte
length
copyTo
target
for
forControl
int
i
i
length
i
block
assertEquals
testData
i
target
i
target
toByteArray
assertByteArrayEquals
testData
target
for
forControl
int
i
i
length
i
block
assertEquals
byteAt
i
testData
i
try
byteAt
length
fail
catchClause
expected
testPayloadFieldBit
Directory
ram
RAMDirectory
PayloadAnalyzer
analyzer
PayloadAnalyzer
IndexWriter
writer
IndexWriter
ram
analyzer
Document
d
Document
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
setPayloadData
getBytes
addDocument
d
close
SegmentReader
reader
SegmentReader
open
ram
FieldInfos
fi
fieldInfos
assertFalse
fieldInfo
storePayloads
assertTrue
fieldInfo
storePayloads
assertFalse
fieldInfo
storePayloads
close
writer
IndexWriter
ram
analyzer
d
Document
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
add
Field
NO
TOKENIZED
setPayloadData
getBytes
setPayloadData
getBytes
addDocument
d
optimize
close
reader
SegmentReader
open
ram
fi
fieldInfos
assertFalse
fieldInfo
storePayloads
assertTrue
fieldInfo
storePayloads
assertTrue
fieldInfo
storePayloads
close
testPayloadsEncoding
Directory
dir
RAMDirectory
performTest
dir
String
dirName
dir
getDirectory
dirName
performTest
dir
rmDir
dirName
performTest
dir
Directory
PayloadAnalyzer
analyzer
PayloadAnalyzer
IndexWriter
writer
IndexWriter
dir
analyzer
int
skipInterval
int
numTerms
String
fieldName
int
numDocs
skipInterval
Term
terms
generateTerms
fieldName
numTerms
StringBuffer
sb
StringBuffer
for
forControl
int
i
i
length
i
block
append
terms
i
text
append
String
content
toString
int
payloadDataLength
numTerms
numDocs
numTerms
numDocs
numDocs
byte
payloadData
generateRandomData
payloadDataLength
Document
d
Document
add
Field
fieldName
content
NO
TOKENIZED
int
offset
for
forControl
int
i
i
numDocs
i
block
setPayloadData
fieldName
payloadData
offset
offset
numTerms
addDocument
d
for
forControl
int
i
i
numDocs
i
block
setPayloadData
fieldName
payloadData
offset
i
offset
i
numTerms
addDocument
d
optimize
close
IndexReader
reader
open
dir
byte
verifyPayloadData
byte
payloadDataLength
offset
TermPositions
tps
TermPositions
numTerms
for
forControl
int
i
i
numTerms
i
block
tps
i
termPositions
terms
i
while
tps
next
block
for
forControl
int
i
i
numTerms
i
block
tps
i
next
int
freq
tps
freq
for
forControl
int
i
i
freq
i
block
for
forControl
int
j
j
numTerms
j
block
tps
j
nextPosition
tps
j
getPayload
verifyPayloadData
offset
offset
tps
j
getPayloadLength
for
forControl
int
i
i
numTerms
i
block
tps
i
close
assertByteArrayEquals
payloadData
verifyPayloadData
TermPositions
tp
termPositions
terms
next
nextPosition
nextPosition
assertEquals
getPayloadLength
byte
payload
getPayload
assertEquals
payload
payloadData
numTerms
nextPosition
skipTo
nextPosition
assertEquals
getPayloadLength
payload
getPayload
assertEquals
payload
payloadData
numTerms
seek
terms
next
nextPosition
assertEquals
getPayloadLength
skipTo
skipInterval
nextPosition
assertEquals
getPayloadLength
skipTo
skipInterval
nextPosition
assertEquals
getPayloadLength
skipTo
skipInterval
nextPosition
assertEquals
skipInterval
numDocs
getPayloadLength
getPayload
try
getPayload
fail
catchClause
expected
close
analyzer
PayloadAnalyzer
writer
IndexWriter
dir
analyzer
String
singleTerm
d
Document
add
Field
fieldName
singleTerm
NO
TOKENIZED
payloadData
generateRandomData
setPayloadData
fieldName
payloadData
addDocument
d
optimize
close
reader
open
dir
tp
termPositions
Term
fieldName
singleTerm
next
nextPosition
verifyPayloadData
byte
getPayloadLength
getPayload
verifyPayloadData
byte
portion
byte
arraycopy
payloadData
portion
assertByteArrayEquals
portion
verifyPayloadData
close
Random
rnd
Random
generateRandomData
data
byte
nextBytes
data
generateRandomData
byte
n
int
byte
data
byte
n
generateRandomData
data
return
data
generateTerms
Term
fieldName
String
n
int
int
maxDigits
int
log
n
log
Term
terms
Term
n
StringBuffer
sb
StringBuffer
for
forControl
int
i
i
n
i
block
setLength
append
int
zeros
maxDigits
int
log
i
log
for
forControl
int
j
j
zeros
j
block
append
append
i
terms
i
Term
fieldName
toString
return
terms
rmDir
dir
String
File
fileDir
File
dir
if
exists
block
File
files
listFiles
if
files
block
for
forControl
int
i
i
length
i
block
files
i
delete
delete
assertByteArrayEquals
b1
byte
b2
byte
if
length
length
block
fail
length
length
for
forControl
int
i
i
length
i
block
if
b1
i
b2
i
block
fail
i
b1
i
b2
i
PayloadAnalyzer
Map
fieldToData
HashMap
setPayloadData
field
String
data
byte
offset
int
length
int
put
field
PayloadData
data
offset
length
setPayloadData
field
String
numFieldInstancesToSkip
int
data
byte
offset
int
length
int
put
field
PayloadData
numFieldInstancesToSkip
data
offset
length
tokenStream
TokenStream
fieldName
String
reader
Reader
PayloadData
payload
PayloadData
get
fieldName
TokenStream
ts
WhitespaceTokenizer
reader
if
payload
block
if
numFieldInstancesToSkip
block
ts
PayloadFilter
ts
data
offset
length
block
numFieldInstancesToSkip
return
ts
PayloadData
byte
data
int
offset
int
length
int
numFieldInstancesToSkip
PayloadData
skip
int
data
byte
offset
int
length
int
numFieldInstancesToSkip
skip
data
data
offset
offset
length
length
Analyzer
PayloadFilter
byte
data
int
length
int
offset
PayloadFilter
in
TokenStream
data
byte
offset
int
length
int
in
data
data
length
length
offset
offset
next
Token
Token
nextToken
next
if
nextToken
offset
length
length
block
setPayload
Payload
data
offset
length
offset
length
return
nextToken
TokenFilter
testThreadSafety
int
numThreads
int
numDocs
ByteArrayPool
pool
ByteArrayPool
numThreads
Directory
dir
RAMDirectory
IndexWriter
writer
IndexWriter
dir
WhitespaceAnalyzer
String
field
Thread
ingesters
Thread
numThreads
for
forControl
int
i
i
numThreads
i
block
ingesters
i
Thread
run
try
for
forControl
int
j
j
numDocs
j
block
Document
d
Document
add
Field
field
PoolingPayloadTokenStream
pool
addDocument
d
catchClause
e
fail
toString
ingesters
i
start
for
forControl
int
i
i
numThreads
i
block
try
ingesters
i
join
catchClause
e
close
IndexReader
reader
open
dir
TermEnum
terms
terms
while
next
block
TermPositions
tp
termPositions
term
while
next
block
int
freq
freq
for
forControl
int
i
i
freq
i
block
nextPosition
String
s
String
getPayload
byte
assertEquals
s
term
text
close
close
close
assertEquals
size
numThreads
PoolingPayloadTokenStream
byte
payload
boolean
first
ByteArrayPool
pool
PoolingPayloadTokenStream
pool
ByteArrayPool
pool
pool
payload
get
generateRandomData
payload
first
next
Token
if
first
return
Token
t
Token
String
payload
setPayload
Payload
payload
return
t
close
release
payload
TokenStream
ByteArrayPool
List
pool
ByteArrayPool
capacity
int
size
int
pool
ArrayList
for
forControl
int
i
i
capacity
i
block
add
byte
size
get
byte
return
byte
remove
release
b
byte
add
b
size
int
return
size
TestCase
