MockRAMOutputStream
MockRAMDirectory
dir
boolean
first
byte
singleByte
byte
MockRAMOutputStream
dir
MockRAMDirectory
f
RAMFile
f
dir
dir
close
close
long
size
getRecomputedActualSizeInBytes
if
size
maxUsedSize
block
maxUsedSize
size
writeByte
b
byte
singleByte
b
writeBytes
singleByte
writeBytes
b
byte
offset
int
len
int
long
freeSpace
maxSize
sizeInBytes
long
realUsage
if
maxSize
freeSpace
len
block
realUsage
getRecomputedActualSizeInBytes
freeSpace
maxSize
realUsage
if
maxSize
freeSpace
len
block
if
freeSpace
freeSpace
len
block
realUsage
freeSpace
writeBytes
b
offset
int
freeSpace
if
realUsage
maxUsedSize
block
maxUsedSize
realUsage
throw
IOException
getRecomputedActualSizeInBytes
block
writeBytes
b
offset
len
if
first
block
first
maybeThrowIOException
RAMOutputStream
