TestStressIndexing
Analyzer
ANALYZER
SimpleAnalyzer
Random
RANDOM
Random
Searcher
SEARCHER
int
RUN_TIME_SEC
IndexerThread
IndexModifier
modifier
int
nextID
int
count
boolean
failed
IndexerThread
modifier
IndexModifier
modifier
modifier
run
long
stopTime
currentTimeMillis
RUN_TIME_SEC
try
while
block
if
currentTimeMillis
stopTime
block
break
for
forControl
int
j
j
j
block
Document
d
Document
int
n
nextInt
add
Field
toString
nextID
YES
UN_TOKENIZED
add
Field
intToEnglish
n
NO
TOKENIZED
addDocument
d
int
deleteID
nextID
for
forControl
int
j
j
j
block
deleteDocuments
Term
deleteID
deleteID
count
close
catchClause
e
println
toString
printStackTrace
failed
Thread
SearcherThread
Directory
directory
int
count
boolean
failed
SearcherThread
directory
Directory
directory
directory
run
long
stopTime
currentTimeMillis
RUN_TIME_SEC
try
while
block
for
forControl
int
i
i
i
block
close
IndexSearcher
directory
count
if
currentTimeMillis
stopTime
block
break
catchClause
e
println
toString
printStackTrace
failed
Thread
runStressTest
directory
Directory
IndexModifier
modifier
IndexModifier
directory
ANALYZER
IndexerThread
indexerThread
IndexerThread
modifier
start
SearcherThread
searcherThread1
SearcherThread
directory
start
SearcherThread
searcherThread2
SearcherThread
directory
start
join
join
join
assertTrue
failed
assertTrue
failed
assertTrue
failed
testStressIndexAndSearching
Directory
directory
MockRAMDirectory
runStressTest
directory
close
String
tempDir
getProperty
File
dirPath
File
tempDir
directory
getDirectory
dirPath
runStressTest
directory
close
rmDir
dirPath
rmDir
dir
File
File
files
listFiles
for
forControl
int
i
i
length
i
block
files
i
delete
delete
TestCase
