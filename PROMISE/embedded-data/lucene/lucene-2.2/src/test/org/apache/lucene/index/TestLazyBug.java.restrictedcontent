TestLazyBug
int
BASE_SEED
int
NUM_DOCS
int
NUM_FIELDS
String
data
String
Set
dataset
HashSet
asList
data
String
MAGIC_FIELD
NUM_FIELDS
FieldSelector
SELECTOR
FieldSelector
accept
FieldSelectorResult
f
String
if
equals
MAGIC_FIELD
block
return
LOAD
return
LAZY_LOAD
makeIndex
Directory
Directory
dir
RAMDirectory
try
Random
r
Random
BASE_SEED
Analyzer
analyzer
SimpleAnalyzer
IndexWriter
writer
IndexWriter
dir
analyzer
setUseCompoundFile
for
forControl
int
d
d
NUM_DOCS
d
block
Document
doc
Document
for
forControl
int
f
f
NUM_FIELDS
f
block
add
Field
f
data
f
length
data
nextInt
length
YES
TOKENIZED
addDocument
doc
close
catchClause
e
throw
RuntimeException
e
return
dir
doTest
docs
int
Directory
dir
makeIndex
IndexReader
reader
open
dir
for
forControl
int
i
i
length
i
block
Document
d
document
docs
i
SELECTOR
String
trash
get
MAGIC_FIELD
List
fields
getFields
for
forControl
Iterator
fi
iterator
hasNext
block
Fieldable
f
try
f
Fieldable
next
String
fname
name
String
fval
stringValue
assertNotNull
docs
i
fname
fval
String
vals
split
if
contains
vals
contains
vals
block
fail
fname
fval
catchClause
e
throw
Exception
docs
i
name
e
close
testLazyWorks
doTest
int
testLazyAlsoWorks
doTest
int
testLazyBroken
doTest
int
TestCase
