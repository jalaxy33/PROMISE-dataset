TestRAMDirectory
File
indexDir
int
docsToAdd
setUp
String
tempDir
getProperty
if
tempDir
throw
IOException
indexDir
File
tempDir
IndexWriter
writer
IndexWriter
indexDir
WhitespaceAnalyzer
Document
doc
for
forControl
int
i
i
docsToAdd
i
block
doc
Document
add
Field
intToEnglish
trim
i
YES
UN_TOKENIZED
addDocument
doc
assertEquals
docsToAdd
docCount
close
testRAMDirectory
Directory
dir
getDirectory
indexDir
MockRAMDirectory
ramDir
MockRAMDirectory
dir
close
assertEquals
sizeInBytes
getRecomputedSizeInBytes
IndexReader
reader
open
ramDir
assertEquals
docsToAdd
numDocs
IndexSearcher
searcher
IndexSearcher
reader
for
forControl
int
i
i
docsToAdd
i
block
Document
doc
doc
i
assertTrue
getField
close
close
testRAMDirectoryFile
MockRAMDirectory
ramDir
MockRAMDirectory
indexDir
assertEquals
sizeInBytes
getRecomputedSizeInBytes
IndexReader
reader
open
ramDir
assertEquals
docsToAdd
numDocs
IndexSearcher
searcher
IndexSearcher
reader
for
forControl
int
i
i
docsToAdd
i
block
Document
doc
doc
i
assertTrue
getField
close
close
testRAMDirectoryString
MockRAMDirectory
ramDir
MockRAMDirectory
getCanonicalPath
assertEquals
sizeInBytes
getRecomputedSizeInBytes
IndexReader
reader
open
ramDir
assertEquals
docsToAdd
numDocs
IndexSearcher
searcher
IndexSearcher
reader
for
forControl
int
i
i
docsToAdd
i
block
Document
doc
doc
i
assertTrue
getField
close
close
int
numThreads
int
docsPerThread
testRAMDirectorySize
MockRAMDirectory
ramDir
MockRAMDirectory
getCanonicalPath
IndexWriter
writer
IndexWriter
ramDir
WhitespaceAnalyzer
optimize
assertEquals
sizeInBytes
getRecomputedSizeInBytes
Thread
threads
Thread
numThreads
for
forControl
int
i
i
numThreads
i
block
int
num
i
threads
i
Thread
run
for
forControl
int
j
j
docsPerThread
j
block
Document
doc
Document
add
Field
intToEnglish
trim
num
docsPerThread
j
YES
UN_TOKENIZED
try
addDocument
doc
catchClause
e
throw
RuntimeException
e
synchronized
ramDir
assertEquals
sizeInBytes
getRecomputedSizeInBytes
for
forControl
int
i
i
numThreads
i
threads
i
start
for
forControl
int
i
i
numThreads
i
threads
i
join
optimize
assertEquals
sizeInBytes
getRecomputedSizeInBytes
close
testSerializable
Directory
dir
RAMDirectory
ByteArrayOutputStream
bos
ByteArrayOutputStream
assertEquals
size
ObjectOutput
out
ObjectOutputStream
bos
int
headerSize
size
writeObject
dir
close
assertTrue
headerSize
size
tearDown
if
indexDir
exists
block
rmDir
indexDir
rmDir
dir
File
File
files
listFiles
for
forControl
int
i
i
length
i
block
files
i
delete
delete
TestCase
