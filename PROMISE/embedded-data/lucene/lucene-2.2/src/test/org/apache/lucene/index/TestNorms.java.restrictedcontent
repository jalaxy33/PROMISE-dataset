TestNorms
SimilarityOne
lengthNorm
float
fieldName
String
numTerms
int
return
DefaultSimilarity
int
NUM_FIELDS
Similarity
similarityOne
Analyzer
anlzr
int
numDocNorms
ArrayList
norms
ArrayList
modifiedNorms
float
lastNorm
float
normDelta
float
TestNorms
s
String
s
setUp
similarityOne
SimilarityOne
anlzr
StandardAnalyzer
tearDown
testNorms
String
tempDir
getProperty
if
tempDir
block
throw
IOException
File
indexDir1
File
tempDir
Directory
dir1
getDirectory
indexDir1
norms
ArrayList
modifiedNorms
ArrayList
createIndex
dir1
doTestNorms
dir1
ArrayList
norms1
norms
ArrayList
modifiedNorms1
modifiedNorms
int
numDocNorms1
numDocNorms
norms
ArrayList
modifiedNorms
ArrayList
numDocNorms
File
indexDir2
File
tempDir
Directory
dir2
getDirectory
indexDir2
createIndex
dir2
doTestNorms
dir2
File
indexDir3
File
tempDir
Directory
dir3
getDirectory
indexDir3
createIndex
dir3
IndexWriter
iw
IndexWriter
dir3
anlzr
setMaxBufferedDocs
setMergeFactor
addIndexes
Directory
dir1
dir2
close
addAll
norms
norms
norms1
addAll
modifiedNorms
modifiedNorms
modifiedNorms1
numDocNorms
numDocNorms1
verifyIndex
dir3
doTestNorms
dir3
iw
IndexWriter
dir3
anlzr
setMaxBufferedDocs
setMergeFactor
optimize
close
verifyIndex
dir3
close
close
close
doTestNorms
dir
Directory
for
forControl
int
i
i
i
block
addDocs
dir
verifyIndex
dir
modifyNormsForF1
dir
verifyIndex
dir
addDocs
dir
verifyIndex
dir
modifyNormsForF1
dir
verifyIndex
dir
createIndex
dir
Directory
IndexWriter
iw
IndexWriter
dir
anlzr
setMaxBufferedDocs
setMergeFactor
setSimilarity
similarityOne
setUseCompoundFile
close
modifyNormsForF1
dir
Directory
IndexReader
ir
open
dir
int
n
maxDoc
for
forControl
int
i
i
n
i
block
int
k
i
size
float
origNorm
Float
get
i
float
newNorm
Float
get
k
set
i
Float
newNorm
set
k
Float
origNorm
setNorm
i
newNorm
setNorm
k
origNorm
close
verifyIndex
dir
Directory
IndexReader
ir
open
dir
for
forControl
int
i
i
NUM_FIELDS
i
block
String
field
i
byte
b
norms
field
assertEquals
numDocNorms
length
ArrayList
storedNorms
i
modifiedNorms
norms
for
forControl
int
j
j
length
j
block
float
norm
decodeNorm
b
j
float
norm1
Float
get
j
assertEquals
field
j
norm
norm
norm1
addDocs
dir
Directory
ndocs
int
compound
boolean
IndexWriter
iw
IndexWriter
dir
anlzr
setMaxBufferedDocs
setMergeFactor
setSimilarity
similarityOne
setUseCompoundFile
compound
for
forControl
int
i
i
ndocs
i
block
addDocument
newDoc
close
newDoc
Document
Document
d
Document
float
boost
nextNorm
for
forControl
int
i
i
i
block
Field
f
Field
i
i
NO
UN_TOKENIZED
setBoost
boost
add
f
return
d
nextNorm
float
float
norm
lastNorm
normDelta
do
block
float
norm1
decodeNorm
encodeNorm
norm
if
norm1
lastNorm
block
norm
norm1
break
norm
normDelta
add
numDocNorms
Float
norm
add
numDocNorms
Float
norm
numDocNorms
lastNorm
norm
norm
return
norm
TestCase
