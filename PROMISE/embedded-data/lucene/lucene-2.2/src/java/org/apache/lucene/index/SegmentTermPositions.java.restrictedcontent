SegmentTermPositions
IndexInput
proxStream
int
proxCount
int
position
int
payloadLength
boolean
needToLoadPayload
long
lazySkipPointer
int
lazySkipProxCount
SegmentTermPositions
p
SegmentReader
p
proxStream
seek
ti
TermInfo
term
Term
seek
ti
term
if
ti
lazySkipPointer
proxPointer
lazySkipProxCount
proxCount
payloadLength
needToLoadPayload
close
close
if
proxStream
close
nextPosition
int
lazySkip
proxCount
return
position
readDeltaPosition
readDeltaPosition
int
int
delta
readVInt
if
currentFieldStoresPayloads
block
if
delta
block
payloadLength
readVInt
delta
needToLoadPayload
block
payloadLength
needToLoadPayload
return
delta
skippingDoc
lazySkipProxCount
freq
next
boolean
lazySkipProxCount
proxCount
if
next
block
proxCount
freq
position
return
return
read
int
docs
int
freqs
int
throw
UnsupportedOperationException
skipProx
proxPointer
long
payloadLength
int
lazySkipPointer
proxPointer
lazySkipProxCount
proxCount
payloadLength
payloadLength
needToLoadPayload
skipPositions
n
int
for
forControl
int
f
n
f
f
block
readDeltaPosition
skipPayload
skipPayload
if
needToLoadPayload
payloadLength
block
seek
getFilePointer
payloadLength
needToLoadPayload
lazySkip
if
proxStream
block
proxStream
IndexInput
clone
skipPayload
if
lazySkipPointer
block
seek
lazySkipPointer
lazySkipPointer
if
lazySkipProxCount
block
skipPositions
lazySkipProxCount
lazySkipProxCount
getPayloadLength
int
return
payloadLength
getPayload
byte
data
byte
offset
int
if
needToLoadPayload
block
throw
IOException
byte
retArray
int
retOffset
if
data
length
offset
payloadLength
block
retArray
byte
payloadLength
retOffset
block
retArray
data
retOffset
offset
readBytes
retArray
retOffset
payloadLength
needToLoadPayload
return
retArray
isPayloadAvailable
boolean
return
needToLoadPayload
payloadLength
SegmentTermDocs
TermPositions
