BooleanScorer
SubScorer
scorers
BucketTable
bucketTable
BucketTable
int
maxCoord
float
coordFactors
int
requiredMask
int
prohibitedMask
int
nextMask
int
minNrShouldMatch
BooleanScorer
similarity
Similarity
similarity
BooleanScorer
similarity
Similarity
minNrShouldMatch
int
similarity
minNrShouldMatch
minNrShouldMatch
SubScorer
Scorer
scorer
boolean
done
boolean
required
boolean
prohibited
HitCollector
collector
SubScorer
next
SubScorer
scorer
Scorer
required
boolean
prohibited
boolean
collector
HitCollector
next
SubScorer
scorer
scorer
done
next
required
required
prohibited
prohibited
collector
collector
next
next
add
scorer
Scorer
required
boolean
prohibited
boolean
int
mask
if
required
prohibited
block
if
nextMask
throw
IndexOutOfBoundsException
mask
nextMask
nextMask
nextMask
mask
if
prohibited
maxCoord
if
prohibited
prohibitedMask
mask
if
required
requiredMask
mask
scorers
SubScorer
scorer
required
prohibited
newCollector
mask
scorers
computeCoordFactors
coordFactors
float
maxCoord
for
forControl
int
i
i
maxCoord
i
coordFactors
i
getSimilarity
coord
i
maxCoord
int
end
Bucket
current
score
hc
HitCollector
next
score
hc
MAX_VALUE
score
boolean
hc
HitCollector
max
int
if
coordFactors
computeCoordFactors
boolean
more
Bucket
tmp
do
current
more
block
first
while
current
block
if
bits
prohibitedMask
bits
requiredMask
requiredMask
block
if
doc
max
block
tmp
current
current
next
next
first
first
tmp
continue
if
coord
minNrShouldMatch
block
collect
doc
score
coordFactors
coord
current
next
if
first
block
current
first
first
next
return
more
end
SIZE
for
forControl
SubScorer
sub
scorers
sub
sub
next
block
if
done
block
done
score
collector
end
if
done
more
current
first
return
doc
int
return
doc
next
boolean
boolean
more
do
first
more
block
while
first
block
current
first
first
next
if
bits
prohibitedMask
bits
requiredMask
requiredMask
coord
minNrShouldMatch
block
return
more
end
SIZE
for
forControl
SubScorer
sub
scorers
sub
sub
next
block
Scorer
scorer
scorer
while
done
doc
end
block
collect
doc
score
done
next
if
done
block
more
return
score
float
if
coordFactors
computeCoordFactors
return
score
coordFactors
coord
Bucket
int
doc
float
score
int
bits
int
coord
Bucket
next
BucketTable
int
SIZE
int
MASK
SIZE
Bucket
buckets
Bucket
SIZE
Bucket
first
BucketTable
size
int
return
SIZE
newCollector
HitCollector
mask
int
return
Collector
mask
Collector
BucketTable
bucketTable
int
mask
Collector
mask
int
bucketTable
BucketTable
mask
mask
bucketTable
bucketTable
collect
doc
int
score
float
BucketTable
table
bucketTable
int
i
doc
MASK
Bucket
bucket
buckets
i
if
bucket
buckets
i
bucket
Bucket
if
doc
doc
block
doc
doc
score
score
bits
mask
coord
next
first
first
bucket
block
score
score
bits
mask
coord
HitCollector
skipTo
boolean
target
int
throw
UnsupportedOperationException
explain
Explanation
doc
int
throw
UnsupportedOperationException
toString
String
StringBuffer
buffer
StringBuffer
append
for
forControl
SubScorer
sub
scorers
sub
sub
next
block
append
toString
append
append
return
toString
Scorer
