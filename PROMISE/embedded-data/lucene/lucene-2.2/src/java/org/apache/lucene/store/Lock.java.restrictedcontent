Lock
long
LOCK_POLL_INTERVAL
obtain
boolean
Throwable
failureReason
obtain
boolean
lockWaitTimeout
long
failureReason
boolean
locked
obtain
int
maxSleepCount
int
lockWaitTimeout
LOCK_POLL_INTERVAL
int
sleepCount
while
locked
block
if
sleepCount
maxSleepCount
block
String
reason
toString
if
failureReason
block
reason
failureReason
LockObtainFailedException
e
LockObtainFailedException
reason
if
failureReason
block
initCause
failureReason
throw
e
try
sleep
LOCK_POLL_INTERVAL
catchClause
e
throw
IOException
toString
locked
obtain
return
locked
release
isLocked
boolean
With
Lock
lock
long
lockWaitTimeout
With
lock
Lock
lockWaitTimeout
long
lock
lock
lockWaitTimeout
lockWaitTimeout
doBody
Object
run
Object
boolean
locked
try
locked
obtain
lockWaitTimeout
return
doBody
if
locked
release
