CachedFilterBuilder
QueryBuilderFactory
queryFactory
FilterBuilderFactory
filterFactory
LRUCache
filterCache
int
cacheSize
CachedFilterBuilder
queryFactory
QueryBuilderFactory
filterFactory
FilterBuilderFactory
cacheSize
int
queryFactory
queryFactory
filterFactory
filterFactory
cacheSize
cacheSize
getFilter
Filter
e
Element
Element
childElement
getFirstChildOrFail
e
if
filterCache
block
filterCache
LRUCache
cacheSize
QueryBuilder
qb
getQueryBuilder
getNodeName
Object
cacheKey
Query
q
Filter
f
if
qb
block
q
getQuery
childElement
cacheKey
q
block
f
getFilter
childElement
cacheKey
f
Filter
cachedFilter
synchronized
filterCache
cachedFilter
Filter
get
cacheKey
if
cachedFilter
block
return
cachedFilter
if
qb
block
cachedFilter
QueryFilter
q
block
cachedFilter
CachingWrapperFilter
f
synchronized
filterCache
put
cacheKey
cachedFilter
return
cachedFilter
LRUCache
LRUCache
maxsize
int
maxsize
maxsize
maxsize
int
maxsize
removeEldestEntry
boolean
eldest
Entry
return
size
maxsize
java
util
LinkedHashMap
FilterBuilder
