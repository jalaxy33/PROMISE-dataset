GDataIndexer
Log
LOG
getLog
GDataIndexer
IndexWriter
writer
IndexSearcher
searcher
AtomicInteger
committed
AtomicInteger
AtomicInteger
optimized
AtomicInteger
AtomicBoolean
isDestroyed
AtomicBoolean
AtomicInteger
docsAdded
AtomicInteger
AtomicInteger
docsUpdated
AtomicInteger
AtomicInteger
docsDeleted
AtomicInteger
Directory
dir
List
IndexEventListener
listeners
ArrayList
IndexEventListener
BlockingQueue
Future
IndexDocument
futurQueue
LinkedBlockingQueue
Future
IndexDocument
IndexSchema
serviceConfiguration
ExecutorService
indexTaskExecutor
IndexTask
indexTask
Integer
ZERO
Integer
Integer
ONE
Integer
Map
IndexDocument
Integer
action
GDataIndexer
schema
IndexSchema
dir
Directory
create
boolean
if
schema
throw
IllegalArgumentException
if
dir
throw
IllegalArgumentException
serviceConfiguration
schema
dir
dir
openWriter
create
indexTaskExecutor
newSingleThreadExecutor
action
HashMap
IndexDocument
Integer
setIndexTask
task
IndexTask
if
task
indexTask
indexTask
task
init
if
indexTask
indexTask
IndexTask
futurQueue
indexTaskExecutor
execute
indexTask
addIndexableDocumentTask
task
Future
IndexDocument
if
isDestroyed
get
throw
IllegalStateException
futurQueue
put
task
addDocument
indexable
IndexDocument
if
isInsert
throw
GdataIndexerException
setAction
indexable
doWrite
indexable
docsAdded
incrementAndGet
setAction
doc
IndexDocument
Integer
docCountToKeep
action
get
doc
if
isDelete
docCountToKeep
docCountToKeep
block
action
put
doc
ONE
if
isDelete
docCountToKeep
docCountToKeep
block
action
put
doc
ZERO
updateDocument
indexable
IndexDocument
if
isUpdate
throw
GdataIndexerException
setAction
indexable
doWrite
indexable
docsUpdated
incrementAndGet
deleteDocument
indexable
IndexDocument
if
isDelete
throw
GdataIndexerException
setAction
indexable
docsDeleted
incrementAndGet
commit
optimize
boolean
if
isInfoEnabled
info
optimize
int
changes
docsAdded
intValue
docsDeleted
intValue
docsUpdated
intValue
if
changes
return
committed
incrementAndGet
if
optimize
optimized
incrementAndGet
doDeltete
if
optimize
block
closeSearcher
openWriter
writer
optimize
closeSearcher
closeWriter
docsAdded
set
docsDeleted
set
docsUpdated
set
notifyCommitListeners
serviceConfiguration
getName
registerIndexEventListener
listener
IndexEventListener
if
listener
listeners
contains
listener
return
listeners
add
listener
removeIndexEventListener
listener
IndexEventListener
if
listener
listeners
contains
listener
return
listeners
remove
listener
notifyCommitListeners
serviceId
String
if
isInfoEnabled
info
serviceId
listeners
size
for
IndexEventListener
listener
listeners
block
commitCallBack
serviceId
closeWriter
try
if
writer
writer
close
writer
closeSearcher
try
if
searcher
searcher
close
searcher
openSearcher
if
searcher
searcher
IndexSearcher
dir
openWriter
openWriter
openWriter
create
boolean
if
writer
writer
GDataIndexWriter
dir
create
serviceConfiguration
doWrite
document
IndexDocument
closeSearcher
openWriter
writer
addDocument
getWriteable
int
documentNumber
doDeltete
if
action
size
return
if
isInfoEnabled
info
action
size
closeWriter
openSearcher
IndexReader
reader
searcher
getIndexReader
TermDocs
termDocs
termDocs
for
Map
Entry
IndexDocument
Integer
entry
action
entrySet
block
IndexDocument
indexDocument
getKey
Integer
docToKeep
getValue
if
documentNumber
docToKeep
documentNumber
length
documentNumber
int
docToKeep
for
forControl
int
i
i
documentNumber
length
i
block
documentNumber
i
seek
getDeletealbe
int
pos
while
next
block
if
docToKeep
block
deleteDocument
doc
continue
int
prev
documentNumber
pos
documentNumber
pos
doc
if
prev
block
deleteDocument
prev
if
pos
docToKeep
pos
action
clear
closeSearcher
destroy
isDestroyed
set
if
indexTask
isStopped
indexTask
stop
futurQueue
add
FinishingFuture
indexTaskExecutor
shutdown
closeWriter
closeSearcher
if
isInfoEnabled
info
serviceConfiguration
getName
createGdataIndexer
GDataIndexer
config
IndexSchema
dir
Directory
create
boolean
GDataIndexer
retVal
GDataIndexer
config
dir
create
setIndexTask
IndexTask
retVal
futurQueue
init
return
retVal
createTimedGdataIndexer
GDataIndexer
config
IndexSchema
dir
Directory
create
boolean
commitTimeout
long
GDataIndexer
retVal
GDataIndexer
config
dir
create
setIndexTask
TimedIndexTask
retVal
futurQueue
commitTimeout
init
return
retVal
FinishingFuture
cancel
boolean
arg0
boolean
return
isCancelled
boolean
return
isDone
boolean
return
get
IndexDocument
return
get
IndexDocument
arg0
long
arg1
TimeUnit
return
Future
IndexDocument
