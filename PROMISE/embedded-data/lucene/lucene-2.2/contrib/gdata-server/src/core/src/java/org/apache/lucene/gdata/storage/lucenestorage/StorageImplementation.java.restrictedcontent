StorageImplementation
StorageCoreController
controller
Log
LOG
getLog
StorageImplementation
StorageImplementation
controller
StorageCoreController
getRegistry
lookup
StorageController
STORAGECONTROLLER
if
controller
throw
StorageException
storeEntry
BaseEntry
entry
ServerBaseEntry
if
entry
throw
StorageException
if
getFeedId
throw
StorageException
if
getVersion
throw
StorageException
if
getServiceConfig
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
String
id
controller
releaseId
setId
getFeedId
id
if
isInfoEnabled
info
id
getFeedId
try
StorageEntryWrapper
wrapper
StorageEntryWrapper
entry
INSERT
insertEntry
wrapper
catchClause
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
return
getEntry
deleteEntry
entry
ServerBaseEntry
if
entry
throw
StorageException
if
getId
throw
StorageException
if
getFeedId
throw
StorageException
if
isInfoEnabled
info
getId
getFeedId
StorageModifier
modifier
controller
getStorageModifier
ReferenceCounter
StorageQuery
query
controller
getStorageQuery
String
key
getId
setLock
key
try
if
get
isEntryStored
getId
getFeedId
block
if
get
checkEntryVersion
getId
getFeedId
getVersion
block
deleteEntry
StorageEntryWrapper
entry
DELETE
throw
ModificationConflictException
getId
getFeedId
getVersion
throw
ResourceNotFoundException
getId
catchClause
e
throw
StorageException
if
query
decrementRef
releaseLock
key
updateEntry
BaseEntry
entry
ServerBaseEntry
if
entry
throw
StorageException
if
getId
throw
StorageException
if
getServiceConfig
throw
StorageException
if
getFeedId
throw
StorageException
if
isInfoEnabled
info
getId
getFeedId
StorageModifier
modifier
controller
getStorageModifier
ReferenceCounter
StorageQuery
query
controller
getStorageQuery
String
key
getId
setLock
key
try
if
get
isEntryStored
getId
getFeedId
block
if
get
checkEntryVersion
getId
getFeedId
getVersion
block
setVersion
getVersion
StorageEntryWrapper
wrapper
StorageEntryWrapper
entry
UPDATE
updateEntry
wrapper
throw
ModificationConflictException
getId
getFeedId
getVersion
throw
ResourceNotFoundException
getId
catchClause
e
error
getFeedId
getId
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
releaseLock
key
return
getEntry
setLock
key
String
if
controller
getLock
setLock
key
throw
ModificationConflictException
key
releaseLock
key
String
if
controller
getLock
releaseLock
key
throw
StorageException
key
getFeed
BaseFeed
feed
ServerBaseFeed
if
feed
throw
StorageException
if
isInfoEnabled
info
getId
getStartIndex
getItemsPerPage
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
BaseFeed
retVal
get
getLatestFeedQuery
getId
getItemsPerPage
getStartIndex
getServiceConfig
return
retVal
catchClause
e
error
getId
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
getEntry
BaseEntry
entry
ServerBaseEntry
if
entry
throw
StorageException
if
isInfoEnabled
info
getId
getFeedId
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
BaseEntry
retVal
get
singleEntryQuery
getId
getFeedId
getServiceConfig
if
retVal
throw
ResourceNotFoundException
getId
return
retVal
catchClause
e
error
getFeedId
getId
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
close
storeAccount
Account
GDataAccount
if
Account
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
getUser
getName
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
StorageAccountWrapper
wrapper
StorageAccountWrapper
Account
createAccount
wrapper
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
updateAccount
Account
GDataAccount
if
Account
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
getUser
getName
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
StorageAccountWrapper
wrapper
StorageAccountWrapper
Account
updateAccount
wrapper
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
deleteAccount
Accountname
String
if
Accountname
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
getUser
Accountname
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
deleteAccount
Accountname
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
storeFeed
feed
ServerBaseFeed
accountName
String
if
feed
throw
StorageException
if
accountName
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
isFeedStored
getId
throw
StorageException
getId
StorageModifier
modifier
controller
getStorageModifier
StorageFeedWrapper
wrapper
StorageFeedWrapper
feed
accountName
createFeed
wrapper
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
deleteFeed
feedId
String
if
feedId
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
isFeedStored
feedId
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
deleteFeed
feedId
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
updateFeed
feed
ServerBaseFeed
accountName
String
if
feed
throw
StorageException
if
accountName
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
if
get
isFeedStored
getId
throw
StorageException
StorageModifier
modifier
controller
getStorageModifier
StorageFeedWrapper
wrapper
StorageFeedWrapper
feed
accountName
updateFeed
wrapper
catchClause
e
error
getMessage
e
StorageException
ex
StorageException
getMessage
e
setStackTrace
getStackTrace
throw
ex
if
query
decrementRef
getServiceForFeed
String
feedId
String
if
feedId
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
String
type
get
getService
feedId
if
type
throw
StorageException
feedId
return
type
catchClause
e
throw
StorageException
e
if
query
decrementRef
getAccount
GDataAccount
accountName
String
if
accountName
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
return
get
getUser
accountName
catchClause
e
throw
StorageException
e
if
query
decrementRef
getAccountNameForFeedId
String
feedId
String
if
feedId
throw
StorageException
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
String
accountName
get
getAccountNameForFeedId
feedId
if
accountName
throw
StorageException
feedId
return
accountName
catchClause
e
throw
StorageException
getMessage
e
if
query
decrementRef
getEntryLastModified
Long
entryId
String
feedId
String
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
return
Long
get
getEntryLastModified
entryId
feedId
catchClause
e
throw
StorageException
getMessage
e
if
query
decrementRef
getFeedLastModified
Long
feedId
String
ReferenceCounter
StorageQuery
query
try
query
controller
getStorageQuery
return
Long
get
getFeedLastModified
feedId
catchClause
e
throw
StorageException
getMessage
e
if
query
decrementRef
Storage
