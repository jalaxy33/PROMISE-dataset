IndexTask
Log
INNERLOG
getLog
IndexTask
AtomicBoolean
stopped
AtomicBoolean
GDataIndexer
indexer
AtomicBoolean
commit
AtomicBoolean
AtomicBoolean
optimize
AtomicBoolean
BlockingQueue
Future
IndexDocument
taskQueue
IndexTask
indexer
GDataIndexer
taskQueue
BlockingQueue
Future
IndexDocument
indexer
indexer
taskQueue
taskQueue
run
while
stopped
get
taskQueue
size
block
try
Future
IndexDocument
future
getTask
if
future
block
IndexDocument
document
get
setOptimize
document
processDocument
document
if
document
commitAfter
indexer
commit
document
optimize
getAndSet
if
commit
getAndSet
indexer
commit
optimize
getAndSet
catchClause
e
warn
e
catchClause
e
error
e
catchClause
e
error
e
catchClause
e
error
e
catchClause
e
error
getMessage
e
try
indexer
commit
optimize
getAndSet
catchClause
e
warn
getMessage
e
stop
setOptimize
document
IndexDocument
if
document
return
optimize
set
optimizeAfter
getTask
Future
IndexDocument
return
taskQueue
take
processDocument
document
IndexDocument
if
document
block
warn
return
if
isDelete
block
indexer
deleteDocument
document
return
if
isInsert
block
indexer
addDocument
document
return
if
isUpdate
block
indexer
updateDocument
document
return
warn
document
isStopped
boolean
return
stopped
get
stop
stopped
set
Runnable
