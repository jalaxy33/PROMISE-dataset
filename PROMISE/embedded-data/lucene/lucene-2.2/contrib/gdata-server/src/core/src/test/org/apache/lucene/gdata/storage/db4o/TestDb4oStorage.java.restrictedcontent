TestDb4oStorage
String
FEEDID
String
ACCOUNTNAME
String
SERVICENAME
DB4oController
controller
boolean
fail
setUp
controller
DB4oController
controller
setContainerPoolSize
controller
setFilePath
controller
setRunAsServer
controller
setPassword
controller
setUser
controller
setUseWeakReferences
controller
setPort
controller
initialize
controller
visiteInitialize
clearDB
tearDown
clearDB
fail
controller
getStorage
close
controller
visiteDestroy
controller
destroy
File
dbFile
File
assertTrue
delete
clearDB
ObjectContainer
container
controller
releaseContainer
ObjectSet
set
get
Object
for
Object
object
set
block
delete
object
ext
purge
close
getContainer
ObjectContainer
return
controller
releaseContainer
testStoreEntry
Storage
storage
controller
getStorage
try
ServerBaseEntry
e
createServerBaseEntry
storeEntry
e
fail
catchClause
e
try
storeEntry
fail
catchClause
e
ServerBaseEntry
exEntry
ServerBaseEntry
setFeedId
try
storeEntry
exEntry
fail
catchClause
e
setId
setFeedId
try
storeEntry
exEntry
fail
catchClause
e
storeServerBaseFeed
ServerBaseEntry
e
createServerBaseEntry
storeEntry
e
ServerBaseEntry
e1
createServerBaseEntry
storeEntry
e1
storage
controller
getStorage
Query
query
getContainer
query
constrain
BaseEntry
descend
constrain
getId
ObjectSet
resultSet
execute
assertEquals
size
BaseEntry
storedEntry
BaseEntry
next
assertEquals
getVersionId
ServerBaseFeed
bFeed
ServerBaseFeed
setItemsPerPage
setId
FEEDID
setStartIndex
setServiceType
SERVICENAME
BaseFeed
BaseFeed
BaseEntry
feed
getFeed
bFeed
assertEquals
getEntries
size
assertEquals
getId
getEntries
get
getId
assertEquals
getId
getEntries
get
getId
assertEquals
getUpdated
getEntries
get
getUpdated
testDeleteEntry
ObjectContainer
container
getContainer
storeServerBaseFeed
Storage
storage
controller
getStorage
try
deleteEntry
fail
catchClause
e
ServerBaseEntry
exEntry
ServerBaseEntry
setFeedId
try
deleteEntry
exEntry
fail
catchClause
e
setId
setFeedId
try
storeEntry
exEntry
fail
catchClause
e
ServerBaseEntry
e
createServerBaseEntry
storeEntry
e
ServerBaseEntry
e1
createServerBaseEntry
storeEntry
e1
deleteEntry
e
close
container
getContainer
Query
query
query
constrain
BaseEntry
descend
constrain
getId
ObjectSet
resultSet
execute
assertEquals
size
ServerBaseEntry
eVersion
createServerBaseEntry
storeEntry
eVersion
setVersion
try
deleteEntry
eVersion
fail
catchClause
ex
try
deleteEntry
fail
catchClause
ex
storage
controller
getStorage
deleteEntry
e1
close
container
getContainer
query
query
constrain
BaseEntry
descend
constrain
getId
resultSet
execute
assertEquals
size
Object
monitor
Object
AtomicBoolean
reached
AtomicBoolean
MultiThreadEntryStub
concuEntry
MultiThreadEntryStub
setId
currentTimeMillis
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
setUpdated
now
setFeedId
FEEDID
storage
controller
getStorage
storeEntry
concuEntry
close
acceptGetVersionVisitor
getMonitorVisitor
monitor
reached
Thread
t1
getDelThread
controller
concuEntry
Thread
t2
getDelThread
controller
concuEntry
start
while
block
synchronized
monitor
if
get
break
wait
start
join
while
block
synchronized
monitor
if
get
break
notifyAll
join
if
fail
fail
close
getMonitorVisitor
Visitor
monitor
Object
reached
AtomicBoolean
return
Visitor
execute
o
Object
synchronized
monitor
try
set
wait
set
catchClause
e
getDelThread
Thread
c
StorageController
e
ServerBaseEntry
conflictExpected
boolean
Thread
t1
Thread
Runner
c
e
conflictExpected
DELETE
setPriority
MAX_PRIORITY
return
t1
getUpdThread
Thread
c
StorageController
e
ServerBaseEntry
conflictExpected
boolean
Thread
t1
Thread
Runner
c
e
conflictExpected
UPDATE
setPriority
MAX_PRIORITY
return
t1
testUpdateEntry
storeServerBaseFeed
Storage
storage
controller
getStorage
ServerBaseEntry
exEntry
ServerBaseEntry
try
updateEntry
fail
catchClause
e
try
updateEntry
exEntry
fail
catchClause
e
setId
try
updateEntry
exEntry
fail
catchClause
e
ServerBaseEntry
e
createServerBaseEntry
ServerBaseEntry
e1
createServerBaseEntry
try
updateEntry
e
fail
catchClause
ex
printStackTrace
storeEntry
e
storage
controller
getStorage
storeEntry
e1
ServerBaseEntry
e2
createServerBaseEntry
setId
getId
setTitle
PlainTextConstruct
setUpdated
now
updateEntry
e2
ObjectContainer
container
getContainer
Query
query
query
constrain
BaseEntry
descend
constrain
getId
ObjectSet
resultSet
execute
assertEquals
size
BaseEntry
result
BaseEntry
next
assertEquals
getTitle
getPlainText
assertEquals
getVersionId
ServerBaseFeed
bFeed
ServerBaseFeed
setItemsPerPage
setId
FEEDID
setStartIndex
setServiceType
SERVICENAME
storage
controller
getStorage
BaseFeed
BaseFeed
BaseEntry
feed
getFeed
bFeed
assertEquals
getEntries
size
assertEquals
getId
getEntries
get
getId
assertEquals
getUpdated
getEntries
get
getUpdated
storage
controller
getStorage
storeEntry
e
setVersion
try
updateEntry
e2
fail
catchClause
ex
Object
monitor
Object
AtomicBoolean
reached
AtomicBoolean
MultiThreadEntryStub
concuEntry
MultiThreadEntryStub
setId
currentTimeMillis
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
setUpdated
now
setFeedId
FEEDID
storage
controller
getStorage
storeEntry
concuEntry
close
acceptGetEntryVisitor
getMonitorVisitor
monitor
reached
Thread
t1
getUpdThread
controller
concuEntry
Thread
t2
getUpdThread
controller
concuEntry
start
while
block
synchronized
monitor
if
get
break
wait
start
join
while
block
synchronized
monitor
if
get
break
notifyAll
join
if
fail
fail
close
testGetFeed
storeServerBaseFeed
Storage
storage
controller
getStorage
ServerBaseFeed
feed
ServerBaseFeed
setItemsPerPage
setStartIndex
setServiceType
SERVICENAME
try
getFeed
feed
fail
catchClause
e
setId
FEEDID
BaseFeed
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
List
String
idlist
ArrayList
String
ServerBaseEntry
e1
for
forControl
int
i
i
i
block
e1
createServerBaseEntry
storeEntry
e1
add
getId
String
firstId
getId
storage
controller
getStorage
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
for
forControl
int
i
i
i
block
assertEquals
get
i
BaseEntry
getEntries
get
i
storage
controller
getStorage
setItemsPerPage
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
for
forControl
int
i
i
i
block
assertEquals
get
i
BaseEntry
getEntries
get
i
storage
controller
getStorage
setItemsPerPage
setStartIndex
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
assertEquals
get
BaseEntry
getEntries
get
storage
controller
getStorage
setItemsPerPage
setStartIndex
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
assertEquals
get
BaseEntry
getEntries
get
assertEquals
get
BaseEntry
getEntries
get
assertEquals
get
BaseEntry
getEntries
get
storage
controller
getStorage
setItemsPerPage
setStartIndex
result
getFeed
feed
assertNotNull
result
assertEquals
getEntries
size
assertEquals
get
BaseEntry
getEntries
get
testGetEntry
storeServerBaseFeed
Storage
storage
controller
getStorage
ServerBaseEntry
exEntry
createServerBaseEntry
setId
try
getEntry
exEntry
fail
catchClause
e
ServerBaseEntry
e
createServerBaseEntry
storeEntry
e
ServerBaseEntry
e1
createServerBaseEntry
storeEntry
e1
storage
controller
getStorage
BaseEntry
result
getEntry
e
assertNotNull
result
assertEquals
getId
getId
try
setId
result
getEntry
e1
fail
catchClause
ex
printStackTrace
testStoreAccount
GDataAccount
account
GDataAccount
setName
setPassword
Storage
storage
controller
getStorage
storeAccount
account
ObjectContainer
container
getContainer
Query
q
query
constrain
GDataAccount
descend
constrain
getName
ObjectSet
set
execute
assertEquals
size
assertEquals
getPassword
GDataAccount
next
try
storeAccount
account
fail
catchClause
e
close
testUpdateAccount
GDataAccount
account
GDataAccount
setName
setPassword
Storage
storage
controller
getStorage
try
updateAccount
account
fail
catchClause
e
try
updateAccount
fail
catchClause
e
storeAccount
account
ObjectContainer
container
getContainer
Query
q
query
constrain
GDataAccount
descend
constrain
getName
ObjectSet
set
execute
assertEquals
size
assertEquals
getPassword
GDataAccount
next
account
GDataAccount
setName
setPassword
updateAccount
account
close
container
getContainer
q
query
constrain
GDataAccount
descend
constrain
getName
set
execute
assertEquals
size
assertEquals
getPassword
GDataAccount
next
close
testDeleteAccount
GDataAccount
account
GDataAccount
setName
setPassword
Storage
storage
controller
getStorage
storeAccount
account
ObjectContainer
container
getContainer
Query
q
query
constrain
GDataAccount
descend
constrain
getName
ObjectSet
set
execute
assertEquals
size
deleteAccount
getName
close
container
getContainer
q
query
constrain
GDataAccount
descend
constrain
getName
set
execute
assertEquals
size
try
deleteAccount
fail
catchClause
e
try
deleteAccount
fail
catchClause
e
close
testStoreFeed
ObjectContainer
container
getContainer
ServerBaseFeed
feed
ServerBaseFeed
setId
FEEDID
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
Storage
storage
controller
getStorage
try
storeFeed
feed
ACCOUNTNAME
fail
catchClause
e
GDataAccount
account
GDataAccount
setName
ACCOUNTNAME
setPassword
set
account
commit
close
storeFeed
feed
ACCOUNTNAME
container
getContainer
Query
query
query
constrain
ServerBaseFeed
descend
descend
constrain
FEEDID
ObjectSet
set
execute
assertEquals
size
assertEquals
getId
ServerBaseFeed
next
close
testDeleteFeed
ServerBaseFeed
feed
ServerBaseFeed
setId
FEEDID
GDataAccount
account
GDataAccount
setName
ACCOUNTNAME
setPassword
ObjectContainer
container
getContainer
set
account
commit
close
Storage
storage
controller
getStorage
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
storeFeed
feed
ACCOUNTNAME
deleteFeed
FEEDID
container
getContainer
Query
query
query
constrain
ServerBaseFeed
descend
descend
constrain
FEEDID
ObjectSet
set
execute
assertEquals
size
query
getContainer
query
constrain
BaseFeed
descend
constrain
FEEDID
set
execute
assertEquals
size
close
testGetServiceForFeed
ServerBaseFeed
feed
ServerBaseFeed
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
setId
FEEDID
GDataAccount
account
GDataAccount
setName
ACCOUNTNAME
setPassword
ObjectContainer
container
getContainer
set
account
commit
close
Storage
storage
controller
getStorage
storeFeed
feed
ACCOUNTNAME
assertEquals
SERVICENAME
getServiceForFeed
FEEDID
try
getServiceForFeed
fail
catchClause
e
try
getServiceForFeed
fail
catchClause
e
testGetAccount
GDataAccount
account
GDataAccount
setName
ACCOUNTNAME
setPassword
ObjectContainer
container
getContainer
set
account
commit
close
Storage
storage
controller
getStorage
assertNotNull
getAccount
ACCOUNTNAME
assertEquals
getPassword
getAccount
getPassword
ACCOUNTNAME
try
getAccount
fail
catchClause
e
try
getAccount
fail
catchClause
e
testUpdateFeed
ObjectContainer
container
getContainer
ServerBaseFeed
feed
ServerBaseFeed
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setId
FEEDID
setServiceConfig
conf
Storage
storage
controller
getStorage
GDataAccount
account
GDataAccount
setName
ACCOUNTNAME
setPassword
set
account
commit
close
storeFeed
feed
ACCOUNTNAME
assertNull
getTitle
ServerBaseFeed
feedU
ServerBaseFeed
setServiceConfig
conf
setId
FEEDID
setTitle
PlainTextConstruct
setServiceType
SERVICENAME
updateFeed
feedU
ACCOUNTNAME
ServerBaseFeed
requestFeed
ServerBaseFeed
setId
FEEDID
setServiceType
SERVICENAME
assertNotNull
getFeed
requestFeed
assertEquals
getTitle
getFeed
getTitle
requestFeed
try
updateFeed
ACCOUNTNAME
fail
catchClause
e
try
updateFeed
feedU
fail
catchClause
e
try
setServiceType
updateFeed
feedU
ACCOUNTNAME
fail
catchClause
e
createServerBaseEntry
ServerBaseEntry
ServerBaseEntry
e
ServerBaseEntry
setId
currentTimeMillis
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
setUpdated
now
setFeedId
FEEDID
try
sleep
catchClause
e1
printStackTrace
return
e
storeServerBaseFeed
ServerBaseFeed
ServerBaseFeed
f
ServerBaseFeed
ProvidedServiceConfig
conf
ProvidedServiceConfig
setName
SERVICENAME
setServiceConfig
conf
setId
currentTimeMillis
setId
FEEDID
setUpdated
now
ObjectContainer
con
controller
releaseContainer
set
f
commit
close
return
f
Runner
Storage
s
StorageController
c
ServerBaseEntry
e
boolean
expConf
StorageOperation
op
Runner
c
StorageController
e
ServerBaseEntry
expectConflict
boolean
op
StorageOperation
c
c
e
e
expConf
expectConflict
op
op
run
try
DB4oController
c
s
c
getStorage
catchClause
e1
printStackTrace
try
if
op
DELETE
s
deleteEntry
e
if
op
UPDATE
s
updateEntry
e
if
expConf
fail
catchClause
ex
if
expConf
fail
printStackTrace
catchClause
ex
printStackTrace
fail
DB4oController
c
Runnable
testFeedLastModified
ServerBaseFeed
feed
storeServerBaseFeed
Storage
s
controller
getStorage
assertEquals
getUpdated
getValue
getFeedLastModified
longValue
FEEDID
try
getFeedLastModified
fail
catchClause
e
try
getFeedLastModified
fail
catchClause
e
testEntryLastModified
ServerBaseFeed
feed
storeServerBaseFeed
Storage
s
controller
getStorage
ServerBaseEntry
en
createServerBaseEntry
storeEntry
en
assertEquals
getUpdated
getValue
getEntryLastModified
longValue
getId
FEEDID
try
getEntryLastModified
fail
catchClause
e
try
getEntryLastModified
fail
catchClause
e
TestCase
