IvyBuildTrigger
String
BACKUP_IVY_FILE_NAME
Logger
LOGGER
getLogger
getName
IvyBuildTrigger
String
ivyFile
String
ivyConfName
boolean
triggerWhenUnstable
long
lastmodified
ModuleDescriptor
moduleDescriptor
VersionMatcher
versionMatcher
setDefaultLogger
IvyMessageImpl
IvyBuildTrigger
ivyFile
String
ivyConfName
String
triggerWhenUnstable
boolean
ivyFile
ivyFile
ivyConfName
ivyConfName
triggerWhenUnstable
triggerWhenUnstable
IvyBuildTrigger
ivyFile
String
ivyConfName
String
ivyFile
ivyConfName
getIvyFile
String
return
ivyFile
getIvyConfName
String
return
ivyConfName
getIvyConfiguration
IvyConfiguration
IvyConfiguration
conf
if
ivyConfName
block
for
IvyConfiguration
i
getConfigurations
block
if
getName
equals
ivyConfName
block
conf
i
break
return
conf
isTriggerWhenUnstable
boolean
return
triggerWhenUnstable
getIvy
Ivy
setDefaultLogger
IvyMessageImpl
IvyConfiguration
ivyConf
getIvyConfiguration
Ivy
ivy
newInstance
Ivy
configured
if
ivyConf
block
try
configure
File
getIvyConfPath
fine
getName
configured
ivy
catchClause
e
log
SEVERE
getName
getIvyConfPath
e
block
try
configureDefault
fine
configured
ivy
catchClause
e
log
SEVERE
e
return
configured
getModuleDescriptor
ModuleDescriptor
p
AbstractProject
if
moduleDescriptor
block
recomputeModuleDescriptor
getSomeBuildWithWorkspace
return
moduleDescriptor
copyIvyFileFromWorkspaceIfNecessary
boolean
workspace
FilePath
localFile
File
boolean
copied
if
workspace
block
FilePath
f
child
ivyFile
FilePath
backupCopy
FilePath
localFile
long
flastModified
lastModified
if
flastModified
throw
FileNotFoundException
f
if
flastModified
lastmodified
block
copyTo
backupCopy
setLastModified
flastModified
copied
info
return
copied
recomputeModuleDescriptor
b
AbstractBuild
if
b
block
return
fine
getProject
getFullDisplayName
Ivy
ivy
getIvy
if
ivy
block
setModuleDescriptor
return
versionMatcher
getSettings
getVersionMatcher
File
ivyF
File
getProject
getRootDir
BACKUP_IVY_FILE_NAME
try
copyIvyFileFromWorkspaceIfNecessary
getWorkspace
ivyF
catchClause
e
log
WARNING
e
log
WARNING
setModuleDescriptor
return
catchClause
e
log
WARNING
e
if
canRead
log
WARNING
if
canRead
block
log
WARNING
setModuleDescriptor
return
if
moduleDescriptor
lastModified
lastmodified
block
lastmodified
lastModified
setModuleDescriptor
ModuleDescriptor
execute
IvyCallback
doInIvyContext
Object
ivy
Ivy
context
IvyContext
try
return
getInstance
parseDescriptor
getSettings
toURI
toURL
getSettings
doValidate
catchClause
e
log
WARNING
ivyF
e
return
catchClause
e
log
WARNING
ivyF
e
return
catchClause
e
log
WARNING
ivyF
e
return
setModuleDescriptor
d
ModuleDescriptor
ModuleDescriptor
old
moduleDescriptor
moduleDescriptor
d
if
old
moduleDescriptor
return
if
old
equals
moduleDescriptor
block
invalidateProjectMap
getInstance
rebuildDependencyGraph
perform
boolean
build
AbstractBuild
launcher
Launcher
listener
BuildListener
recomputeModuleDescriptor
build
return
needsToRunAfterFinalized
boolean
return
getRequiredMonitorService
BuildStepMonitor
return
BUILD
buildDependencyGraph
owner
AbstractProject
graph
DependencyGraph
ModuleDescriptor
md
md
getModuleDescriptor
owner
if
md
block
return
DependencyDescriptor
deps
getDependencies
for
DependencyDescriptor
depDesc
deps
block
ModuleId
id
getDependencyId
ModuleRevisionId
rid
getDependencyRevisionId
List
AbstractProject
possibleDeps
getProjectsFor
id
for
AbstractProject
p
possibleDeps
block
if
isDisabled
p
if
p
p
Project
block
if
captures
rid
Project
p
block
addDependency
IvyDependency
p
owner
triggerWhenUnstable
UNSTABLE
SUCCESS
captures
boolean
depRevId
ModuleRevisionId
candidate
Project
IvyBuildTrigger
t
IvyBuildTrigger
getPublisher
DESCRIPTOR
boolean
captures
t
if
captures
isExtendedVersionMatching
block
ModuleDescriptor
cmd
getModuleDescriptor
candidate
ModuleRevisionId
cmrid
getModuleRevisionId
VersionMatcher
matcher
versionMatcher
captures
matcher
isDynamic
depRevId
if
captures
block
String
dbranch
getBranch
String
cbranch
getBranch
if
dbranch
block
captures
equals
cbranch
block
captures
cbranch
if
captures
block
captures
accept
depRevId
cmrid
if
captures
needModuleDescriptor
depRevId
cmrid
block
captures
accept
depRevId
cmd
return
captures
IvyConfiguration
String
name
String
ivyConfPath
IvyConfiguration
name
String
ivyConfPath
String
name
name
ivyConfPath
ivyConfPath
getIvyConfPath
String
return
ivyConfPath
getName
String
return
name
getExists
boolean
return
exists
File
ivyConfPath
DescriptorImpl
DESCRIPTOR
DescriptorImpl
DescriptorImpl
IvyConfiguration
configurations
IvyConfiguration
Map
ModuleId
List
AbstractProject
projectMap
boolean
extendedVersionMatching
DescriptorImpl
load
getProjectsFor
List
AbstractProject
searchId
ModuleId
if
projectMap
calculateProjectMap
List
AbstractProject
result
get
searchId
if
result
result
emptyList
return
result
invalidateProjectMap
projectMap
calculateProjectMap
List
Project
projects
getInstance
getAllItems
Project
Map
ModuleId
List
AbstractProject
projectMap
HashMap
ModuleId
List
AbstractProject
for
Project
p
projects
block
if
isDisabled
block
continue
IvyBuildTrigger
t
IvyBuildTrigger
getPublisher
DESCRIPTOR
if
t
block
ModuleDescriptor
m
try
m
getModuleDescriptor
p
catchClause
e
log
WARNING
getFullDisplayName
e
m
if
m
block
ModuleId
id
getModuleRevisionId
getModuleId
List
AbstractProject
list
get
id
if
list
block
list
ArrayList
AbstractProject
add
p
put
id
list
projectMap
projectMap
getConfigurations
IvyConfiguration
return
configurations
isExtendedVersionMatching
boolean
return
extendedVersionMatching
getDisplayName
String
return
IvyBuildTrigger_DisplayName
configure
boolean
req
StaplerRequest
json
JSONObject
boolean
r
int
i
String
names
getParameterValues
String
paths
getParameterValues
String
vm
getParameter
IvyConfiguration
confs
if
names
paths
block
int
len
min
length
length
confs
IvyConfiguration
len
for
forControl
i
i
len
i
block
if
nullify
names
i
block
continue
if
nullify
paths
i
block
continue
confs
i
IvyConfiguration
names
i
paths
i
block
confs
IvyConfiguration
info
length
configurations
confs
extendedVersionMatching
vm
save
invalidateProjectMap
getInstance
rebuildDependencyGraph
return
r
doHandleExternalTrigger
req
StaplerRequest
rsp
StaplerResponse
String
org
fixEmptyAndTrim
getParameter
String
name
fixEmptyAndTrim
getParameter
String
branch
fixEmptyAndTrim
getParameter
String
rev
fixEmptyAndTrim
getParameter
getInstance
getACL
checkPermission
BUILD
if
org
name
throw
IllegalArgumentException
if
extendedVersionMatching
branch
rev
throw
IllegalArgumentException
ModuleId
id
newInstance
org
name
String
ivylabel
newInstance
toString
org
name
branch
fixNull
rev
List
AbstractProject
downstream
emptyList
List
AbstractProject
candidates
getProjectsFor
id
for
AbstractProject
candidate
candidates
block
if
isDisabled
candidate
Project
continue
Project
p
Project
candidate
IvyBuildTrigger
t
IvyBuildTrigger
getPublisher
DESCRIPTOR
if
t
block
if
extendedVersionMatching
block
ModuleDescriptor
md
getModuleDescriptor
p
ModuleRevisionId
mdrid
getModuleRevisionId
String
mdbranch
getBranch
if
branch
equals
mdbranch
continue
if
branch
mdbranch
continue
if
rev
equals
getRevision
continue
downstream
getInstance
getDependencyGraph
getDownstream
p
break
for
AbstractProject
down
downstream
block
if
isDisabled
block
scheduleBuild
UserCause
ivylabel
doCheckIvyConf
FormValidation
value
String
if
getInstance
hasPermission
ADMINISTER
return
ok
if
fixEmpty
value
block
return
error
IvyBuildTrigger_CheckIvyConf_PathRequiredError
File
f
File
value
if
isFile
block
return
error
IvyBuildTrigger_CheckIvyConf_PathNotFileError
f
return
ok
doCheckIvyFile
FormValidation
value
String
if
getInstance
hasPermission
ADMINISTER
return
ok
if
fixEmpty
value
block
return
error
IvyBuildTrigger_CheckIvyFile_PathRequiredError
if
isAbsolute
File
value
block
return
error
IvyBuildTrigger_CheckIvyFile_PathAbsoluteError
return
ok
isApplicable
boolean
jobType
Class
AbstractProject
return
isAssignableFrom
jobType
Project
BuildStepDescriptor
Publisher
UserCause
String
ivylabel
UserCause
ivylabel
String
ivylabel
ivylabel
getIvylabel
String
return
ivylabel
getShortDescription
String
return
IvyBuildTrigger_UserCause_ShortDescription
getIvylabel
getUserName
Cause
UserCause
Notifier
DependecyDeclarer
