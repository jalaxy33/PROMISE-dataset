UnicodeString
short
sid
short
field_1_charCount
byte
field_2_optionflags
String
field_3_string
List
field_4_format_runs
byte
field_5_ext_rst
BitField
highByte
getInstance
BitField
extBit
getInstance
BitField
richText
getInstance
FormatRun
short
character
short
fontIndex
FormatRun
character
short
fontIndex
short
character
character
fontIndex
fontIndex
getCharacterPos
short
return
character
getFontIndex
short
return
fontIndex
equals
boolean
o
Object
if
o
getClass
getClass
block
return
FormatRun
other
FormatRun
o
return
character
character
fontIndex
fontIndex
compareTo
int
obj
Object
FormatRun
r
FormatRun
obj
if
character
character
fontIndex
fontIndex
return
if
character
character
return
fontIndex
fontIndex
return
character
character
toString
String
return
character
fontIndex
Comparable
UnicodeString
UnicodeString
str
String
setString
str
UnicodeString
in
RecordInputStream
validateSid
getSid
fillFields
in
hashCode
int
int
stringHash
if
field_3_string
stringHash
hashCode
return
field_1_charCount
stringHash
equals
boolean
o
Object
if
o
getClass
getClass
block
return
UnicodeString
other
UnicodeString
o
boolean
eq
field_1_charCount
field_1_charCount
field_2_optionflags
field_2_optionflags
equals
field_3_string
if
eq
return
if
field_4_format_runs
field_4_format_runs
return
if
field_4_format_runs
field_4_format_runs
field_4_format_runs
field_4_format_runs
return
int
size
size
if
size
size
return
for
forControl
int
i
i
size
i
block
FormatRun
run1
FormatRun
get
i
FormatRun
run2
FormatRun
get
i
if
equals
run2
return
if
field_5_ext_rst
field_5_ext_rst
return
if
field_5_ext_rst
field_5_ext_rst
field_5_ext_rst
field_5_ext_rst
return
size
length
if
size
length
return
for
forControl
int
i
i
size
i
block
if
field_5_ext_rst
i
field_5_ext_rst
i
return
return
validateSid
id
short
fillFields
in
RecordInputStream
field_1_charCount
readShort
field_2_optionflags
readByte
int
runCount
int
extensionLength
if
isRichText
block
runCount
readShort
if
isExtendedText
block
extensionLength
readInt
setAutoContinue
StringBuffer
tmpString
StringBuffer
field_1_charCount
int
stringCharCount
field_1_charCount
boolean
isCompressed
field_2_optionflags
while
stringCharCount
block
if
remaining
block
if
isContinueNext
block
nextRecord
byte
optionflags
readByte
isCompressed
optionflags
throw
RecordFormatException
if
isCompressed
block
char
ch
char
short
short
readByte
append
ch
block
char
ch
char
readShort
append
ch
stringCharCount
field_3_string
toString
setAutoContinue
if
isRichText
runCount
block
field_4_format_runs
ArrayList
runCount
for
forControl
int
i
i
runCount
i
block
add
FormatRun
readShort
readShort
if
isExtendedText
extensionLength
block
field_5_ext_rst
byte
extensionLength
for
forControl
int
i
i
extensionLength
i
block
field_5_ext_rst
i
readByte
getCharCount
short
return
field_1_charCount
setCharCount
cc
short
field_1_charCount
cc
getOptionFlags
byte
return
field_2_optionflags
setOptionFlags
of
byte
field_2_optionflags
of
getString
String
return
field_3_string
setString
string
String
field_3_string
string
setCharCount
short
length
boolean
useUTF16
int
strlen
length
for
forControl
int
j
j
strlen
j
block
if
charAt
j
block
useUTF16
break
if
useUTF16
field_2_optionflags
setByte
field_2_optionflags
field_2_optionflags
clearByte
field_2_optionflags
getFormatRunCount
int
if
field_4_format_runs
return
return
size
getFormatRun
FormatRun
index
int
if
field_4_format_runs
return
if
index
index
size
return
return
FormatRun
get
index
findFormatRunAt
int
characterPos
int
int
size
size
for
forControl
int
i
i
size
i
block
FormatRun
r
FormatRun
get
i
if
character
characterPos
return
i
if
character
characterPos
return
return
addFormatRun
r
FormatRun
if
field_4_format_runs
field_4_format_runs
ArrayList
int
index
findFormatRunAt
character
if
index
remove
index
add
r
sort
field_4_format_runs
field_2_optionflags
setByte
field_2_optionflags
formatIterator
Iterator
if
field_4_format_runs
return
iterator
return
removeFormatRun
r
FormatRun
remove
r
if
size
block
field_4_format_runs
field_2_optionflags
clearByte
field_2_optionflags
clearFormatting
field_4_format_runs
field_2_optionflags
clearByte
field_2_optionflags
getExtendedRst
byte
return
field_5_ext_rst
setExtendedRst
ext_rst
byte
if
ext_rst
field_2_optionflags
setByte
field_2_optionflags
field_2_optionflags
clearByte
field_2_optionflags
field_5_ext_rst
ext_rst
toString
String
return
getString
getDebugInfo
String
StringBuffer
buffer
StringBuffer
append
append
append
toHexString
getCharCount
append
append
append
toHexString
getOptionFlags
append
append
append
getString
append
if
field_4_format_runs
block
for
forControl
int
i
i
size
i
block
FormatRun
r
FormatRun
get
i
append
append
toString
append
i
if
field_5_ext_rst
block
append
append
append
toHex
field_5_ext_rst
append
append
return
toString
writeContinueIfRequired
int
stats
UnicodeRecordStats
requiredSize
int
offset
int
data
byte
if
remainingSize
requiredSize
block
if
lastLengthPos
block
short
lastRecordLength
short
offset
lastLengthPos
if
lastRecordLength
throw
InternalError
putShort
data
lastLengthPos
lastRecordLength
putShort
data
offset
sid
offset
lastLengthPos
offset
offset
recordSize
remainingSize
MAX_RECORD_SIZE
return
offset
serialize
int
stats
UnicodeRecordStats
offset
int
data
byte
int
pos
offset
pos
writeContinueIfRequired
stats
pos
data
putShort
data
pos
getCharCount
pos
data
pos
getOptionFlags
pos
recordSize
remainingSize
if
isRichText
block
if
field_4_format_runs
block
pos
writeContinueIfRequired
stats
pos
data
putShort
data
pos
short
size
pos
recordSize
remainingSize
if
isExtendedText
block
if
field_5_ext_rst
block
pos
writeContinueIfRequired
stats
pos
data
putInt
data
pos
length
pos
recordSize
remainingSize
int
charsize
isUncompressedUnicode
int
strSize
getString
length
charsize
byte
strBytes
try
String
unicodeString
getString
if
isUncompressedUnicode
block
strBytes
getBytes
block
strBytes
getBytes
catchClause
e
throw
InternalError
if
strSize
length
throw
InternalError
if
strSize
remainingSize
block
int
ammountThatCantFit
strSize
int
strPos
while
ammountThatCantFit
block
int
ammountWritten
min
remainingSize
ammountThatCantFit
if
isUncompressedUnicode
block
if
ammountWritten
ammountWritten
arraycopy
strBytes
strPos
data
pos
ammountWritten
pos
ammountWritten
strPos
ammountWritten
recordSize
ammountWritten
remainingSize
ammountWritten
ammountThatCantFit
ammountWritten
if
ammountThatCantFit
block
pos
writeContinueIfRequired
stats
ammountThatCantFit
pos
data
data
pos
byte
isUncompressedUnicode
pos
recordSize
remainingSize
block
if
strSize
length
pos
println
arraycopy
strBytes
data
pos
strSize
pos
strSize
recordSize
strSize
remainingSize
strSize
if
isRichText
field_4_format_runs
block
int
count
size
for
forControl
int
i
i
count
i
block
pos
writeContinueIfRequired
stats
pos
data
FormatRun
r
FormatRun
get
i
putShort
data
pos
character
pos
putShort
data
pos
fontIndex
pos
recordSize
remainingSize
if
isExtendedText
field_5_ext_rst
block
int
ammountThatCantFit
length
remainingSize
int
extPos
if
ammountThatCantFit
block
while
ammountThatCantFit
block
int
ammountWritten
min
remainingSize
ammountThatCantFit
arraycopy
field_5_ext_rst
extPos
data
pos
ammountWritten
pos
ammountWritten
extPos
ammountWritten
recordSize
ammountWritten
remainingSize
ammountWritten
ammountThatCantFit
ammountWritten
if
ammountThatCantFit
block
pos
writeContinueIfRequired
stats
pos
data
block
arraycopy
field_5_ext_rst
data
pos
length
pos
length
remainingSize
length
recordSize
length
return
pos
offset
setCompressedUnicode
field_2_optionflags
setByte
field_2_optionflags
setUncompressedUnicode
field_2_optionflags
clearByte
field_2_optionflags
isUncompressedUnicode
boolean
return
isSet
getOptionFlags
UnicodeRecordStats
int
recordSize
int
remainingSize
MAX_RECORD_SIZE
int
lastLengthPos
getRecordSize
stats
UnicodeRecordStats
if
remainingSize
block
recordSize
remainingSize
MAX_RECORD_SIZE
recordSize
remainingSize
if
isRichText
block
if
remainingSize
block
remainingSize
MAX_RECORD_SIZE
recordSize
recordSize
remainingSize
if
isExtendedText
block
if
remainingSize
block
remainingSize
MAX_RECORD_SIZE
recordSize
recordSize
remainingSize
int
charsize
isUncompressedUnicode
int
strSize
getString
length
charsize
if
strSize
remainingSize
block
int
ammountThatCantFit
strSize
while
ammountThatCantFit
block
int
ammountWritten
min
remainingSize
ammountThatCantFit
if
isUncompressedUnicode
block
if
ammountWritten
ammountWritten
recordSize
ammountWritten
remainingSize
ammountWritten
ammountThatCantFit
ammountWritten
if
ammountThatCantFit
block
remainingSize
MAX_RECORD_SIZE
recordSize
recordSize
remainingSize
block
recordSize
strSize
remainingSize
strSize
if
isRichText
field_4_format_runs
block
int
count
size
for
forControl
int
i
i
count
i
block
if
remainingSize
block
remainingSize
MAX_RECORD_SIZE
recordSize
recordSize
remainingSize
if
isExtendedText
field_5_ext_rst
block
int
ammountThatCantFit
length
remainingSize
if
ammountThatCantFit
block
while
ammountThatCantFit
block
int
ammountWritten
min
remainingSize
ammountThatCantFit
recordSize
ammountWritten
remainingSize
ammountWritten
ammountThatCantFit
ammountWritten
if
ammountThatCantFit
block
remainingSize
MAX_RECORD_SIZE
recordSize
block
remainingSize
length
recordSize
length
getSid
short
return
sid
compareTo
int
obj
Object
UnicodeString
str
UnicodeString
obj
int
result
getString
compareTo
getString
if
result
return
result
if
field_4_format_runs
field_4_format_runs
return
if
field_4_format_runs
field_4_format_runs
return
if
field_4_format_runs
field_4_format_runs
return
int
size
size
if
size
size
return
size
size
for
forControl
int
i
i
size
i
block
FormatRun
run1
FormatRun
get
i
FormatRun
run2
FormatRun
get
i
result
compareTo
run2
if
result
return
result
if
field_5_ext_rst
field_5_ext_rst
return
if
field_5_ext_rst
field_5_ext_rst
return
if
field_5_ext_rst
field_5_ext_rst
return
size
length
if
size
length
return
size
length
for
forControl
int
i
i
size
i
block
if
field_5_ext_rst
i
field_5_ext_rst
i
return
field_5_ext_rst
i
field_5_ext_rst
i
return
isRichText
boolean
return
isSet
getOptionFlags
isExtendedText
boolean
return
isSet
getOptionFlags
clone
Object
UnicodeString
str
UnicodeString
field_1_charCount
field_1_charCount
field_2_optionflags
field_2_optionflags
field_3_string
field_3_string
if
field_4_format_runs
block
field_4_format_runs
ArrayList
int
size
size
for
forControl
int
i
i
size
i
block
FormatRun
r
FormatRun
get
i
add
FormatRun
character
fontIndex
if
field_5_ext_rst
block
field_5_ext_rst
byte
length
arraycopy
field_5_ext_rst
field_5_ext_rst
length
return
str
Comparable
