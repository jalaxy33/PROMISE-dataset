TestSmallDocumentBlock
byte
_testdata
int
_testdata_size
_testdata
byte
_testdata_size
for
forControl
int
j
j
length
j
block
_testdata
j
byte
j
TestSmallDocumentBlock
name
String
name
testConvert1
ByteArrayInputStream
stream
ByteArrayInputStream
_testdata
List
documents
ArrayList
while
block
DocumentBlock
block
DocumentBlock
stream
add
block
if
partiallyRead
block
break
SmallDocumentBlock
results
convert
BlockWritable
toArray
DocumentBlock
_testdata_size
assertEquals
_testdata_size
length
ByteArrayOutputStream
output
ByteArrayOutputStream
for
forControl
int
j
j
length
j
block
results
j
writeBlocks
output
byte
output_array
toByteArray
assertEquals
length
length
int
index
for
forControl
index
_testdata_size
index
block
assertEquals
index
_testdata
index
output_array
index
for
forControl
index
length
index
block
assertEquals
index
byte
output_array
index
testConvert2
for
forControl
int
j
j
j
block
byte
array
byte
j
for
forControl
int
k
k
j
k
block
array
k
byte
k
SmallDocumentBlock
blocks
convert
array
assertEquals
length
ByteArrayOutputStream
stream
ByteArrayOutputStream
for
forControl
int
k
k
length
k
block
blocks
k
writeBlocks
stream
close
byte
output
toByteArray
for
forControl
int
k
k
length
k
block
assertEquals
valueOf
k
array
k
output
k
for
forControl
int
k
length
k
k
block
assertEquals
valueOf
k
byte
output
k
testRead
ByteArrayInputStream
stream
ByteArrayInputStream
_testdata
List
documents
ArrayList
while
block
DocumentBlock
block
DocumentBlock
stream
add
block
if
partiallyRead
block
break
SmallDocumentBlock
blocks
convert
BlockWritable
toArray
DocumentBlock
_testdata_size
for
forControl
int
j
j
_testdata_size
j
block
byte
buffer
byte
j
int
offset
for
forControl
int
k
k
_testdata_size
j
k
block
read
blocks
buffer
offset
for
forControl
int
n
n
length
n
block
assertEquals
k
j
n
_testdata
k
j
n
buffer
n
offset
j
testFill
for
forControl
int
j
j
j
block
List
foo
ArrayList
for
forControl
int
k
k
j
k
block
add
Object
int
result
fill
foo
assertEquals
j
result
assertEquals
result
size
for
forControl
int
m
j
m
size
m
block
BlockWritable
block
BlockWritable
get
m
ByteArrayOutputStream
stream
ByteArrayOutputStream
writeBlocks
stream
byte
output
toByteArray
assertEquals
m
length
for
forControl
int
n
n
n
block
assertEquals
m
n
byte
output
n
testCalcSize
for
forControl
int
j
j
j
block
assertEquals
j
j
calcSize
j
testExtract
byte
data
byte
int
offset
for
forControl
int
j
j
j
block
for
forControl
int
k
k
k
block
data
offset
byte
k
j
RawDataBlock
blocks
RawDataBlock
ByteArrayInputStream
data
List
output
extract
blocks
Iterator
iter
iterator
offset
while
hasNext
block
byte
out_data
SmallDocumentBlock
next
assertEquals
offset
length
for
forControl
int
j
j
length
j
block
assertEquals
offset
data
offset
out_data
j
offset
main
ignored_args
String
println
run
TestSmallDocumentBlock
TestCase
