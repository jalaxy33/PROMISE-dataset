SSTRecord
int
_max
int
_std_record_overhead
SHORT_SIZE
int
_sst_record_overhead
_std_record_overhead
INT_SIZE
int
_max_data_space
_max
_sst_record_overhead
int
_string_minimal_overhead
SHORT_SIZE
BYTE_SIZE
short
sid
int
field_1_num_strings
int
field_2_num_unique_strings
BinaryTree
field_3_strings
int
__expected_chars
String
_unfinished_string
int
_total_length_bytes
int
_string_data_offset
boolean
_wide_char
List
_record_lengths
SSTRecord
field_1_num_strings
field_2_num_unique_strings
field_3_strings
BinaryTree
setExpectedChars
_unfinished_string
_total_length_bytes
_string_data_offset
_wide_char
SSTRecord
id
short
size
short
data
byte
id
size
data
SSTRecord
id
short
size
short
data
byte
offset
int
id
size
data
offset
addString
int
string
String
int
rval
if
string
block
rval
addString
block
boolean
useUTF16
int
strlen
length
for
forControl
int
j
j
strlen
j
block
if
charAt
j
block
useUTF16
break
rval
addString
string
useUTF16
return
rval
addString
int
string
String
useUTF16
boolean
field_1_num_strings
String
str
string
string
int
rval
UnicodeString
ucs
UnicodeString
setString
str
setCharCount
short
length
setOptionFlags
byte
useUTF16
Integer
integer
Integer
getKeyForValue
ucs
if
integer
block
rval
intValue
block
rval
size
field_2_num_unique_strings
integer
Integer
rval
put
integer
ucs
return
rval
getNumStrings
int
return
field_1_num_strings
getNumUniqueStrings
int
return
field_2_num_unique_strings
setNumStrings
count
int
field_1_num_strings
count
getNumUniqueStrings
count
int
field_2_num_unique_strings
count
getString
String
id
int
return
UnicodeString
get
Integer
id
getString16bit
boolean
id
int
return
UnicodeString
get
Integer
id
toString
String
StringBuffer
buffer
StringBuffer
append
append
append
toHexString
getNumStrings
append
append
append
toHexString
getNumUniqueStrings
append
for
forControl
int
k
k
size
k
block
append
append
UnicodeString
get
Integer
k
append
k
append
return
toString
serialize
int
offset
int
data
byte
int
rval
getRecordSize
int
record_length_index
int
unicodesize
calculateUnicodeSize
if
unicodesize
_max_data_space
block
byte
stringreminant
int
unipos
boolean
lastneedcontinue
int
stringbyteswritten
boolean
first_record
int
totalWritten
int
size
while
totalWritten
rval
block
int
pos
int
available
if
first_record
block
size
Integer
get
record_length_index
available
size
pos
writeSSTHeader
data
pos
offset
totalWritten
size
size
_std_record_overhead
first_record
block
pos
int
to_be_written
unicodesize
stringbyteswritten
lastneedcontinue
size
Integer
get
record_length_index
available
size
pos
writeContinueHeader
data
pos
offset
totalWritten
size
size
size
_std_record_overhead
if
lastneedcontinue
block
if
length
available
block
arraycopy
stringreminant
data
pos
offset
totalWritten
length
stringbyteswritten
length
pos
length
lastneedcontinue
available
length
block
arraycopy
stringreminant
data
pos
offset
totalWritten
available
stringbyteswritten
available
pos
available
byte
leftover
byte
length
available
BYTE_SIZE
arraycopy
stringreminant
available
leftover
BYTE_SIZE
length
available
leftover
stringreminant
stringreminant
leftover
available
lastneedcontinue
for
forControl
unipos
size
unipos
block
Integer
intunipos
Integer
unipos
UnicodeString
unistr
UnicodeString
get
intunipos
if
getRecordSize
available
block
serialize
pos
offset
totalWritten
data
int
rsize
getRecordSize
stringbyteswritten
rsize
pos
rsize
available
rsize
block
if
available
_string_minimal_overhead
block
byte
ucs
serialize
arraycopy
ucs
data
pos
offset
totalWritten
available
stringbyteswritten
available
stringreminant
byte
length
available
BYTE_SIZE
arraycopy
ucs
available
stringreminant
BYTE_SIZE
length
available
stringreminant
ucs
SHORT_SIZE
available
lastneedcontinue
unipos
break
totalWritten
size
block
int
datasize
_sst_record_overhead
unicodesize
writeSSTHeader
data
offset
_sst_record_overhead
Integer
get
record_length_index
_std_record_overhead
int
pos
_sst_record_overhead
for
forControl
int
k
k
size
k
block
UnicodeString
unistr
UnicodeString
get
Integer
k
arraycopy
serialize
data
pos
offset
getRecordSize
pos
getRecordSize
return
rval
calculateStringsize
int
int
retval
for
forControl
int
k
k
size
k
block
retval
UnicodeString
get
Integer
k
return
retval
processContinueRecord
record
byte
if
getExpectedChars
block
_unfinished_string
_total_length_bytes
_string_data_offset
_wide_char
manufactureStrings
record
short
length
block
int
data_length
length
BYTE_SIZE
if
calculateByteCount
getExpectedChars
data_length
block
byte
input
byte
length
SHORT_SIZE
short
size
short
record
data_length
SHORT_SIZE
data_length
BYTE_SIZE
putShort
input
byte
size
arraycopy
record
input
SHORT_SIZE
length
UnicodeString
ucs
UnicodeString
sid
short
length
input
_unfinished_string
_unfinished_string
getString
setExpectedChars
getExpectedChars
size
block
setupStringParameters
record
SHORT_SIZE
getExpectedChars
byte
str_data
byte
_total_length_bytes
int
length
_string_minimal_overhead
calculateByteCount
getExpectedChars
byte
bstring
byte
length
arraycopy
record
str_data
SHORT_SIZE
length
SHORT_SIZE
putShort
bstring
short
getExpectedChars
bstring
SHORT_SIZE
str_data
SHORT_SIZE
arraycopy
str_data
_string_data_offset
bstring
_string_minimal_overhead
length
_string_minimal_overhead
UnicodeString
string
UnicodeString
sid
short
length
bstring
_unfinished_string
Integer
integer
Integer
size
put
integer
string
manufactureStrings
record
_total_length_bytes
SHORT_SIZE
short
length
getSid
short
return
sid
hashCode
int
return
field_2_num_unique_strings
equals
boolean
o
Object
if
o
getClass
getClass
block
return
SSTRecord
other
SSTRecord
o
return
field_1_num_strings
field_1_num_strings
field_2_num_unique_strings
field_2_num_unique_strings
equals
field_3_strings
validateSid
id
short
if
id
sid
block
throw
RecordFormatException
fillFields
data
byte
size
short
offset
int
field_1_num_strings
getInt
data
offset
field_2_num_unique_strings
getInt
data
offset
field_3_strings
BinaryTree
setExpectedChars
_unfinished_string
_total_length_bytes
_string_data_offset
_wide_char
manufactureStrings
data
offset
size
getExpectedChars
int
return
__expected_chars
getStrings
Iterator
return
values
iterator
countStrings
int
return
size
getUnfinishedString
String
return
_unfinished_string
getTotalLength
int
return
_total_length_bytes
getStringDataOffset
int
return
_string_data_offset
isWideChar
boolean
return
_wide_char
writeSSTHeader
int
data
byte
pos
int
recsize
int
int
offset
pos
putShort
data
offset
sid
offset
SHORT_SIZE
putShort
data
offset
short
recsize
offset
SHORT_SIZE
putInt
data
offset
getNumStrings
offset
INT_SIZE
putInt
data
offset
getNumUniqueStrings
offset
INT_SIZE
return
offset
pos
writeContinueHeader
int
data
byte
pos
int
recsize
int
int
offset
pos
putShort
data
offset
sid
offset
SHORT_SIZE
putShort
data
offset
short
recsize
offset
SHORT_SIZE
return
offset
pos
calculateUCArrayLength
int
ucarray
byte
int
retval
for
forControl
int
k
k
length
k
block
retval
ucarray
k
length
return
retval
manufactureStrings
data
byte
index
int
size
short
int
offset
index
while
offset
size
block
int
remaining
size
offset
if
remaining
remaining
SHORT_SIZE
block
throw
RecordFormatException
if
remaining
SHORT_SIZE
block
setExpectedChars
getShort
data
offset
_unfinished_string
break
short
char_count
getShort
data
offset
setupStringParameters
data
offset
char_count
if
remaining
_total_length_bytes
block
setExpectedChars
calculateCharCount
_total_length_bytes
remaining
char_count
getExpectedChars
_total_length_bytes
remaining
block
setExpectedChars
processString
data
offset
char_count
offset
_total_length_bytes
if
getExpectedChars
block
break
setupStringParameters
data
byte
index
int
char_count
int
byte
flag
data
index
SHORT_SIZE
_wide_char
flag
boolean
extended
flag
boolean
formatted_run
flag
_total_length_bytes
_string_minimal_overhead
calculateByteCount
char_count
_string_data_offset
_string_minimal_overhead
if
formatted_run
block
short
run_count
getShort
data
index
_string_data_offset
_string_data_offset
SHORT_SIZE
_total_length_bytes
SHORT_SIZE
INT_SIZE
run_count
if
extended
block
int
extension_length
getInt
data
index
_string_data_offset
_string_data_offset
INT_SIZE
_total_length_bytes
INT_SIZE
extension_length
processString
data
byte
index
int
char_count
short
byte
str_data
byte
_total_length_bytes
int
length
_string_minimal_overhead
calculateByteCount
char_count
byte
bstring
byte
length
arraycopy
data
index
str_data
length
int
offset
putShort
bstring
offset
char_count
offset
SHORT_SIZE
bstring
offset
str_data
offset
arraycopy
str_data
_string_data_offset
bstring
_string_minimal_overhead
length
_string_minimal_overhead
UnicodeString
string
UnicodeString
sid
short
length
bstring
if
getExpectedChars
block
_unfinished_string
getString
block
Integer
integer
Integer
size
put
integer
string
setExpectedChars
count
int
__expected_chars
count
calculateByteCount
int
character_count
int
return
character_count
_wide_char
SHORT_SIZE
BYTE_SIZE
calculateCharCount
int
byte_count
int
return
byte_count
_wide_char
SHORT_SIZE
BYTE_SIZE
getRecordSize
int
_record_lengths
ArrayList
int
retval
int
unicodesize
calculateUnicodeSize
if
unicodesize
_max_data_space
block
UnicodeString
unistr
int
stringreminant
int
unipos
boolean
lastneedcontinue
int
stringbyteswritten
boolean
finished
boolean
first_record
int
totalWritten
while
finished
block
int
record
int
pos
if
first_record
block
record
_max
pos
first_record
add
Integer
record
_std_record_overhead
block
pos
int
to_be_written
unicodesize
stringbyteswritten
lastneedcontinue
int
size
min
_max
_std_record_overhead
to_be_written
if
size
to_be_written
block
finished
record
size
_std_record_overhead
add
Integer
size
pos
if
lastneedcontinue
block
int
available
_max
pos
if
stringreminant
available
block
stringbyteswritten
stringreminant
pos
stringreminant
lastneedcontinue
block
int
toBeWritten
maxBrokenLength
available
if
available
toBeWritten
block
int
shortrecord
record
available
toBeWritten
set
size
Integer
shortrecord
_std_record_overhead
record
shortrecord
stringbyteswritten
toBeWritten
pos
toBeWritten
stringreminant
toBeWritten
lastneedcontinue
for
forControl
unipos
size
unipos
block
int
available
_max
pos
Integer
intunipos
Integer
unipos
unistr
UnicodeString
get
intunipos
if
getRecordSize
available
block
stringbyteswritten
getRecordSize
pos
getRecordSize
block
if
available
_string_minimal_overhead
block
int
toBeWritten
maxBrokenLength
available
stringbyteswritten
toBeWritten
stringreminant
getRecordSize
toBeWritten
BYTE_SIZE
if
available
toBeWritten
block
int
shortrecord
record
available
toBeWritten
set
size
Integer
shortrecord
_std_record_overhead
record
shortrecord
lastneedcontinue
unipos
block
int
shortrecord
record
available
set
size
Integer
shortrecord
_std_record_overhead
record
shortrecord
break
totalWritten
record
retval
totalWritten
block
retval
_sst_record_overhead
unicodesize
add
Integer
unicodesize
return
retval
calculateUnicodeSize
int
int
retval
for
forControl
int
k
k
size
k
block
UnicodeString
string
UnicodeString
get
Integer
k
retval
getRecordSize
return
retval
Record
