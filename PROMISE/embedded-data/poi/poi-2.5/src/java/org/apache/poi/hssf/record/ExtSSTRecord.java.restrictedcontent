ExtSSTRecord
int
DEFAULT_BUCKET_SIZE
int
MAX_BUCKETS
short
sid
short
field_1_strings_per_bucket
DEFAULT_BUCKET_SIZE
ArrayList
field_2_sst_info
ExtSSTRecord
field_2_sst_info
ArrayList
ExtSSTRecord
id
short
size
short
data
byte
id
size
data
ExtSSTRecord
id
short
size
short
data
byte
offset
int
id
size
data
offset
validateSid
id
short
if
id
sid
block
throw
RecordFormatException
fillFields
data
byte
size
short
offset
int
field_2_sst_info
ArrayList
field_1_strings_per_bucket
getShort
data
offset
for
forControl
int
k
k
size
offset
k
block
byte
tempdata
byte
offset
arraycopy
data
k
tempdata
ExtSSTInfoSubRecord
rec
ExtSSTInfoSubRecord
short
short
tempdata
add
rec
setNumStringsPerBucket
numStrings
short
field_1_strings_per_bucket
numStrings
addInfoRecord
rec
ExtSSTInfoSubRecord
add
rec
getNumStringsPerBucket
short
return
field_1_strings_per_bucket
getNumInfoRecords
int
return
size
getInfoRecordAt
ExtSSTInfoSubRecord
elem
int
return
ExtSSTInfoSubRecord
get
elem
toString
String
StringBuffer
buffer
StringBuffer
append
append
append
toHexString
getNumStringsPerBucket
append
append
append
getNumInfoRecords
append
for
forControl
int
k
k
getNumInfoRecords
k
block
append
append
k
append
append
append
toHexString
getInfoRecordAt
getStreamPos
k
append
append
append
toHexString
getInfoRecordAt
getBucketSSTOffset
k
append
append
return
toString
serialize
int
offset
int
data
byte
putShort
data
offset
sid
putShort
data
offset
short
getRecordSize
putShort
data
offset
field_1_strings_per_bucket
int
pos
for
forControl
int
k
k
getNumInfoRecords
k
block
ExtSSTInfoSubRecord
rec
getInfoRecordAt
k
pos
serialize
pos
offset
data
return
pos
getRecordSize
int
return
getNumInfoRecords
getNumberOfInfoRecsForStrings
int
numStrings
int
int
infoRecs
numStrings
DEFAULT_BUCKET_SIZE
if
numStrings
DEFAULT_BUCKET_SIZE
infoRecs
if
infoRecs
MAX_BUCKETS
infoRecs
MAX_BUCKETS
return
infoRecs
getRecordSizeForStrings
int
numStrings
int
return
getNumberOfInfoRecsForStrings
numStrings
getSid
short
return
sid
setBucketOffsets
bucketAbsoluteOffsets
int
bucketRelativeOffsets
int
field_2_sst_info
ArrayList
length
for
forControl
int
i
i
length
i
block
ExtSSTInfoSubRecord
r
ExtSSTInfoSubRecord
setBucketRecordOffset
short
bucketRelativeOffsets
i
setStreamPos
bucketAbsoluteOffsets
i
add
r
Record
