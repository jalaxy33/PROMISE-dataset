SlotAllocator
int
_firstAvailableSlot
int
_size
int
_free
int
_slotsTaken
int
_size
initialize
vars
LocalVariableGen
int
length
length
int
slot
size
index
for
forControl
int
i
i
length
i
block
size
vars
i
getType
getSize
index
vars
i
getIndex
slot
max
slot
index
size
_firstAvailableSlot
slot
allocateSlot
int
type
Type
int
size
getSize
int
limit
_free
int
slot
_firstAvailableSlot
where
if
_free
size
_size
block
int
array
int
_size
for
forControl
int
j
j
limit
j
array
j
_slotsTaken
j
_slotsTaken
array
while
where
limit
block
if
slot
size
_slotsTaken
where
block
for
forControl
int
j
limit
j
where
j
_slotsTaken
j
size
_slotsTaken
j
break
block
slot
_slotsTaken
where
for
forControl
int
j
j
size
j
_slotsTaken
where
j
slot
j
_free
size
return
slot
releaseSlot
lvg
LocalVariableGen
int
size
getType
getSize
int
slot
getIndex
int
limit
_free
for
forControl
int
i
i
limit
i
block
if
_slotsTaken
i
slot
block
int
j
i
size
while
j
limit
block
_slotsTaken
i
_slotsTaken
j
_free
size
return
String
state
size
slot
limit
ErrorMsg
err
ErrorMsg
INTERNAL_ERR
state
throw
Error
toString
