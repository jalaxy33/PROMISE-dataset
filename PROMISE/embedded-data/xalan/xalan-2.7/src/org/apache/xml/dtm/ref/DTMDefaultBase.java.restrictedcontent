DTMDefaultBase
boolean
JJK_DEBUG
int
ROOTNODE
int
m_size
SuballocatedIntVector
m_exptype
SuballocatedIntVector
m_firstch
SuballocatedIntVector
m_nextsib
SuballocatedIntVector
m_prevsib
SuballocatedIntVector
m_parent
Vector
m_namespaceDeclSets
SuballocatedIntVector
m_namespaceDeclSetElements
int
m_elemIndexes
int
DEFAULT_BLOCKSIZE
int
DEFAULT_NUMBLOCKS
int
DEFAULT_NUMBLOCKS_SMALL
int
NOTPROCESSED
NULL
DTMManager
m_mgr
DTMManagerDefault
m_mgrDefault
SuballocatedIntVector
m_dtmIdent
String
m_documentBaseURI
DTMWSFilter
m_wsfilter
boolean
m_shouldStripWS
BoolStack
m_shouldStripWhitespaceStack
XMLStringFactory
m_xstrf
ExpandedNameTable
m_expandedNameTable
boolean
m_indexing
DTMDefaultBase
mgr
DTMManager
source
Source
dtmIdentity
int
whiteSpaceFilter
DTMWSFilter
xstringfactory
XMLStringFactory
doIndexing
boolean
mgr
source
dtmIdentity
whiteSpaceFilter
xstringfactory
doIndexing
DEFAULT_BLOCKSIZE
DTMDefaultBase
mgr
DTMManager
source
Source
dtmIdentity
int
whiteSpaceFilter
DTMWSFilter
xstringfactory
XMLStringFactory
doIndexing
boolean
blocksize
int
usePrevsib
boolean
newNameTable
boolean
int
numblocks
if
blocksize
block
numblocks
DEFAULT_NUMBLOCKS_SMALL
m_dtmIdent
SuballocatedIntVector
block
numblocks
DEFAULT_NUMBLOCKS
m_dtmIdent
SuballocatedIntVector
m_exptype
SuballocatedIntVector
blocksize
numblocks
m_firstch
SuballocatedIntVector
blocksize
numblocks
m_nextsib
SuballocatedIntVector
blocksize
numblocks
m_parent
SuballocatedIntVector
blocksize
numblocks
if
usePrevsib
m_prevsib
SuballocatedIntVector
blocksize
numblocks
m_mgr
mgr
if
mgr
DTMManagerDefault
m_mgrDefault
DTMManagerDefault
mgr
m_documentBaseURI
source
getSystemId
setElementAt
dtmIdentity
m_wsfilter
whiteSpaceFilter
m_xstrf
xstringfactory
m_indexing
doIndexing
if
doIndexing
block
m_expandedNameTable
ExpandedNameTable
block
m_expandedNameTable
getExpandedNameTable
if
whiteSpaceFilter
block
m_shouldStripWhitespaceStack
BoolStack
pushShouldStripWhitespace
ensureSizeOfIndex
namespaceID
int
LocalNameID
int
if
m_elemIndexes
block
m_elemIndexes
int
namespaceID
if
length
namespaceID
block
int
indexes
m_elemIndexes
m_elemIndexes
int
namespaceID
arraycopy
indexes
m_elemIndexes
length
int
localNameIndex
m_elemIndexes
namespaceID
if
localNameIndex
block
localNameIndex
int
LocalNameID
m_elemIndexes
namespaceID
localNameIndex
if
length
LocalNameID
block
int
indexes
localNameIndex
localNameIndex
int
LocalNameID
arraycopy
indexes
localNameIndex
length
m_elemIndexes
namespaceID
localNameIndex
int
elemHandles
localNameIndex
LocalNameID
if
elemHandles
block
elemHandles
int
localNameIndex
LocalNameID
elemHandles
elemHandles
if
length
elemHandles
block
int
indexes
elemHandles
elemHandles
int
elemHandles
arraycopy
indexes
elemHandles
length
localNameIndex
LocalNameID
elemHandles
indexNode
expandedTypeID
int
identity
int
ExpandedNameTable
ent
m_expandedNameTable
short
type
getType
expandedTypeID
if
ELEMENT_NODE
type
block
int
namespaceID
getNamespaceID
expandedTypeID
int
localNameID
getLocalNameID
expandedTypeID
ensureSizeOfIndex
namespaceID
localNameID
int
index
m_elemIndexes
namespaceID
localNameID
index
index
identity
index
findGTE
int
list
int
start
int
len
int
value
int
int
low
start
int
high
start
len
int
end
high
while
low
high
block
int
mid
low
high
int
c
list
mid
if
c
value
high
mid
if
c
value
low
mid
return
mid
return
low
end
list
low
value
low
findElementFromIndex
int
nsIndex
int
lnIndex
int
firstPotential
int
int
indexes
m_elemIndexes
if
indexes
nsIndex
length
block
int
lnIndexs
indexes
nsIndex
if
lnIndexs
lnIndex
length
block
int
elems
lnIndexs
lnIndex
if
elems
block
int
pos
findGTE
elems
elems
firstPotential
if
pos
block
return
elems
pos
return
NOTPROCESSED
getNextNodeIdentity
int
identity
int
nextNode
boolean
getNumberOfNodes
int
DTMAxisTraverser
m_traversers
_type
short
identity
int
int
info
_exptype
identity
if
NULL
info
return
getType
info
return
NULL
_exptype
int
identity
int
if
identity
NULL
return
NULL
while
identity
m_size
block
if
nextNode
identity
m_size
return
NULL
return
elementAt
identity
_level
int
identity
int
while
identity
m_size
block
boolean
isMore
nextNode
if
isMore
identity
m_size
return
NULL
int
i
while
NULL
identity
_parent
identity
i
return
i
_firstch
int
identity
int
int
info
identity
m_size
NOTPROCESSED
elementAt
identity
while
info
NOTPROCESSED
block
boolean
isMore
nextNode
if
identity
m_size
isMore
return
NULL
block
info
elementAt
identity
if
info
NOTPROCESSED
isMore
return
NULL
return
info
_nextsib
int
identity
int
int
info
identity
m_size
NOTPROCESSED
elementAt
identity
while
info
NOTPROCESSED
block
boolean
isMore
nextNode
if
identity
m_size
isMore
return
NULL
block
info
elementAt
identity
if
info
NOTPROCESSED
isMore
return
NULL
return
info
_prevsib
int
identity
int
if
identity
m_size
return
elementAt
identity
while
block
boolean
isMore
nextNode
if
identity
m_size
isMore
return
NULL
if
identity
m_size
return
elementAt
identity
_parent
int
identity
int
if
identity
m_size
return
elementAt
identity
while
block
boolean
isMore
nextNode
if
identity
m_size
isMore
return
NULL
if
identity
m_size
return
elementAt
identity
dumpDTM
os
OutputStream
try
if
os
block
File
f
File
Object
println
getAbsolutePath
os
FileOutputStream
f
PrintStream
ps
PrintStream
os
while
nextNode
block
int
nRecords
m_size
println
nRecords
for
forControl
int
index
index
nRecords
index
block
int
i
makeNodeHandle
index
println
index
i
println
getNodeName
i
println
getNodeNameX
i
println
getLocalName
i
println
getNamespaceURI
i
println
getPrefix
i
int
exTypeID
_exptype
index
println
toHexString
exTypeID
int
type
_type
index
String
typestring
switch
type
case
ATTRIBUTE_NODE
typestring
break
case
CDATA_SECTION_NODE
typestring
break
case
COMMENT_NODE
typestring
break
case
DOCUMENT_FRAGMENT_NODE
typestring
break
case
DOCUMENT_NODE
typestring
break
case
DOCUMENT_TYPE_NODE
typestring
break
case
ELEMENT_NODE
typestring
break
case
ENTITY_NODE
typestring
break
case
ENTITY_REFERENCE_NODE
typestring
break
case
NAMESPACE_NODE
typestring
break
case
NOTATION_NODE
typestring
break
case
NULL
typestring
break
case
PROCESSING_INSTRUCTION_NODE
typestring
break
case
TEXT_NODE
typestring
break
case
typestring
break
println
typestring
int
firstChild
_firstch
index
if
NULL
firstChild
println
if
NOTPROCESSED
firstChild
println
println
firstChild
if
m_prevsib
block
int
prevSibling
_prevsib
index
if
NULL
prevSibling
println
if
NOTPROCESSED
prevSibling
println
println
prevSibling
int
nextSibling
_nextsib
index
if
NULL
nextSibling
println
if
NOTPROCESSED
nextSibling
println
println
nextSibling
int
parent
_parent
index
if
NULL
parent
println
if
NOTPROCESSED
parent
println
println
parent
int
level
_level
index
println
level
println
getNodeValue
i
println
getStringValue
i
catchClause
ioe
printStackTrace
err
throw
RuntimeException
getMessage
dumpNode
String
nodeHandle
int
if
nodeHandle
NULL
return
String
typestring
switch
getNodeType
nodeHandle
case
ATTRIBUTE_NODE
typestring
break
case
CDATA_SECTION_NODE
typestring
break
case
COMMENT_NODE
typestring
break
case
DOCUMENT_FRAGMENT_NODE
typestring
break
case
DOCUMENT_NODE
typestring
break
case
DOCUMENT_TYPE_NODE
typestring
break
case
ELEMENT_NODE
typestring
break
case
ENTITY_NODE
typestring
break
case
ENTITY_REFERENCE_NODE
typestring
break
case
NAMESPACE_NODE
typestring
break
case
NOTATION_NODE
typestring
break
case
NULL
typestring
break
case
PROCESSING_INSTRUCTION_NODE
typestring
break
case
TEXT_NODE
typestring
break
case
typestring
break
StringBuffer
sb
StringBuffer
append
nodeHandle
typestring
toHexString
getExpandedTypeID
nodeHandle
getNodeNameX
nodeHandle
getNamespaceURI
nodeHandle
getNodeValue
nodeHandle
return
toString
setFeature
featureId
String
state
boolean
hasChildNodes
boolean
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
firstChild
_firstch
identity
return
firstChild
NULL
makeNodeHandle
int
nodeIdentity
int
if
NULL
nodeIdentity
return
NULL
if
JJK_DEBUG
nodeIdentity
IDENT_NODE_DEFAULT
println
return
elementAt
nodeIdentity
IDENT_DTM_NODE_BITS
nodeIdentity
IDENT_NODE_DEFAULT
makeNodeIdentity
int
nodeHandle
int
if
NULL
nodeHandle
return
NULL
if
m_mgrDefault
block
int
whichDTMindex
nodeHandle
IDENT_DTM_NODE_BITS
if
m_dtms
whichDTMindex
return
NULL
return
m_dtm_offsets
whichDTMindex
nodeHandle
IDENT_NODE_DEFAULT
int
whichDTMid
indexOf
nodeHandle
IDENT_DTM_DEFAULT
return
whichDTMid
NULL
NULL
whichDTMid
IDENT_DTM_NODE_BITS
nodeHandle
IDENT_NODE_DEFAULT
getFirstChild
int
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
firstChild
_firstch
identity
return
makeNodeHandle
firstChild
getTypedFirstChild
int
nodeHandle
int
nodeType
int
int
firstChild
eType
if
nodeType
NTYPES
block
for
forControl
firstChild
_firstch
makeNodeIdentity
nodeHandle
firstChild
NULL
firstChild
_nextsib
firstChild
block
eType
_exptype
firstChild
if
eType
nodeType
eType
NTYPES
getType
eType
nodeType
block
return
makeNodeHandle
firstChild
block
for
forControl
firstChild
_firstch
makeNodeIdentity
nodeHandle
firstChild
NULL
firstChild
_nextsib
firstChild
block
if
_exptype
firstChild
nodeType
block
return
makeNodeHandle
firstChild
return
NULL
getLastChild
int
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
child
_firstch
identity
int
lastChild
NULL
while
child
NULL
block
lastChild
child
child
_nextsib
child
return
makeNodeHandle
lastChild
getAttributeNode
int
nodeHandle
int
namespaceURI
String
name
String
getFirstAttribute
int
nodeHandle
int
int
nodeID
makeNodeIdentity
nodeHandle
return
makeNodeHandle
getFirstAttributeIdentity
nodeID
getFirstAttributeIdentity
int
identity
int
int
type
_type
identity
if
ELEMENT_NODE
type
block
while
NULL
identity
getNextNodeIdentity
identity
block
type
_type
identity
if
type
ATTRIBUTE_NODE
block
return
identity
if
NAMESPACE_NODE
type
block
break
return
NULL
getTypedAttribute
int
nodeHandle
int
attType
int
int
type
getNodeType
nodeHandle
if
ELEMENT_NODE
type
block
int
identity
makeNodeIdentity
nodeHandle
while
NULL
identity
getNextNodeIdentity
identity
block
type
_type
identity
if
type
ATTRIBUTE_NODE
block
if
_exptype
identity
attType
return
makeNodeHandle
identity
if
NAMESPACE_NODE
type
block
break
return
NULL
getNextSibling
int
nodeHandle
int
if
nodeHandle
NULL
return
NULL
return
makeNodeHandle
_nextsib
makeNodeIdentity
nodeHandle
getTypedNextSibling
int
nodeHandle
int
nodeType
int
if
nodeHandle
NULL
return
NULL
int
node
makeNodeIdentity
nodeHandle
int
eType
while
node
_nextsib
node
NULL
eType
_exptype
node
nodeType
getType
eType
nodeType
return
node
NULL
NULL
makeNodeHandle
node
getPreviousSibling
int
nodeHandle
int
if
nodeHandle
NULL
return
NULL
if
m_prevsib
return
makeNodeHandle
_prevsib
makeNodeIdentity
nodeHandle
block
int
nodeID
makeNodeIdentity
nodeHandle
int
parent
_parent
nodeID
int
node
_firstch
parent
int
result
NULL
while
node
nodeID
block
result
node
node
_nextsib
node
return
makeNodeHandle
result
getNextAttribute
int
nodeHandle
int
int
nodeID
makeNodeIdentity
nodeHandle
if
_type
nodeID
ATTRIBUTE_NODE
block
return
makeNodeHandle
getNextAttributeIdentity
nodeID
return
NULL
getNextAttributeIdentity
int
identity
int
while
NULL
identity
getNextNodeIdentity
identity
block
int
type
_type
identity
if
type
ATTRIBUTE_NODE
block
return
identity
if
type
NAMESPACE_NODE
block
break
return
NULL
Vector
m_namespaceLists
declareNamespaceInContext
elementNodeIndex
int
namespaceNodeIndex
int
SuballocatedIntVector
nsList
if
m_namespaceDeclSets
block
m_namespaceDeclSetElements
SuballocatedIntVector
addElement
elementNodeIndex
m_namespaceDeclSets
Vector
nsList
SuballocatedIntVector
addElement
nsList
block
int
last
size
if
last
elementNodeIndex
elementAt
last
block
nsList
SuballocatedIntVector
elementAt
last
if
nsList
block
addElement
elementNodeIndex
SuballocatedIntVector
inherited
findNamespaceContext
_parent
elementNodeIndex
if
inherited
block
int
isize
size
nsList
SuballocatedIntVector
max
min
isize
for
forControl
int
i
i
isize
i
block
addElement
elementAt
i
block
nsList
SuballocatedIntVector
addElement
nsList
int
newEType
_exptype
namespaceNodeIndex
for
forControl
int
i
size
i
i
block
if
newEType
getExpandedTypeID
elementAt
i
block
setElementAt
makeNodeHandle
namespaceNodeIndex
i
return
addElement
makeNodeHandle
namespaceNodeIndex
findNamespaceContext
SuballocatedIntVector
elementNodeIndex
int
if
m_namespaceDeclSetElements
block
int
wouldBeAt
findInSortedSuballocatedIntVector
m_namespaceDeclSetElements
elementNodeIndex
if
wouldBeAt
return
SuballocatedIntVector
elementAt
wouldBeAt
if
wouldBeAt
return
wouldBeAt
wouldBeAt
int
candidate
elementAt
wouldBeAt
int
ancestor
_parent
elementNodeIndex
if
wouldBeAt
candidate
ancestor
block
int
rootHandle
getDocumentRoot
makeNodeHandle
elementNodeIndex
int
rootID
makeNodeIdentity
rootHandle
int
uppermostNSCandidateID
if
getNodeType
rootHandle
DOCUMENT_NODE
block
int
ch
_firstch
rootID
uppermostNSCandidateID
ch
NULL
ch
rootID
block
uppermostNSCandidateID
rootID
if
candidate
uppermostNSCandidateID
block
return
SuballocatedIntVector
elementAt
wouldBeAt
while
wouldBeAt
ancestor
block
if
candidate
ancestor
block
return
SuballocatedIntVector
elementAt
wouldBeAt
if
candidate
ancestor
block
do
candidate
ancestor
block
ancestor
_parent
ancestor
if
wouldBeAt
block
candidate
elementAt
wouldBeAt
break
return
findInSortedSuballocatedIntVector
int
vector
SuballocatedIntVector
lookfor
int
int
i
if
vector
block
int
first
int
last
size
while
first
last
block
i
first
last
int
test
lookfor
elementAt
i
if
test
block
return
i
if
test
block
last
i
block
first
i
if
first
i
block
i
first
return
i
getFirstNamespaceNode
int
nodeHandle
int
inScope
boolean
if
inScope
block
int
identity
makeNodeIdentity
nodeHandle
if
_type
identity
ELEMENT_NODE
block
SuballocatedIntVector
nsContext
findNamespaceContext
identity
if
nsContext
size
return
NULL
return
elementAt
return
NULL
block
int
identity
makeNodeIdentity
nodeHandle
if
_type
identity
ELEMENT_NODE
block
while
NULL
identity
getNextNodeIdentity
identity
block
int
type
_type
identity
if
type
NAMESPACE_NODE
return
makeNodeHandle
identity
if
ATTRIBUTE_NODE
type
break
return
NULL
return
NULL
getNextNamespaceNode
int
baseHandle
int
nodeHandle
int
inScope
boolean
if
inScope
block
SuballocatedIntVector
nsContext
findNamespaceContext
makeNodeIdentity
baseHandle
if
nsContext
return
NULL
int
i
indexOf
nodeHandle
if
i
i
size
return
NULL
return
elementAt
i
block
int
identity
makeNodeIdentity
nodeHandle
while
NULL
identity
getNextNodeIdentity
identity
block
int
type
_type
identity
if
type
NAMESPACE_NODE
block
return
makeNodeHandle
identity
if
type
ATTRIBUTE_NODE
block
break
return
NULL
getParent
int
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
if
identity
return
makeNodeHandle
_parent
identity
return
NULL
getDocument
int
return
elementAt
getOwnerDocument
int
nodeHandle
int
if
DOCUMENT_NODE
getNodeType
nodeHandle
return
NULL
return
getDocumentRoot
nodeHandle
getDocumentRoot
int
nodeHandle
int
return
getDocument
getStringValue
XMLString
nodeHandle
int
getStringValueChunkCount
int
nodeHandle
int
error
createXMLMessage
ER_METHOD_NOT_SUPPORTED
return
getStringValueChunk
char
nodeHandle
int
chunkIndex
int
startAndLen
int
error
createXMLMessage
ER_METHOD_NOT_SUPPORTED
return
getExpandedTypeID
int
nodeHandle
int
int
id
makeNodeIdentity
nodeHandle
if
id
NULL
return
NULL
return
_exptype
id
getExpandedTypeID
int
namespace
String
localName
String
type
int
ExpandedNameTable
ent
m_expandedNameTable
return
getExpandedTypeID
namespace
localName
type
getLocalNameFromExpandedNameID
String
expandedNameID
int
return
getLocalName
expandedNameID
getNamespaceFromExpandedNameID
String
expandedNameID
int
return
getNamespace
expandedNameID
getNamespaceType
int
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
expandedNameID
_exptype
identity
return
getNamespaceID
expandedNameID
getNodeName
String
nodeHandle
int
getNodeNameX
String
nodeHandle
int
error
createXMLMessage
ER_METHOD_NOT_SUPPORTED
return
getLocalName
String
nodeHandle
int
getPrefix
String
nodeHandle
int
getNamespaceURI
String
nodeHandle
int
getNodeValue
String
nodeHandle
int
getNodeType
short
nodeHandle
int
if
nodeHandle
NULL
return
NULL
return
getType
_exptype
makeNodeIdentity
nodeHandle
getLevel
short
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
return
short
_level
identity
getNodeIdent
int
nodeHandle
int
return
makeNodeIdentity
nodeHandle
getNodeHandle
int
nodeId
int
return
makeNodeHandle
nodeId
isSupported
boolean
feature
String
version
String
return
getDocumentBaseURI
String
return
m_documentBaseURI
setDocumentBaseURI
baseURI
String
m_documentBaseURI
baseURI
getDocumentSystemIdentifier
String
nodeHandle
int
return
m_documentBaseURI
getDocumentEncoding
String
nodeHandle
int
return
getDocumentStandalone
String
nodeHandle
int
return
getDocumentVersion
String
documentHandle
int
return
getDocumentAllDeclarationsProcessed
boolean
return
getDocumentTypeDeclarationSystemIdentifier
String
getDocumentTypeDeclarationPublicIdentifier
String
getElementById
int
elementId
String
getUnparsedEntityURI
String
name
String
supportsPreStripping
boolean
return
isNodeAfter
boolean
nodeHandle1
int
nodeHandle2
int
int
index1
makeNodeIdentity
nodeHandle1
int
index2
makeNodeIdentity
nodeHandle2
return
index1
NULL
index2
NULL
index1
index2
isCharacterElementContentWhitespace
boolean
nodeHandle
int
return
isDocumentAllDeclarationsProcessed
boolean
documentHandle
int
return
isAttributeSpecified
boolean
attributeHandle
int
dispatchCharactersEvents
nodeHandle
int
ch
org
xml
sax
ContentHandler
normalize
boolean
dispatchToEvents
nodeHandle
int
ch
org
xml
sax
ContentHandler
getNode
org
w3c
dom
Node
nodeHandle
int
return
DTMNodeProxy
nodeHandle
appendChild
newChild
int
clone
boolean
cloneDepth
boolean
error
createXMLMessage
ER_METHOD_NOT_SUPPORTED
appendTextChild
str
String
error
createXMLMessage
ER_METHOD_NOT_SUPPORTED
error
msg
String
throw
DTMException
msg
getShouldStripWhitespace
boolean
return
m_shouldStripWS
pushShouldStripWhitespace
shouldStrip
boolean
m_shouldStripWS
shouldStrip
if
m_shouldStripWhitespaceStack
push
shouldStrip
popShouldStripWhitespace
if
m_shouldStripWhitespaceStack
m_shouldStripWS
popAndTop
setShouldStripWhitespace
shouldStrip
boolean
m_shouldStripWS
shouldStrip
if
m_shouldStripWhitespaceStack
setTop
shouldStrip
documentRegistration
documentRelease
migrateTo
mgr
DTMManager
m_mgr
mgr
if
mgr
DTMManagerDefault
m_mgrDefault
DTMManagerDefault
mgr
getManager
DTMManager
return
m_mgr
getDTMIDs
SuballocatedIntVector
if
m_mgr
return
return
m_dtmIdent
DTM
