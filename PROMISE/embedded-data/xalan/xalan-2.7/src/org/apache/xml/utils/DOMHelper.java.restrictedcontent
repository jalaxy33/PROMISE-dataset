DOMHelper
createDocument
Document
isSecureProcessing
boolean
try
DocumentBuilderFactory
dfactory
newInstance
setNamespaceAware
setValidating
if
isSecureProcessing
block
try
setFeature
FEATURE_SECURE_PROCESSING
catchClause
pce
DocumentBuilder
docBuilder
newDocumentBuilder
Document
outNode
newDocument
return
outNode
catchClause
pce
throw
RuntimeException
createXMLMessage
ER_CREATEDOCUMENT_NOT_SUPPORTED
createDocument
Document
return
createDocument
shouldStripSourceNode
boolean
textNode
Node
return
getUniqueID
String
node
Node
return
toHexString
toUpperCase
hashCode
isNodeAfter
boolean
node1
Node
node2
Node
if
node1
node2
isNodeTheSame
node1
node2
return
boolean
isNodeAfter
Node
parent1
getParentOfNode
node1
Node
parent2
getParentOfNode
node2
if
parent1
parent2
isNodeTheSame
parent1
parent2
block
if
parent1
isNodeAfter
isNodeAfterSibling
parent1
node1
node2
block
block
int
nParents1
nParents2
while
parent1
block
nParents1
parent1
getParentOfNode
parent1
while
parent2
block
nParents2
parent2
getParentOfNode
parent2
Node
startNode1
node1
startNode2
node2
if
nParents1
nParents2
block
int
adjust
nParents2
nParents1
for
forControl
int
i
i
adjust
i
block
startNode2
getParentOfNode
startNode2
if
nParents1
nParents2
block
int
adjust
nParents1
nParents2
for
forControl
int
i
i
adjust
i
block
startNode1
getParentOfNode
startNode1
Node
prevChild1
prevChild2
while
startNode1
block
if
startNode1
startNode2
isNodeTheSame
startNode1
startNode2
block
if
prevChild1
block
isNodeAfter
nParents1
nParents2
break
block
isNodeAfter
isNodeAfterSibling
startNode1
prevChild1
prevChild2
break
prevChild1
startNode1
startNode1
getParentOfNode
startNode1
prevChild2
startNode2
startNode2
getParentOfNode
startNode2
return
isNodeAfter
isNodeTheSame
boolean
node1
Node
node2
Node
if
node1
DTMNodeProxy
node2
DTMNodeProxy
return
DTMNodeProxy
node1
return
node1
node2
isNodeAfterSibling
boolean
parent
Node
child1
Node
child2
Node
boolean
isNodeAfterSibling
short
child1type
getNodeType
short
child2type
getNodeType
if
ATTRIBUTE_NODE
child1type
ATTRIBUTE_NODE
child2type
block
isNodeAfterSibling
if
ATTRIBUTE_NODE
child1type
ATTRIBUTE_NODE
child2type
block
isNodeAfterSibling
if
ATTRIBUTE_NODE
child1type
block
NamedNodeMap
children
getAttributes
int
nNodes
getLength
boolean
found1
found2
for
forControl
int
i
i
nNodes
i
block
Node
child
item
i
if
child1
child
isNodeTheSame
child1
child
block
if
found2
block
isNodeAfterSibling
break
found1
if
child2
child
isNodeTheSame
child2
child
block
if
found1
block
isNodeAfterSibling
break
found2
block
Node
child
getFirstChild
boolean
found1
found2
while
child
block
if
child1
child
isNodeTheSame
child1
child
block
if
found2
block
isNodeAfterSibling
break
found1
if
child2
child
isNodeTheSame
child2
child
block
if
found1
block
isNodeAfterSibling
break
found2
child
getNextSibling
return
isNodeAfterSibling
getLevel
short
n
Node
short
level
while
n
getParentOfNode
n
block
level
return
level
getNamespaceForPrefix
String
prefix
String
namespaceContext
Element
int
type
Node
parent
namespaceContext
String
namespace
if
equals
block
namespace
S_XMLNAMESPACEURI
if
equals
block
namespace
block
String
declname
prefix
prefix
while
parent
namespace
type
getNodeType
ELEMENT_NODE
type
ENTITY_REFERENCE_NODE
block
if
type
ELEMENT_NODE
block
Attr
attr
Element
parent
if
attr
block
namespace
getNodeValue
break
parent
getParentOfNode
parent
return
namespace
Hashtable
m_NSInfos
Hashtable
NSInfo
m_NSInfoUnProcWithXMLNS
NSInfo
NSInfo
m_NSInfoUnProcWithoutXMLNS
NSInfo
NSInfo
m_NSInfoUnProcNoAncestorXMLNS
NSInfo
ANCESTORNOXMLNS
NSInfo
m_NSInfoNullWithXMLNS
NSInfo
NSInfo
m_NSInfoNullWithoutXMLNS
NSInfo
NSInfo
m_NSInfoNullNoAncestorXMLNS
NSInfo
ANCESTORNOXMLNS
Vector
m_candidateNoAncestorXMLNS
Vector
getNamespaceOfNode
String
n
Node
String
namespaceOfPrefix
boolean
hasProcessedNS
NSInfo
nsInfo
short
ntype
getNodeType
if
ATTRIBUTE_NODE
ntype
block
Object
nsObj
get
n
nsInfo
nsObj
NSInfo
nsObj
hasProcessedNS
nsInfo
m_hasProcessedNS
block
hasProcessedNS
nsInfo
if
hasProcessedNS
block
namespaceOfPrefix
m_namespace
block
namespaceOfPrefix
String
nodeName
getNodeName
int
indexOfNSSep
indexOf
String
prefix
if
ATTRIBUTE_NODE
ntype
block
if
indexOfNSSep
block
prefix
substring
indexOfNSSep
block
return
namespaceOfPrefix
block
prefix
indexOfNSSep
substring
indexOfNSSep
boolean
ancestorsHaveXMLNS
boolean
nHasXMLNS
if
equals
block
namespaceOfPrefix
S_XMLNAMESPACEURI
block
int
parentType
Node
parent
n
while
parent
namespaceOfPrefix
block
if
nsInfo
m_ancestorHasXMLNSAttrs
ANCESTORNOXMLNS
block
break
parentType
getNodeType
if
nsInfo
m_hasXMLNSAttrs
block
boolean
elementHasXMLNS
if
parentType
ELEMENT_NODE
block
NamedNodeMap
nnm
getAttributes
for
forControl
int
i
i
getLength
i
block
Node
attr
item
i
String
aname
getNodeName
if
charAt
block
boolean
isPrefix
startsWith
if
equals
isPrefix
block
if
n
parent
nHasXMLNS
elementHasXMLNS
ancestorsHaveXMLNS
String
p
isPrefix
substring
if
equals
prefix
block
namespaceOfPrefix
getNodeValue
break
if
ATTRIBUTE_NODE
parentType
nsInfo
n
parent
block
nsInfo
elementHasXMLNS
m_NSInfoUnProcWithXMLNS
m_NSInfoUnProcWithoutXMLNS
put
parent
nsInfo
if
ATTRIBUTE_NODE
parentType
block
parent
getParentOfNode
parent
block
addElement
parent
addElement
nsInfo
parent
getParentNode
if
parent
block
Object
nsObj
get
parent
nsInfo
nsObj
NSInfo
nsObj
int
nCandidates
size
if
nCandidates
block
if
ancestorsHaveXMLNS
parent
block
for
forControl
int
i
i
nCandidates
i
block
Object
candidateInfo
elementAt
i
if
candidateInfo
m_NSInfoUnProcWithoutXMLNS
block
put
elementAt
i
m_NSInfoUnProcNoAncestorXMLNS
if
candidateInfo
m_NSInfoNullWithoutXMLNS
block
put
elementAt
i
m_NSInfoNullNoAncestorXMLNS
removeAllElements
if
ATTRIBUTE_NODE
ntype
block
if
namespaceOfPrefix
block
if
ancestorsHaveXMLNS
block
if
nHasXMLNS
put
n
m_NSInfoNullWithXMLNS
put
n
m_NSInfoNullWithoutXMLNS
block
put
n
m_NSInfoNullNoAncestorXMLNS
block
put
n
NSInfo
namespaceOfPrefix
nHasXMLNS
return
namespaceOfPrefix
getLocalNameOfNode
String
n
Node
String
qname
getNodeName
int
index
indexOf
return
index
qname
substring
index
getExpandedElementName
String
elem
Element
String
namespace
getNamespaceOfNode
elem
return
namespace
namespace
getLocalNameOfNode
elem
getLocalNameOfNode
elem
getExpandedAttributeName
String
attr
Attr
String
namespace
getNamespaceOfNode
attr
return
namespace
namespace
getLocalNameOfNode
attr
getLocalNameOfNode
attr
isIgnorableWhitespace
boolean
node
Text
boolean
isIgnorable
return
isIgnorable
getRoot
Node
node
Node
Node
root
while
node
block
root
node
node
getParentOfNode
node
return
root
getRootNode
Node
n
Node
int
nt
getNodeType
return
DOCUMENT_NODE
nt
DOCUMENT_FRAGMENT_NODE
nt
n
getOwnerDocument
isNamespaceNode
boolean
n
Node
if
ATTRIBUTE_NODE
getNodeType
block
String
attrName
getNodeName
return
startsWith
equals
return
getParentOfNode
Node
node
Node
Node
parent
short
nodeType
getNodeType
if
ATTRIBUTE_NODE
nodeType
block
Document
doc
getOwnerDocument
DOMImplementation
impl
getImplementation
if
impl
hasFeature
block
parent
Attr
node
return
parent
Element
rootElem
getDocumentElement
if
rootElem
block
throw
RuntimeException
createXMLMessage
ER_CHILD_HAS_NO_OWNER_DOCUMENT_ELEMENT
parent
locateAttrParent
rootElem
node
block
parent
getParentNode
return
parent
getElementByID
Element
id
String
doc
Document
return
getUnparsedEntityURI
String
name
String
doc
Document
String
url
DocumentType
doctype
getDoctype
if
doctype
block
NamedNodeMap
entities
getEntities
if
entities
return
url
Entity
entity
Entity
getNamedItem
name
if
entity
return
url
String
notationName
getNotationName
if
notationName
block
url
getSystemId
if
url
block
url
getPublicId
block
return
url
locateAttrParent
Node
elem
Element
attr
Node
Node
parent
Attr
check
getAttributeNode
getNodeName
if
check
attr
parent
elem
if
parent
block
for
forControl
Node
node
getFirstChild
node
node
getNextSibling
block
if
ELEMENT_NODE
getNodeType
block
parent
locateAttrParent
Element
node
attr
if
parent
break
return
parent
Document
m_DOMFactory
setDOMFactory
domFactory
Document
m_DOMFactory
domFactory
getDOMFactory
Document
if
m_DOMFactory
block
m_DOMFactory
createDocument
return
m_DOMFactory
getNodeData
String
node
Node
FastStringBuffer
buf
get
String
s
try
getNodeData
node
buf
s
length
toString
free
buf
return
s
getNodeData
node
Node
buf
FastStringBuffer
switch
getNodeType
case
DOCUMENT_FRAGMENT_NODE
DOCUMENT_NODE
ELEMENT_NODE
block
for
forControl
Node
child
getFirstChild
child
child
getNextSibling
block
getNodeData
child
buf
break
case
TEXT_NODE
CDATA_SECTION_NODE
append
getNodeValue
break
case
ATTRIBUTE_NODE
append
getNodeValue
break
case
PROCESSING_INSTRUCTION_NODE
break
case
break
