FunctionCall
QName
_fname
Vector
_arguments
Vector
EMPTY_ARG_LIST
Vector
String
EXT_XSLTC
TRANSLET_URI
String
JAVA_EXT_XSLTC
EXT_XSLTC
String
EXT_XALAN
String
JAVA_EXT_XALAN
String
JAVA_EXT_XALAN_OLD
String
EXSLT_COMMON
String
EXSLT_MATH
String
EXSLT_SETS
String
EXSLT_DATETIME
String
EXSLT_STRINGS
int
NAMESPACE_FORMAT_JAVA
int
NAMESPACE_FORMAT_CLASS
int
NAMESPACE_FORMAT_PACKAGE
int
NAMESPACE_FORMAT_CLASS_OR_PACKAGE
int
_namespace_format
NAMESPACE_FORMAT_JAVA
Expression
_thisArgument
String
_className
Class
_clazz
Method
_chosenMethod
Constructor
_chosenConstructor
MethodType
_chosenMethodType
boolean
unresolvedExternal
boolean
_isExtConstructor
boolean
_isStatic
MultiHashtable
_internal2Java
MultiHashtable
Hashtable
_java2Internal
Hashtable
Hashtable
_extensionNamespaceTable
Hashtable
Hashtable
_extensionFunctionTable
Hashtable
JavaType
Class
type
int
distance
JavaType
type
Class
distance
int
type
type
distance
distance
equals
boolean
query
Object
return
equals
type
try
Class
nodeClass
forName
Class
nodeListClass
forName
put
Boolean
JavaType
TYPE
put
Boolean
JavaType
Boolean
put
Boolean
JavaType
Object
put
Real
JavaType
TYPE
put
Real
JavaType
Double
put
Real
JavaType
TYPE
put
Real
JavaType
TYPE
put
Real
JavaType
TYPE
put
Real
JavaType
TYPE
put
Real
JavaType
TYPE
put
Real
JavaType
TYPE
put
Real
JavaType
Object
put
Int
JavaType
TYPE
put
Int
JavaType
Double
put
Int
JavaType
TYPE
put
Int
JavaType
TYPE
put
Int
JavaType
TYPE
put
Int
JavaType
TYPE
put
Int
JavaType
TYPE
put
Int
JavaType
TYPE
put
Int
JavaType
Object
put
String
JavaType
String
put
String
JavaType
Object
put
NodeSet
JavaType
nodeListClass
put
NodeSet
JavaType
nodeClass
put
NodeSet
JavaType
Object
put
NodeSet
JavaType
String
put
Node
JavaType
nodeListClass
put
Node
JavaType
nodeClass
put
Node
JavaType
Object
put
Node
JavaType
String
put
ResultTree
JavaType
nodeListClass
put
ResultTree
JavaType
nodeClass
put
ResultTree
JavaType
Object
put
ResultTree
JavaType
String
put
Reference
JavaType
Object
put
TYPE
Boolean
put
TYPE
Void
put
TYPE
Real
put
TYPE
Real
put
TYPE
Real
put
TYPE
Real
put
TYPE
Real
put
TYPE
Real
put
TYPE
Real
put
String
String
put
Object
Reference
put
nodeListClass
NodeSet
put
nodeClass
NodeSet
put
EXT_XALAN
put
EXSLT_COMMON
put
EXSLT_MATH
put
EXSLT_SETS
put
EXSLT_DATETIME
put
EXSLT_STRINGS
put
EXSLT_COMMON
put
EXSLT_COMMON
put
EXT_XALAN
catchClause
e
println
e
FunctionCall
fname
QName
arguments
Vector
_fname
fname
_arguments
arguments
_type
FunctionCall
fname
QName
fname
EMPTY_ARG_LIST
getName
String
return
toString
setParser
parser
Parser
setParser
parser
if
_arguments
block
int
n
size
for
forControl
int
i
i
n
i
block
Expression
exp
Expression
elementAt
i
setParser
parser
setParent
getClassNameFromUri
String
uri
String
String
className
String
get
uri
if
className
return
className
block
if
startsWith
JAVA_EXT_XSLTC
block
int
length
length
return
length
length
substring
length
EMPTYSTRING
if
startsWith
JAVA_EXT_XALAN
block
int
length
length
return
length
length
substring
length
EMPTYSTRING
if
startsWith
JAVA_EXT_XALAN_OLD
block
int
length
length
return
length
length
substring
length
EMPTYSTRING
block
int
index
lastIndexOf
return
index
substring
index
uri
typeCheck
Type
stable
SymbolTable
if
_type
return
_type
String
namespace
getNamespace
String
local
getLocalPart
if
isExtension
block
_fname
QName
local
return
typeCheckStandard
stable
if
isStandard
block
return
typeCheckStandard
stable
block
try
_className
getClassNameFromUri
namespace
int
pos
lastIndexOf
if
pos
block
_isStatic
if
_className
length
block
_namespace_format
NAMESPACE_FORMAT_PACKAGE
_className
_className
substring
pos
block
_namespace_format
NAMESPACE_FORMAT_JAVA
_className
substring
pos
_fname
QName
namespace
substring
pos
block
if
_className
length
block
try
_clazz
findProviderClass
_className
findClassLoader
_namespace_format
NAMESPACE_FORMAT_CLASS
catchClause
e
_namespace_format
NAMESPACE_FORMAT_PACKAGE
_namespace_format
NAMESPACE_FORMAT_JAVA
if
indexOf
block
local
replaceDash
local
String
extFunction
String
get
namespace
local
if
extFunction
block
_fname
QName
extFunction
return
typeCheckStandard
stable
_fname
QName
namespace
local
return
typeCheckExternal
stable
catchClause
e
ErrorMsg
errorMsg
getErrorMsg
if
errorMsg
block
String
name
getLocalPart
errorMsg
ErrorMsg
METHOD_NOT_FOUND_ERR
name
getParser
reportError
ERROR
errorMsg
return
_type
Void
typeCheckStandard
Type
stable
SymbolTable
clearNamespace
int
n
size
Vector
argsType
typeCheckArgs
stable
MethodType
args
MethodType
Void
argsType
MethodType
ptype
lookupPrimop
stable
getLocalPart
args
if
ptype
block
for
forControl
int
i
i
n
i
block
Type
argType
Type
argsType
elementAt
i
Expression
exp
Expression
elementAt
i
if
identicalTo
getType
block
try
setElementAt
CastExpr
exp
argType
i
catchClause
e
throw
TypeCheckError
_chosenMethodType
ptype
return
_type
resultType
throw
TypeCheckError
typeCheckConstructor
Type
stable
SymbolTable
Vector
constructors
findConstructors
if
constructors
block
throw
TypeCheckError
CONSTRUCTOR_NOT_FOUND
_className
int
nConstructors
size
int
nArgs
size
Vector
argsType
typeCheckArgs
stable
int
bestConstrDistance
MAX_VALUE
_type
for
forControl
int
j
i
i
nConstructors
i
block
Constructor
constructor
Constructor
elementAt
i
Class
paramTypes
getParameterTypes
Class
extType
int
currConstrDistance
for
forControl
j
j
nArgs
j
block
extType
paramTypes
j
Type
intType
Type
elementAt
j
Object
match
maps
intType
extType
if
match
block
currConstrDistance
JavaType
match
if
intType
ObjectType
block
ObjectType
objectType
ObjectType
intType
if
getJavaClass
extType
continue
if
isAssignableFrom
getJavaClass
currConstrDistance
block
currConstrDistance
MAX_VALUE
break
block
currConstrDistance
MAX_VALUE
break
if
j
nArgs
currConstrDistance
bestConstrDistance
block
_chosenConstructor
constructor
_isExtConstructor
bestConstrDistance
currConstrDistance
_type
_clazz
newObjectType
_clazz
newObjectType
_className
if
_type
block
return
_type
throw
TypeCheckError
ARGUMENT_CONVERSION_ERR
getMethodSignature
argsType
typeCheckExternal
Type
stable
SymbolTable
int
nArgs
size
String
name
getLocalPart
if
getLocalPart
equals
block
return
typeCheckConstructor
stable
block
boolean
hasThisArgument
if
nArgs
_isStatic
if
_isStatic
block
if
_namespace_format
NAMESPACE_FORMAT_JAVA
_namespace_format
NAMESPACE_FORMAT_PACKAGE
hasThisArgument
Expression
firstArg
Expression
elementAt
Type
firstArgType
Type
typeCheck
stable
if
_namespace_format
NAMESPACE_FORMAT_CLASS
firstArgType
ObjectType
_clazz
isAssignableFrom
ObjectType
firstArgType
hasThisArgument
if
hasThisArgument
block
_thisArgument
Expression
elementAt
remove
nArgs
if
firstArgType
ObjectType
block
_className
ObjectType
firstArgType
throw
TypeCheckError
NO_JAVA_FUNCT_THIS_REF
name
if
length
block
Parser
parser
getParser
if
parser
block
reportWarning
parser
FUNCTION_RESOLVE_ERR
toString
unresolvedExternal
return
_type
Int
Vector
methods
findMethods
if
methods
block
throw
TypeCheckError
METHOD_NOT_FOUND_ERR
_className
name
Class
extType
int
nMethods
size
Vector
argsType
typeCheckArgs
stable
int
bestMethodDistance
MAX_VALUE
_type
for
forControl
int
j
i
i
nMethods
i
block
Method
method
Method
elementAt
i
Class
paramTypes
getParameterTypes
int
currMethodDistance
for
forControl
j
j
nArgs
j
block
extType
paramTypes
j
Type
intType
Type
elementAt
j
Object
match
maps
intType
extType
if
match
block
currMethodDistance
JavaType
match
block
if
intType
ReferenceType
block
currMethodDistance
if
intType
ObjectType
block
ObjectType
object
ObjectType
intType
if
getName
equals
getJavaClassName
currMethodDistance
if
isAssignableFrom
getJavaClass
currMethodDistance
block
currMethodDistance
MAX_VALUE
break
block
currMethodDistance
MAX_VALUE
break
if
j
nArgs
block
extType
getReturnType
_type
Type
get
extType
if
_type
block
_type
newObjectType
extType
if
_type
currMethodDistance
bestMethodDistance
block
_chosenMethod
method
bestMethodDistance
currMethodDistance
if
_chosenMethod
_thisArgument
isStatic
getModifiers
block
throw
TypeCheckError
NO_JAVA_FUNCT_THIS_REF
getMethodSignature
argsType
if
_type
block
if
_type
NodeSet
block
getXSLTC
setMultiDocument
return
_type
throw
TypeCheckError
ARGUMENT_CONVERSION_ERR
getMethodSignature
argsType
typeCheckArgs
Vector
stable
SymbolTable
Vector
result
Vector
Enumeration
e
elements
while
hasMoreElements
block
Expression
exp
Expression
nextElement
addElement
typeCheck
stable
return
result
argument
Expression
i
int
return
Expression
elementAt
i
argument
Expression
return
argument
argumentCount
int
return
size
setArgument
i
int
exp
Expression
setElementAt
exp
i
translateDesynthesized
classGen
ClassGenerator
methodGen
MethodGenerator
Type
type
Boolean
if
_chosenMethodType
type
resultType
InstructionList
il
getInstructionList
translate
classGen
methodGen
if
type
BooleanType
type
IntType
block
add
append
IFEQ
translate
classGen
ClassGenerator
methodGen
MethodGenerator
int
n
argumentCount
ConstantPoolGen
cpg
getConstantPool
InstructionList
il
getInstructionList
boolean
isSecureProcessing
getParser
getXSLTC
isSecureProcessing
int
index
if
isStandard
isExtension
block
for
forControl
int
i
i
n
i
block
Expression
exp
argument
i
translate
classGen
methodGen
startIterator
classGen
methodGen
String
name
toString
replace
String
args
EMPTYSTRING
if
equals
block
args
DOM_INTF_SIG
append
loadDOM
if
equals
block
if
toSignature
equals
args
block
args
DOM_INTF_SIG
append
loadContextNode
append
loadDOM
index
addMethodref
BASIS_LIBRARY_CLASS
name
toSignature
args
append
INVOKESTATIC
index
if
unresolvedExternal
block
index
addMethodref
BASIS_LIBRARY_CLASS
append
PUSH
cpg
toString
append
INVOKESTATIC
index
if
_isExtConstructor
block
if
isSecureProcessing
translateUnallowedExtension
cpg
il
String
clazz
getDeclaringClass
getName
Class
paramTypes
getParameterTypes
LocalVariableGen
paramTemp
LocalVariableGen
n
for
forControl
int
i
i
n
i
block
Expression
exp
argument
i
Type
expType
getType
translate
classGen
methodGen
startIterator
classGen
methodGen
translateTo
classGen
methodGen
paramTypes
i
paramTemp
i
addLocalVariable
i
toJCType
getEnd
append
STORE
paramTemp
i
getIndex
append
NEW
addClass
_className
append
DUP
for
forControl
int
i
i
n
i
block
Expression
arg
argument
i
append
getType
LOAD
paramTemp
i
getIndex
StringBuffer
buffer
StringBuffer
append
for
forControl
int
i
i
length
i
block
append
getSignature
paramTypes
i
append
append
index
addMethodref
clazz
toString
append
INVOKESPECIAL
index
Object
translateFrom
classGen
methodGen
getDeclaringClass
block
if
isSecureProcessing
translateUnallowedExtension
cpg
il
String
clazz
getDeclaringClass
getName
Class
paramTypes
getParameterTypes
if
_thisArgument
block
translate
classGen
methodGen
for
forControl
int
i
i
n
i
block
Expression
exp
argument
i
translate
classGen
methodGen
startIterator
classGen
methodGen
getType
translateTo
classGen
methodGen
paramTypes
i
StringBuffer
buffer
StringBuffer
append
for
forControl
int
i
i
length
i
block
append
getSignature
paramTypes
i
append
append
getSignature
getReturnType
if
_thisArgument
isInterface
block
index
addInterfaceMethodref
clazz
getLocalPart
toString
append
INVOKEINTERFACE
index
n
block
index
addMethodref
clazz
getLocalPart
toString
append
_thisArgument
InvokeInstruction
INVOKEVIRTUAL
index
InvokeInstruction
INVOKESTATIC
index
translateFrom
classGen
methodGen
getReturnType
toString
String
return
_fname
_arguments
isStandard
boolean
String
namespace
getNamespace
return
namespace
equals
EMPTYSTRING
isExtension
boolean
String
namespace
getNamespace
return
namespace
equals
EXT_XSLTC
findMethods
Vector
Vector
result
String
namespace
getNamespace
if
_className
length
block
int
nArgs
size
try
if
_clazz
block
_clazz
findProviderClass
_className
findClassLoader
if
_clazz
block
ErrorMsg
msg
ErrorMsg
CLASS_NOT_FOUND_ERR
_className
getParser
reportError
ERROR
msg
String
methodName
getLocalPart
Method
methods
getMethods
for
forControl
int
i
i
length
i
block
int
mods
methods
i
getModifiers
if
isPublic
mods
methods
i
getName
equals
methodName
methods
i
getParameterTypes
length
nArgs
block
if
result
block
result
Vector
addElement
methods
i
catchClause
e
ErrorMsg
msg
ErrorMsg
CLASS_NOT_FOUND_ERR
_className
getParser
reportError
ERROR
msg
return
result
findConstructors
Vector
Vector
result
String
namespace
getNamespace
int
nArgs
size
try
if
_clazz
block
_clazz
findProviderClass
_className
findClassLoader
if
_clazz
block
ErrorMsg
msg
ErrorMsg
CLASS_NOT_FOUND_ERR
_className
getParser
reportError
ERROR
msg
Constructor
constructors
getConstructors
for
forControl
int
i
i
length
i
block
int
mods
constructors
i
getModifiers
if
isPublic
mods
constructors
i
getParameterTypes
length
nArgs
block
if
result
block
result
Vector
addElement
constructors
i
catchClause
e
ErrorMsg
msg
ErrorMsg
CLASS_NOT_FOUND_ERR
_className
getParser
reportError
ERROR
msg
return
result
getSignature
String
clazz
Class
if
isArray
block
StringBuffer
sb
StringBuffer
Class
cl
clazz
while
isArray
block
append
cl
getComponentType
append
getSignature
cl
return
toString
if
isPrimitive
block
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
if
clazz
TYPE
block
return
block
String
name
toString
ErrorMsg
err
ErrorMsg
UNKNOWN_SIG_TYPE_ERR
name
throw
Error
toString
block
return
getName
replace
getSignature
String
meth
Method
StringBuffer
sb
StringBuffer
append
Class
params
getParameterTypes
for
forControl
int
j
j
length
j
block
append
getSignature
params
j
return
append
append
getSignature
getReturnType
toString
getSignature
String
cons
Constructor
StringBuffer
sb
StringBuffer
append
Class
params
getParameterTypes
for
forControl
int
j
j
length
j
block
append
getSignature
params
j
return
append
toString
getMethodSignature
String
argsType
Vector
StringBuffer
buf
StringBuffer
_className
append
append
getLocalPart
append
int
nArgs
size
for
forControl
int
i
i
nArgs
i
block
Type
intType
Type
elementAt
i
append
toString
if
i
nArgs
append
append
return
toString
replaceDash
String
name
String
char
dash
StringBuffer
buff
StringBuffer
for
forControl
int
i
i
length
i
block
if
i
charAt
i
dash
append
toUpperCase
charAt
i
if
charAt
i
dash
append
charAt
i
return
toString
translateUnallowedExtension
cpg
ConstantPoolGen
il
InstructionList
int
index
addMethodref
BASIS_LIBRARY_CLASS
append
PUSH
cpg
toString
append
INVOKESTATIC
index
Expression
