PredicatedNodeTest
PredicatedNodeTest
locPathIterator
LocPathIterator
m_lpi
locPathIterator
PredicatedNodeTest
readObject
stream
java
io
ObjectInputStream
try
defaultReadObject
m_predicateIndex
resetProximityPositions
catchClause
cnfe
throw
javax
xml
transform
TransformerException
cnfe
clone
Object
PredicatedNodeTest
clone
PredicatedNodeTest
clone
if
m_proximityPositions
m_proximityPositions
m_proximityPositions
block
m_proximityPositions
int
m_proximityPositions
length
arraycopy
m_proximityPositions
m_proximityPositions
m_proximityPositions
length
if
m_lpi
m_lpi
LocPathIterator
clone
return
clone
int
m_predCount
getPredicateCount
int
if
m_predCount
return
m_predicates
length
return
m_predCount
setPredicateCount
count
int
if
count
block
Expression
newPredicates
Expression
count
for
forControl
int
i
i
count
i
block
newPredicates
i
m_predicates
i
m_predicates
newPredicates
m_predicates
initPredicateInfo
compiler
Compiler
opPos
int
int
pos
getFirstPredicateOpPos
opPos
if
pos
block
m_predicates
getCompiledPredicates
pos
if
m_predicates
block
for
forControl
int
i
i
length
i
block
m_predicates
i
exprSetParent
getPredicate
Expression
index
int
return
m_predicates
index
getProximityPosition
int
return
getProximityPosition
m_predicateIndex
getProximityPosition
int
xctxt
XPathContext
return
getProximityPosition
getLastPos
int
xctxt
XPathContext
getProximityPosition
int
predicateIndex
int
return
predicateIndex
m_proximityPositions
predicateIndex
resetProximityPositions
int
nPredicates
getPredicateCount
if
nPredicates
block
if
m_proximityPositions
m_proximityPositions
int
nPredicates
for
forControl
int
i
i
nPredicates
i
block
try
initProximityPosition
i
catchClause
e
throw
org
apache
xml
utils
WrappedRuntimeException
e
initProximityPosition
i
int
m_proximityPositions
i
countProximityPosition
i
int
int
pp
m_proximityPositions
if
pp
i
length
pp
i
isReverseAxes
boolean
return
getPredicateIndex
int
return
m_predicateIndex
executePredicates
boolean
context
int
xctxt
XPathContext
int
nPredicates
getPredicateCount
if
nPredicates
return
PrefixResolver
savedResolver
getNamespaceContext
try
m_predicateIndex
pushSubContextList
pushNamespaceContext
getPrefixResolver
pushCurrentNode
context
for
forControl
int
i
i
nPredicates
i
block
XObject
pred
m_predicates
i
execute
xctxt
if
CLASS_NUMBER
getType
block
if
DEBUG_PREDICATECOUNTING
block
flush
println
println
m_predicateIndex
println
num
int
proxPos
getProximityPosition
m_predicateIndex
int
predIndex
int
num
if
proxPos
predIndex
block
if
DEBUG_PREDICATECOUNTING
block
println
nodeToString
context
println
proxPos
println
return
if
DEBUG_PREDICATECOUNTING
block
println
nodeToString
context
println
proxPos
println
if
m_predicates
i
isStableNumber
block
m_foundLast
if
bool
return
countProximityPosition
m_predicateIndex
popCurrentNode
popNamespaceContext
popSubContextList
m_predicateIndex
return
fixupVariables
vars
java
util
Vector
globalsSize
int
fixupVariables
vars
globalsSize
int
nPredicates
getPredicateCount
for
forControl
int
i
i
nPredicates
i
block
m_predicates
i
fixupVariables
vars
globalsSize
nodeToString
String
n
int
if
NULL
n
block
DTM
dtm
getXPathContext
getDTM
n
return
getNodeName
n
n
block
return
acceptNode
short
n
int
XPathContext
xctxt
getXPathContext
try
pushCurrentNode
n
XObject
score
execute
xctxt
n
if
score
SCORE_NONE
block
if
getPredicateCount
block
countProximityPosition
if
executePredicates
n
xctxt
return
FILTER_SKIP
return
FILTER_ACCEPT
catchClause
se
throw
RuntimeException
getMessage
popCurrentNode
return
FILTER_SKIP
getLocPathIterator
LocPathIterator
return
m_lpi
setLocPathIterator
li
LocPathIterator
m_lpi
li
if
li
exprSetParent
canTraverseOutsideSubtree
boolean
int
n
getPredicateCount
for
forControl
int
i
i
n
i
block
if
getPredicate
canTraverseOutsideSubtree
i
return
return
callPredicateVisitors
visitor
XPathVisitor
if
m_predicates
block
int
n
length
for
forControl
int
i
i
n
i
block
ExpressionOwner
predOwner
PredOwner
i
if
visitPredicate
predOwner
m_predicates
i
block
m_predicates
i
callVisitors
predOwner
visitor
deepEquals
boolean
expr
Expression
if
deepEquals
expr
return
PredicatedNodeTest
pnt
PredicatedNodeTest
expr
if
m_predicates
block
int
n
length
if
m_predicates
length
n
return
for
forControl
int
i
i
n
i
block
if
m_predicates
i
deepEquals
m_predicates
i
return
if
m_predicates
return
return
boolean
m_foundLast
LocPathIterator
m_lpi
int
m_predicateIndex
Expression
m_predicates
int
m_proximityPositions
boolean
DEBUG_PREDICATECOUNTING
PredOwner
int
m_index
PredOwner
index
int
m_index
index
getExpression
Expression
return
m_predicates
m_index
setExpression
exp
Expression
exprSetParent
m_predicates
m_index
exp
ExpressionOwner
NodeTest
SubContextList
