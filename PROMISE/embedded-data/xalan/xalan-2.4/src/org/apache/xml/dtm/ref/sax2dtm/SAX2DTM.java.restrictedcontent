SAX2DTM
boolean
DEBUG
IncrementalSAXSource
m_incrementalSAXSource
FastStringBuffer
m_chars
FastStringBuffer
SuballocatedIntVector
m_data
IntStack
m_parents
IntStack
int
m_previous
java
util
Vector
m_prefixMappings
java
util
Vector
IntStack
m_contextIndexes
IntStack
int
m_textType
TEXT_NODE
int
m_coalescedTextType
TEXT_NODE
Locator
m_locator
boolean
m_insideDTD
DTMTreeWalker
m_walker
DTMTreeWalker
DTMStringPool
m_valuesOrPrefixes
DTMStringPool
boolean
m_endDocumentOccured
SuballocatedIntVector
m_dataOrQName
Hashtable
m_idAttributes
Hashtable
String
m_fixednames
Vector
m_entities
int
ENTITY_FIELD_PUBLICID
int
ENTITY_FIELD_SYSTEMID
int
ENTITY_FIELD_NOTATIONNAME
int
ENTITY_FIELD_NAME
int
ENTITY_FIELDS_PER
int
m_textPendingStart
boolean
m_useSourceLocationProperty
StringVector
m_sourceSystemId
IntVector
m_sourceLine
IntVector
m_sourceColumn
SAX2DTM
mgr
DTMManager
source
Source
dtmIdentity
int
whiteSpaceFilter
DTMWSFilter
xstringfactory
XMLStringFactory
doIndexing
boolean
mgr
source
dtmIdentity
whiteSpaceFilter
xstringfactory
doIndexing
m_data
SuballocatedIntVector
addElement
m_dataOrQName
SuballocatedIntVector
m_initialblocksize
m_useSourceLocationProperty
m_source_location
m_sourceSystemId
m_useSourceLocationProperty
StringVector
m_sourceLine
m_useSourceLocationProperty
IntVector
m_sourceColumn
m_useSourceLocationProperty
IntVector
_dataOrQName
int
identity
int
if
identity
m_size
return
elementAt
identity
while
block
boolean
isMore
nextNode
if
isMore
return
NULL
if
identity
m_size
return
elementAt
identity
clearCoRoutine
clearCoRoutine
clearCoRoutine
callDoTerminate
boolean
if
m_incrementalSAXSource
block
if
callDoTerminate
deliverMoreNodes
m_incrementalSAXSource
setIncrementalSAXSource
incrementalSAXSource
IncrementalSAXSource
m_incrementalSAXSource
incrementalSAXSource
setContentHandler
setLexicalHandler
setDTDHandler
getContentHandler
ContentHandler
if
m_incrementalSAXSource
IncrementalSAXSource_Filter
return
ContentHandler
m_incrementalSAXSource
return
getLexicalHandler
LexicalHandler
if
m_incrementalSAXSource
IncrementalSAXSource_Filter
return
LexicalHandler
m_incrementalSAXSource
return
getEntityResolver
EntityResolver
return
getDTDHandler
DTDHandler
return
getErrorHandler
ErrorHandler
return
getDeclHandler
DeclHandler
return
needsTwoThreads
boolean
return
m_incrementalSAXSource
dispatchCharactersEvents
nodeHandle
int
ch
ContentHandler
normalize
boolean
int
identity
makeNodeIdentity
nodeHandle
int
type
_type
identity
if
isTextType
type
block
int
dataIndex
elementAt
identity
int
offset
elementAt
dataIndex
int
length
elementAt
dataIndex
if
normalize
sendNormalizedSAXcharacters
ch
offset
length
sendSAXcharacters
ch
offset
length
block
int
firstChild
_firstch
identity
if
NULL
firstChild
block
int
offset
int
length
int
level
_level
identity
identity
firstChild
while
NULL
identity
_level
identity
level
block
type
_type
identity
if
isTextType
type
block
int
dataIndex
_dataOrQName
identity
if
offset
block
offset
elementAt
dataIndex
length
elementAt
dataIndex
identity
getNextNodeIdentity
identity
if
length
block
if
normalize
sendNormalizedSAXcharacters
ch
offset
length
sendSAXcharacters
ch
offset
length
if
type
ELEMENT_NODE
block
int
dataIndex
_dataOrQName
identity
if
dataIndex
block
dataIndex
dataIndex
dataIndex
elementAt
dataIndex
String
str
indexToString
dataIndex
if
normalize
sendNormalizedSAXcharacters
toCharArray
length
ch
characters
toCharArray
length
getNodeName
String
nodeHandle
int
int
expandedTypeID
getExpandedTypeID
nodeHandle
int
namespaceID
getNamespaceID
expandedTypeID
if
namespaceID
block
int
type
getNodeType
nodeHandle
if
type
NAMESPACE_NODE
block
if
getLocalName
expandedTypeID
return
return
getLocalName
expandedTypeID
if
getLocalNameID
expandedTypeID
block
return
m_fixednames
type
return
getLocalName
expandedTypeID
block
int
qnameIndex
elementAt
makeNodeIdentity
nodeHandle
if
qnameIndex
block
qnameIndex
qnameIndex
qnameIndex
elementAt
qnameIndex
return
indexToString
qnameIndex
getNodeNameX
String
nodeHandle
int
int
expandedTypeID
getExpandedTypeID
nodeHandle
int
namespaceID
getNamespaceID
expandedTypeID
if
namespaceID
block
String
name
getLocalName
expandedTypeID
if
name
return
return
name
block
int
qnameIndex
elementAt
makeNodeIdentity
nodeHandle
if
qnameIndex
block
qnameIndex
qnameIndex
qnameIndex
elementAt
qnameIndex
return
indexToString
qnameIndex
isAttributeSpecified
boolean
attributeHandle
int
return
getDocumentTypeDeclarationSystemIdentifier
String
error
createMessage
ER_METHOD_NOT_SUPPORTED
return
getNextNodeIdentity
int
identity
int
identity
while
identity
m_size
block
if
m_incrementalSAXSource
return
NULL
nextNode
return
identity
dispatchToEvents
nodeHandle
int
ch
org
xml
sax
ContentHandler
DTMTreeWalker
treeWalker
m_walker
ContentHandler
prevCH
getcontentHandler
if
prevCH
block
treeWalker
DTMTreeWalker
setcontentHandler
ch
setDTM
try
traverse
nodeHandle
setcontentHandler
getNumberOfNodes
int
return
m_size
nextNode
boolean
if
m_incrementalSAXSource
return
if
m_endDocumentOccured
block
clearCoRoutine
return
Object
gotMore
deliverMoreNodes
if
gotMore
Boolean
block
if
gotMore
RuntimeException
block
throw
RuntimeException
gotMore
if
gotMore
Exception
block
throw
WrappedRuntimeException
Exception
gotMore
clearCoRoutine
return
if
gotMore
TRUE
block
clearCoRoutine
return
isTextType
boolean
type
int
return
TEXT_NODE
type
CDATA_SECTION_NODE
type
addNode
int
type
int
expandedTypeID
int
parentIndex
int
previousSibling
int
dataOrPrefix
int
canHaveFirstChild
boolean
int
nodeIndex
m_size
if
size
nodeIndex
IDENT_DTM_NODE_BITS
block
try
if
m_mgr
throw
ClassCastException
DTMManagerDefault
mgrD
DTMManagerDefault
m_mgr
int
id
getFirstFreeDTMID
addDTM
id
nodeIndex
addElement
id
IDENT_DTM_NODE_BITS
catchClause
e
error
createMessage
ER_NO_DTMIDS_AVAIL
addElement
canHaveFirstChild
NOTPROCESSED
NULL
addElement
NOTPROCESSED
addElement
previousSibling
addElement
parentIndex
addElement
expandedTypeID
addElement
dataOrPrefix
if
m_useSourceLocationProperty
m_locator
block
addElement
getSystemId
addElement
getLineNumber
addElement
getColumnNumber
if
size
m_size
block
println
m_size
size
exit
if
NULL
previousSibling
setElementAt
nodeIndex
previousSibling
switch
type
case
NAMESPACE_NODE
declareNamespaceInContext
parentIndex
nodeIndex
break
case
ATTRIBUTE_NODE
break
case
if
NULL
parentIndex
NOTPROCESSED
elementAt
parentIndex
setElementAt
nodeIndex
parentIndex
break
return
nodeIndex
getNodeValue
String
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
type
_type
identity
if
isTextType
type
block
int
dataIndex
_dataOrQName
identity
int
offset
elementAt
dataIndex
int
length
elementAt
dataIndex
return
getString
offset
length
if
ELEMENT_NODE
type
DOCUMENT_FRAGMENT_NODE
type
DOCUMENT_NODE
type
block
return
block
int
dataIndex
_dataOrQName
identity
if
dataIndex
block
dataIndex
dataIndex
dataIndex
elementAt
dataIndex
return
indexToString
dataIndex
getLocalName
String
nodeHandle
int
return
getLocalName
_exptype
makeNodeIdentity
nodeHandle
getUnparsedEntityURI
String
name
String
String
url
if
m_entities
return
url
int
n
size
for
forControl
int
i
i
n
i
ENTITY_FIELDS_PER
block
String
ename
String
elementAt
i
ENTITY_FIELD_NAME
if
ename
equals
name
block
String
nname
String
elementAt
i
ENTITY_FIELD_NOTATIONNAME
if
nname
block
url
String
elementAt
i
ENTITY_FIELD_SYSTEMID
if
url
block
url
String
elementAt
i
ENTITY_FIELD_PUBLICID
break
return
url
getPrefix
String
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
type
_type
identity
if
ELEMENT_NODE
type
block
int
prefixIndex
_dataOrQName
identity
if
prefixIndex
return
block
String
qname
indexToString
prefixIndex
return
getPrefix
qname
if
ATTRIBUTE_NODE
type
block
int
prefixIndex
_dataOrQName
identity
if
prefixIndex
block
prefixIndex
elementAt
prefixIndex
String
qname
indexToString
prefixIndex
return
getPrefix
qname
return
getAttributeNode
int
nodeHandle
int
namespaceURI
String
name
String
for
forControl
int
attrH
getFirstAttribute
nodeHandle
NULL
attrH
attrH
getNextAttribute
attrH
block
String
attrNS
getNamespaceURI
attrH
String
attrName
getLocalName
attrH
boolean
nsMatch
namespaceURI
attrNS
namespaceURI
equals
attrNS
if
nsMatch
equals
attrName
return
attrH
return
NULL
getDocumentTypeDeclarationPublicIdentifier
String
error
createMessage
ER_METHOD_NOT_SUPPORTED
return
getNamespaceURI
String
nodeHandle
int
return
getNamespace
_exptype
makeNodeIdentity
nodeHandle
getStringValue
XMLString
nodeHandle
int
int
identity
makeNodeIdentity
nodeHandle
int
type
if
identity
NULL
type
NULL
type
_type
identity
if
isTextType
type
block
int
dataIndex
_dataOrQName
identity
int
offset
elementAt
dataIndex
int
length
elementAt
dataIndex
return
newstr
m_chars
offset
length
block
int
firstChild
_firstch
identity
if
NULL
firstChild
block
int
offset
int
length
int
level
_level
identity
identity
firstChild
while
NULL
identity
_level
identity
level
block
type
_type
identity
if
isTextType
type
block
int
dataIndex
_dataOrQName
identity
if
offset
block
offset
elementAt
dataIndex
length
elementAt
dataIndex
identity
getNextNodeIdentity
identity
if
length
block
return
newstr
m_chars
offset
length
if
type
ELEMENT_NODE
block
int
dataIndex
_dataOrQName
identity
if
dataIndex
block
dataIndex
dataIndex
dataIndex
elementAt
dataIndex
return
newstr
indexToString
dataIndex
return
emptystr
getElementById
int
elementId
String
Integer
intObj
boolean
isMore
do
intObj
block
intObj
Integer
get
elementId
if
intObj
return
makeNodeHandle
intValue
if
isMore
m_endDocumentOccured
break
isMore
nextNode
return
NULL
getPrefix
String
qname
String
uri
String
String
prefix
int
uriIndex
if
uri
length
block
do
uriIndex
block
uriIndex
indexOf
uri
uriIndex
if
uriIndex
block
prefix
String
elementAt
uriIndex
if
qname
block
int
indexOfNSSep
indexOf
if
equals
prefix
if
startsWith
prefix
substring
indexOfNSSep
prefix
indexOfNSSep
substring
indexOfNSSep
block
prefix
if
qname
block
int
indexOfNSSep
indexOf
if
equals
prefix
if
startsWith
prefix
substring
indexOfNSSep
prefix
indexOfNSSep
substring
indexOfNSSep
block
prefix
return
prefix
setIDAttribute
id
String
elem
int
put
id
Integer
elem
charactersFlush
if
m_textPendingStart
block
int
length
size
m_textPendingStart
boolean
doStrip
if
getShouldStripWhitespace
block
doStrip
isWhitespace
m_textPendingStart
length
if
doStrip
setLength
m_textPendingStart
block
int
exName
getExpandedTypeID
TEXT_NODE
int
dataIndex
size
m_previous
addNode
m_coalescedTextType
exName
peek
m_previous
dataIndex
addElement
m_textPendingStart
addElement
length
m_textPendingStart
m_textType
m_coalescedTextType
TEXT_NODE
resolveEntity
InputSource
publicId
String
systemId
String
return
notationDecl
name
String
publicId
String
systemId
String
unparsedEntityDecl
name
String
publicId
String
systemId
String
notationName
String
if
m_entities
block
m_entities
Vector
try
systemId
getAbsoluteURI
systemId
getDocumentBaseURI
catchClause
e
throw
org
xml
sax
SAXException
e
addElement
publicId
addElement
systemId
addElement
notationName
addElement
name
setDocumentLocator
locator
Locator
m_locator
locator
startDocument
if
DEBUG
println
int
doc
addNode
DOCUMENT_NODE
getExpandedTypeID
DOCUMENT_NODE
NULL
NULL
push
doc
m_previous
NULL
push
size
endDocument
if
DEBUG
println
charactersFlush
setElementAt
NULL
if
elementAt
NOTPROCESSED
setElementAt
NULL
if
NULL
m_previous
setElementAt
NULL
m_previous
m_parents
m_prefixMappings
m_contextIndexes
m_endDocumentOccured
startPrefixMapping
prefix
String
uri
String
if
DEBUG
println
prefix
uri
if
prefix
prefix
addElement
prefix
addElement
uri
endPrefixMapping
prefix
String
if
DEBUG
println
prefix
if
prefix
prefix
int
index
peek
do
index
index
block
index
indexOf
prefix
index
if
index
block
setElementAt
index
setElementAt
index
declAlreadyDeclared
boolean
prefix
String
int
startDecls
peek
java
util
Vector
prefixMappings
m_prefixMappings
int
nDecls
size
for
forControl
int
i
startDecls
i
nDecls
i
block
String
prefixDecl
String
elementAt
i
if
prefixDecl
continue
if
equals
prefix
return
return
boolean
m_pastFirstElement
startElement
uri
String
localName
String
qName
String
attributes
Attributes
if
DEBUG
block
println
uri
localName
qName
attributes
boolean
DEBUG_ATTRS
if
DEBUG_ATTRS
attributes
block
int
n
getLength
if
n
println
for
forControl
int
i
i
n
i
println
getURI
i
getLocalName
i
getQName
i
getType
i
getValue
i
charactersFlush
int
exName
getExpandedTypeID
uri
localName
ELEMENT_NODE
String
prefix
getPrefix
qName
uri
int
prefixIndex
prefix
stringToIndex
qName
int
elemNode
addNode
ELEMENT_NODE
exName
peek
m_previous
prefixIndex
if
m_indexing
indexNode
exName
elemNode
push
elemNode
int
startDecls
peek
int
nDecls
size
int
prev
NULL
if
m_pastFirstElement
block
prefix
String
declURL
exName
getExpandedTypeID
prefix
NAMESPACE_NODE
int
val
stringToIndex
declURL
prev
addNode
NAMESPACE_NODE
exName
elemNode
prev
val
m_pastFirstElement
for
forControl
int
i
startDecls
i
nDecls
i
block
prefix
String
elementAt
i
if
prefix
continue
String
declURL
String
elementAt
i
exName
getExpandedTypeID
prefix
NAMESPACE_NODE
int
val
stringToIndex
declURL
prev
addNode
NAMESPACE_NODE
exName
elemNode
prev
val
int
n
getLength
for
forControl
int
i
i
n
i
block
String
attrUri
getURI
i
String
attrQName
getQName
i
String
valString
getValue
i
prefix
getPrefix
attrQName
attrUri
int
nodeType
if
attrQName
equals
startsWith
block
if
declAlreadyDeclared
prefix
continue
nodeType
NAMESPACE_NODE
block
nodeType
ATTRIBUTE_NODE
if
getType
equalsIgnoreCase
i
setIDAttribute
valString
elemNode
if
valString
valString
int
val
stringToIndex
valString
String
attrLocalName
getLocalName
i
if
prefix
block
prefixIndex
stringToIndex
attrQName
int
dataIndex
size
addElement
prefixIndex
addElement
val
val
dataIndex
exName
getExpandedTypeID
attrUri
attrLocalName
nodeType
prev
addNode
nodeType
exName
elemNode
prev
val
if
NULL
prev
setElementAt
NULL
prev
if
m_wsfilter
block
short
wsv
getShouldStripSpace
makeNodeHandle
elemNode
boolean
shouldStrip
INHERIT
wsv
getShouldStripWhitespace
STRIP
wsv
pushShouldStripWhitespace
shouldStrip
m_previous
NULL
push
size
endElement
uri
String
localName
String
qName
String
if
DEBUG
println
uri
localName
qName
charactersFlush
setSize
pop
setSize
pop
push
size
int
lastNode
m_previous
m_previous
pop
if
NOTPROCESSED
elementAt
m_previous
setElementAt
NULL
m_previous
if
NULL
lastNode
setElementAt
NULL
lastNode
popShouldStripWhitespace
characters
ch
char
start
int
length
int
if
m_textPendingStart
block
m_textPendingStart
size
m_coalescedTextType
m_textType
append
ch
start
length
if
m_textType
TEXT_NODE
m_coalescedTextType
TEXT_NODE
ignorableWhitespace
ch
char
start
int
length
int
characters
ch
start
length
processingInstruction
target
String
data
String
if
DEBUG
println
target
data
charactersFlush
int
exName
getExpandedTypeID
target
PROCESSING_INSTRUCTION_NODE
int
dataIndex
stringToIndex
data
m_previous
addNode
PROCESSING_INSTRUCTION_NODE
exName
peek
m_previous
dataIndex
skippedEntity
name
String
warning
e
SAXParseException
println
getMessage
error
e
SAXParseException
throw
e
fatalError
e
SAXParseException
throw
e
elementDecl
name
String
model
String
attributeDecl
eName
String
aName
String
type
String
valueDefault
String
value
String
internalEntityDecl
name
String
value
String
externalEntityDecl
name
String
publicId
String
systemId
String
startDTD
name
String
publicId
String
systemId
String
m_insideDTD
endDTD
m_insideDTD
startEntity
name
String
endEntity
name
String
startCDATA
m_textType
CDATA_SECTION_NODE
endCDATA
m_textType
TEXT_NODE
comment
ch
char
start
int
length
int
if
m_insideDTD
return
charactersFlush
int
exName
getExpandedTypeID
COMMENT_NODE
int
dataIndex
stringToIndex
String
ch
start
length
m_previous
addNode
COMMENT_NODE
exName
peek
m_previous
dataIndex
setProperty
property
String
value
Object
getSourceLocatorFor
SourceLocator
node
int
if
m_useSourceLocationProperty
block
node
makeNodeIdentity
node
return
NodeLocator
elementAt
node
elementAt
node
elementAt
node
if
m_locator
block
return
NodeLocator
getSystemId
return
DTMDefaultBaseIterators
EntityResolver
DTDHandler
ContentHandler
ErrorHandler
DeclHandler
LexicalHandler
