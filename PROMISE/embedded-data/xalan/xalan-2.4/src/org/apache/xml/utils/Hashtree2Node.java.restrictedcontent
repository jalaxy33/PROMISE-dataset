SuballocatedByteVector
int
m_blocksize
int
m_numblocks
byte
m_map
int
m_firstFree
byte
m_map0
SuballocatedByteVector
SuballocatedByteVector
blocksize
int
m_blocksize
blocksize
m_map0
byte
blocksize
m_map
byte
m_numblocks
m_map
m_map0
SuballocatedByteVector
blocksize
int
increaseSize
int
blocksize
size
int
return
m_firstFree
setSize
sz
int
if
m_firstFree
sz
m_firstFree
sz
addElement
value
byte
if
m_firstFree
m_blocksize
m_map0
m_firstFree
value
block
int
index
m_firstFree
m_blocksize
int
offset
m_firstFree
m_blocksize
m_firstFree
if
index
length
block
int
newsize
index
m_numblocks
byte
newMap
byte
newsize
arraycopy
m_map
newMap
length
m_map
newMap
byte
block
m_map
index
if
block
block
m_map
index
byte
m_blocksize
block
offset
value
addElements
value
byte
numberOfElements
int
if
m_firstFree
numberOfElements
m_blocksize
for
forControl
int
i
i
numberOfElements
i
block
m_map0
m_firstFree
value
block
int
index
m_firstFree
m_blocksize
int
offset
m_firstFree
m_blocksize
m_firstFree
numberOfElements
while
numberOfElements
block
if
index
length
block
int
newsize
index
m_numblocks
byte
newMap
byte
newsize
arraycopy
m_map
newMap
length
m_map
newMap
byte
block
m_map
index
if
block
block
m_map
index
byte
m_blocksize
int
copied
m_blocksize
offset
numberOfElements
m_blocksize
offset
numberOfElements
numberOfElements
copied
while
copied
block
offset
value
index
offset
addElements
numberOfElements
int
int
newlen
m_firstFree
numberOfElements
if
newlen
m_blocksize
block
int
index
m_firstFree
m_blocksize
int
newindex
m_firstFree
numberOfElements
m_blocksize
for
forControl
int
i
index
i
newindex
i
m_map
i
byte
m_blocksize
m_firstFree
newlen
insertElementAt
value
byte
at
int
if
at
m_firstFree
addElement
value
if
at
m_firstFree
block
int
index
at
m_blocksize
if
index
length
block
int
newsize
index
m_numblocks
byte
newMap
byte
newsize
arraycopy
m_map
newMap
length
m_map
newMap
byte
block
m_map
index
if
block
block
m_map
index
byte
m_blocksize
int
offset
at
m_blocksize
block
offset
value
m_firstFree
offset
block
int
index
at
m_blocksize
int
maxindex
m_firstFree
m_blocksize
m_firstFree
int
offset
at
m_blocksize
byte
push
while
index
maxindex
block
int
copylen
m_blocksize
offset
byte
block
m_map
index
if
block
block
push
block
m_map
index
byte
m_blocksize
block
push
block
m_blocksize
arraycopy
block
offset
block
offset
copylen
block
offset
value
value
push
offset
index
removeAllElements
m_firstFree
removeElement
boolean
s
byte
int
at
indexOf
s
if
at
return
removeElementAt
at
return
removeElementAt
at
int
if
at
m_firstFree
block
int
index
at
m_blocksize
int
maxindex
m_firstFree
m_blocksize
int
offset
at
m_blocksize
while
index
maxindex
block
int
copylen
m_blocksize
offset
byte
block
m_map
index
if
block
block
m_map
index
byte
m_blocksize
arraycopy
block
offset
block
offset
copylen
if
index
maxindex
block
byte
next
m_map
index
if
next
block
m_blocksize
next
next
block
m_blocksize
offset
index
m_firstFree
setElementAt
value
byte
at
int
if
at
m_blocksize
block
m_map0
at
value
return
int
index
at
m_blocksize
int
offset
at
m_blocksize
if
index
length
block
int
newsize
index
m_numblocks
byte
newMap
byte
newsize
arraycopy
m_map
newMap
length
m_map
newMap
byte
block
m_map
index
if
block
block
m_map
index
byte
m_blocksize
block
offset
value
if
at
m_firstFree
m_firstFree
at
elementAt
byte
i
int
if
i
m_blocksize
return
m_map0
i
return
m_map
i
m_blocksize
i
m_blocksize
contains
boolean
s
byte
return
indexOf
s
indexOf
int
elem
byte
index
int
if
index
m_firstFree
return
int
bindex
index
m_blocksize
int
boffset
index
m_blocksize
int
maxindex
m_firstFree
m_blocksize
byte
block
for
forControl
bindex
maxindex
bindex
block
block
m_map
bindex
if
block
for
forControl
int
offset
boffset
offset
m_blocksize
offset
if
block
offset
elem
return
offset
bindex
m_blocksize
boffset
int
maxoffset
m_firstFree
m_blocksize
block
m_map
maxindex
for
forControl
int
offset
boffset
offset
maxoffset
offset
if
block
offset
elem
return
offset
maxindex
m_blocksize
return
indexOf
int
elem
byte
return
indexOf
elem
lastIndexOf
int
elem
byte
int
boffset
m_firstFree
m_blocksize
for
forControl
int
index
m_firstFree
m_blocksize
index
index
block
byte
block
m_map
index
if
block
for
forControl
int
offset
boffset
offset
offset
if
block
offset
elem
return
offset
index
m_blocksize
boffset
return
