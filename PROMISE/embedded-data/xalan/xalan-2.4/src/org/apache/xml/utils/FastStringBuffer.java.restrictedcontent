FastStringBuffer
int
DEBUG_FORCE_INIT_BITS
boolean
DEBUG_FORCE_FIXED_CHUNKSIZE
int
SUPPRESS_LEADING_WS
int
SUPPRESS_TRAILING_WS
int
SUPPRESS_BOTH
SUPPRESS_LEADING_WS
SUPPRESS_TRAILING_WS
int
CARRY_WS
int
m_chunkBits
int
m_maxChunkBits
int
m_rebundleBits
int
m_chunkSize
int
m_chunkMask
char
m_array
int
m_lastChunk
int
m_firstFree
FastStringBuffer
m_innerFSB
FastStringBuffer
initChunkBits
int
maxChunkBits
int
rebundleBits
int
if
DEBUG_FORCE_INIT_BITS
initChunkBits
DEBUG_FORCE_INIT_BITS
if
DEBUG_FORCE_FIXED_CHUNKSIZE
maxChunkBits
initChunkBits
m_array
char
if
initChunkBits
maxChunkBits
initChunkBits
maxChunkBits
m_chunkBits
initChunkBits
m_maxChunkBits
maxChunkBits
m_rebundleBits
rebundleBits
m_chunkSize
initChunkBits
m_chunkMask
m_chunkSize
m_array
char
m_chunkSize
FastStringBuffer
initChunkBits
int
maxChunkBits
int
initChunkBits
maxChunkBits
FastStringBuffer
initChunkBits
int
initChunkBits
FastStringBuffer
size
int
return
m_lastChunk
m_chunkBits
m_firstFree
length
int
return
m_lastChunk
m_chunkBits
m_firstFree
reset
m_lastChunk
m_firstFree
FastStringBuffer
innermost
while
m_innerFSB
block
innermost
m_innerFSB
m_chunkBits
m_chunkBits
m_chunkSize
m_chunkSize
m_chunkMask
m_chunkMask
m_innerFSB
m_array
char
m_array
char
m_chunkSize
setLength
l
int
m_lastChunk
l
m_chunkBits
if
m_lastChunk
m_innerFSB
block
setLength
l
block
m_firstFree
l
m_chunkMask
if
m_firstFree
m_lastChunk
block
m_lastChunk
m_firstFree
m_chunkSize
setLength
l
int
rootFSB
FastStringBuffer
m_lastChunk
l
m_chunkBits
if
m_lastChunk
m_innerFSB
block
setLength
l
rootFSB
block
m_chunkBits
m_chunkBits
m_maxChunkBits
m_maxChunkBits
m_rebundleBits
m_rebundleBits
m_chunkSize
m_chunkSize
m_chunkMask
m_chunkMask
m_array
m_array
m_innerFSB
m_innerFSB
m_lastChunk
m_lastChunk
m_firstFree
l
m_chunkMask
toString
String
int
length
m_lastChunk
m_chunkBits
m_firstFree
return
getString
toString
StringBuffer
length
length
append
value
char
char
chunk
boolean
lastchunk
m_lastChunk
length
if
m_firstFree
m_chunkSize
chunk
m_array
m_lastChunk
block
int
i
length
if
m_lastChunk
i
block
char
newarray
char
i
arraycopy
m_array
newarray
i
m_array
newarray
chunk
m_array
m_lastChunk
if
chunk
block
if
m_lastChunk
m_rebundleBits
m_chunkBits
m_maxChunkBits
block
m_innerFSB
FastStringBuffer
chunk
m_array
m_lastChunk
char
m_chunkSize
m_firstFree
chunk
m_firstFree
value
append
value
String
if
value
return
int
strlen
length
if
strlen
return
int
copyfrom
char
chunk
m_array
m_lastChunk
int
available
m_chunkSize
m_firstFree
while
strlen
block
if
available
strlen
available
strlen
getChars
copyfrom
copyfrom
available
m_array
m_lastChunk
m_firstFree
strlen
available
copyfrom
available
if
strlen
block
int
i
length
if
m_lastChunk
i
block
char
newarray
char
i
arraycopy
m_array
newarray
i
m_array
newarray
chunk
m_array
m_lastChunk
if
chunk
block
if
m_lastChunk
m_rebundleBits
m_chunkBits
m_maxChunkBits
block
m_innerFSB
FastStringBuffer
chunk
m_array
m_lastChunk
char
m_chunkSize
available
m_chunkSize
m_firstFree
m_firstFree
available
append
value
StringBuffer
if
value
return
int
strlen
length
if
strlen
return
int
copyfrom
char
chunk
m_array
m_lastChunk
int
available
m_chunkSize
m_firstFree
while
strlen
block
if
available
strlen
available
strlen
getChars
copyfrom
copyfrom
available
m_array
m_lastChunk
m_firstFree
strlen
available
copyfrom
available
if
strlen
block
int
i
length
if
m_lastChunk
i
block
char
newarray
char
i
arraycopy
m_array
newarray
i
m_array
newarray
chunk
m_array
m_lastChunk
if
chunk
block
if
m_lastChunk
m_rebundleBits
m_chunkBits
m_maxChunkBits
block
m_innerFSB
FastStringBuffer
chunk
m_array
m_lastChunk
char
m_chunkSize
available
m_chunkSize
m_firstFree
m_firstFree
available
append
chars
char
start
int
length
int
int
strlen
length
if
strlen
return
int
copyfrom
start
char
chunk
m_array
m_lastChunk
int
available
m_chunkSize
m_firstFree
while
strlen
block
if
available
strlen
available
strlen
arraycopy
chars
copyfrom
m_array
m_lastChunk
m_firstFree
available
strlen
available
copyfrom
available
if
strlen
block
int
i
length
if
m_lastChunk
i
block
char
newarray
char
i
arraycopy
m_array
newarray
i
m_array
newarray
chunk
m_array
m_lastChunk
if
chunk
block
if
m_lastChunk
m_rebundleBits
m_chunkBits
m_maxChunkBits
block
m_innerFSB
FastStringBuffer
chunk
m_array
m_lastChunk
char
m_chunkSize
available
m_chunkSize
m_firstFree
m_firstFree
available
append
value
FastStringBuffer
if
value
return
int
strlen
length
if
strlen
return
int
copyfrom
char
chunk
m_array
m_lastChunk
int
available
m_chunkSize
m_firstFree
while
strlen
block
if
available
strlen
available
strlen
int
sourcechunk
copyfrom
m_chunkSize
m_chunkBits
int
sourcecolumn
copyfrom
m_chunkMask
int
runlength
m_chunkSize
sourcecolumn
if
runlength
available
runlength
available
arraycopy
m_array
sourcechunk
sourcecolumn
m_array
m_lastChunk
m_firstFree
runlength
if
runlength
available
arraycopy
m_array
sourcechunk
m_array
m_lastChunk
m_firstFree
runlength
available
runlength
strlen
available
copyfrom
available
if
strlen
block
int
i
length
if
m_lastChunk
i
block
char
newarray
char
i
arraycopy
m_array
newarray
i
m_array
newarray
chunk
m_array
m_lastChunk
if
chunk
block
if
m_lastChunk
m_rebundleBits
m_chunkBits
m_maxChunkBits
block
m_innerFSB
FastStringBuffer
chunk
m_array
m_lastChunk
char
m_chunkSize
available
m_chunkSize
m_firstFree
m_firstFree
available
isWhitespace
boolean
start
int
length
int
int
sourcechunk
start
m_chunkBits
int
sourcecolumn
start
m_chunkMask
int
available
m_chunkSize
sourcecolumn
boolean
chunkOK
while
length
block
int
runlength
length
available
length
available
if
sourcechunk
m_innerFSB
chunkOK
isWhitespace
sourcecolumn
runlength
chunkOK
isWhiteSpace
m_array
sourcechunk
sourcecolumn
runlength
if
chunkOK
return
length
runlength
sourcechunk
sourcecolumn
available
m_chunkSize
return
getString
String
start
int
length
int
return
getString
toString
StringBuffer
length
start
m_chunkBits
start
m_chunkMask
length
getString
StringBuffer
sb
StringBuffer
start
int
length
int
return
getString
sb
start
m_chunkBits
start
m_chunkMask
length
getString
StringBuffer
sb
StringBuffer
startChunk
int
startColumn
int
length
int
int
stop
startChunk
m_chunkBits
startColumn
length
int
stopChunk
stop
m_chunkBits
int
stopColumn
stop
m_chunkMask
for
forControl
int
i
startChunk
i
stopChunk
i
block
if
i
m_innerFSB
getString
sb
startColumn
m_chunkSize
startColumn
append
m_array
i
startColumn
m_chunkSize
startColumn
startColumn
if
stopChunk
m_innerFSB
getString
sb
startColumn
stopColumn
startColumn
if
stopColumn
startColumn
append
m_array
stopChunk
startColumn
stopColumn
startColumn
return
sb
charAt
char
pos
int
int
startChunk
pos
m_chunkBits
if
startChunk
m_innerFSB
return
charAt
pos
m_chunkMask
return
m_array
startChunk
pos
m_chunkMask
sendSAXcharacters
ch
org
xml
sax
ContentHandler
start
int
length
int
int
stop
start
length
int
startChunk
start
m_chunkBits
int
startColumn
start
m_chunkMask
int
stopChunk
stop
m_chunkBits
int
stopColumn
stop
m_chunkMask
for
forControl
int
i
startChunk
i
stopChunk
i
block
if
i
m_innerFSB
sendSAXcharacters
ch
startColumn
m_chunkSize
startColumn
characters
m_array
i
startColumn
m_chunkSize
startColumn
startColumn
if
stopChunk
m_innerFSB
sendSAXcharacters
ch
startColumn
stopColumn
startColumn
if
stopColumn
startColumn
block
characters
m_array
stopChunk
startColumn
stopColumn
startColumn
sendNormalizedSAXcharacters
int
ch
org
xml
sax
ContentHandler
start
int
length
int
int
stateForNextChunk
SUPPRESS_LEADING_WS
int
stop
start
length
int
startChunk
start
m_chunkBits
int
startColumn
start
m_chunkMask
int
stopChunk
stop
m_chunkBits
int
stopColumn
stop
m_chunkMask
for
forControl
int
i
startChunk
i
stopChunk
i
block
if
i
m_innerFSB
stateForNextChunk
sendNormalizedSAXcharacters
ch
startColumn
m_chunkSize
startColumn
stateForNextChunk
sendNormalizedSAXcharacters
m_array
i
startColumn
m_chunkSize
startColumn
ch
stateForNextChunk
startColumn
if
stopChunk
m_innerFSB
stateForNextChunk
sendNormalizedSAXcharacters
ch
startColumn
stopColumn
startColumn
if
stopColumn
startColumn
block
stateForNextChunk
sendNormalizedSAXcharacters
m_array
stopChunk
startColumn
stopColumn
startColumn
ch
stateForNextChunk
SUPPRESS_TRAILING_WS
return
stateForNextChunk
char
SINGLE_SPACE
sendNormalizedSAXcharacters
int
ch
char
start
int
length
int
handler
org
xml
sax
ContentHandler
edgeTreatmentFlags
int
int
end
length
start
int
scanpos
start
if
isWhiteSpace
ch
scanpos
block
if
edgeTreatmentFlags
SUPPRESS_LEADING_WS
characters
SINGLE_SPACE
while
scanpos
end
block
char
c
ch
scanpos
if
isWhiteSpace
c
break
boolean
whiteSpaceFound
boolean
needToFlushSpace
edgeTreatmentFlags
CARRY_WS
int
datapos
scanpos
for
forControl
scanpos
end
scanpos
block
char
c
ch
scanpos
if
isWhiteSpace
c
block
if
whiteSpaceFound
block
whiteSpaceFound
int
len
scanpos
datapos
if
len
block
if
needToFlushSpace
characters
SINGLE_SPACE
characters
ch
datapos
len
needToFlushSpace
datapos
scanpos
block
int
nonwhitescan
scanpos
for
forControl
nonwhitescan
end
nonwhitescan
block
c
ch
nonwhitescan
if
isWhiteSpace
c
break
if
nonwhitescan
end
block
end
scanpos
break
int
len
scanpos
datapos
if
len
block
if
needToFlushSpace
block
characters
SINGLE_SPACE
needToFlushSpace
characters
ch
datapos
len
whiteSpaceFound
datapos
scanpos
nonwhitescan
block
whiteSpaceFound
if
whiteSpaceFound
scanpos
int
len
scanpos
datapos
if
len
block
if
needToFlushSpace
characters
SINGLE_SPACE
characters
ch
datapos
len
edgeTreatmentFlags
SUPPRESS_LEADING_WS
CARRY_WS
if
whiteSpaceFound
edgeTreatmentFlags
SUPPRESS_TRAILING_WS
block
edgeTreatmentFlags
SUPPRESS_LEADING_WS
CARRY_WS
return
edgeTreatmentFlags
sendNormalizedSAXcharacters
ch
char
start
int
length
int
handler
org
xml
sax
ContentHandler
sendNormalizedSAXcharacters
ch
start
length
handler
SUPPRESS_BOTH
sendSAXComment
ch
org
xml
sax
ext
LexicalHandler
start
int
length
int
String
comment
getString
start
length
comment
toCharArray
length
getChars
srcBegin
int
srcEnd
int
dst
char
dstBegin
int
FastStringBuffer
source
FastStringBuffer
m_chunkBits
m_chunkBits
m_maxChunkBits
m_maxChunkBits
m_rebundleBits
m_rebundleBits
m_chunkSize
m_chunkSize
m_chunkMask
m_chunkMask
m_array
m_array
m_innerFSB
m_innerFSB
m_lastChunk
m_lastChunk
m_firstFree
m_chunkSize
m_array
char
m_innerFSB
m_lastChunk
m_firstFree
m_chunkBits
m_rebundleBits
m_chunkSize
m_chunkBits
m_chunkMask
m_chunkSize
