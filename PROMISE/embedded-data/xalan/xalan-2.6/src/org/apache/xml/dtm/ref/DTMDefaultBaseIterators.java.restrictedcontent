DTMDefaultBaseIterators
DTMDefaultBaseIterators
mgr
DTMManager
source
Source
dtmIdentity
int
whiteSpaceFilter
DTMWSFilter
xstringfactory
XMLStringFactory
doIndexing
boolean
mgr
source
dtmIdentity
whiteSpaceFilter
xstringfactory
doIndexing
DTMDefaultBaseIterators
mgr
DTMManager
source
Source
dtmIdentity
int
whiteSpaceFilter
DTMWSFilter
xstringfactory
XMLStringFactory
doIndexing
boolean
blocksize
int
usePrevsib
boolean
newNameTable
boolean
mgr
source
dtmIdentity
whiteSpaceFilter
xstringfactory
doIndexing
blocksize
usePrevsib
newNameTable
getTypedAxisIterator
DTMAxisIterator
axis
int
type
int
DTMAxisIterator
iterator
block
switch
axis
case
SELF
iterator
TypedSingletonIterator
type
break
case
CHILD
iterator
TypedChildrenIterator
type
break
case
PARENT
return
ParentIterator
case
ANCESTOR
return
TypedAncestorIterator
type
case
ANCESTORORSELF
return
TypedAncestorIterator
type
case
ATTRIBUTE
return
TypedAttributeIterator
type
case
DESCENDANT
iterator
TypedDescendantIterator
type
break
case
DESCENDANTORSELF
iterator
includeSelf
TypedDescendantIterator
type
break
case
FOLLOWING
iterator
TypedFollowingIterator
type
break
case
PRECEDING
iterator
TypedPrecedingIterator
type
break
case
FOLLOWINGSIBLING
iterator
TypedFollowingSiblingIterator
type
break
case
PRECEDINGSIBLING
iterator
TypedPrecedingSiblingIterator
type
break
case
NAMESPACE
iterator
TypedNamespaceIterator
type
break
case
ROOT
iterator
TypedRootIterator
type
break
case
throw
DTMException
createXMLMessage
ER_TYPED_ITERATOR_AXIS_NOT_IMPLEMENTED
Object
names
axis
return
iterator
getAxisIterator
DTMAxisIterator
axis
int
DTMAxisIterator
iterator
switch
axis
case
SELF
iterator
SingletonIterator
break
case
CHILD
iterator
ChildrenIterator
break
case
PARENT
return
ParentIterator
case
ANCESTOR
return
AncestorIterator
case
ANCESTORORSELF
return
AncestorIterator
case
ATTRIBUTE
return
AttributeIterator
case
DESCENDANT
iterator
DescendantIterator
break
case
DESCENDANTORSELF
iterator
includeSelf
DescendantIterator
break
case
FOLLOWING
iterator
FollowingIterator
break
case
PRECEDING
iterator
PrecedingIterator
break
case
FOLLOWINGSIBLING
iterator
FollowingSiblingIterator
break
case
PRECEDINGSIBLING
iterator
PrecedingSiblingIterator
break
case
NAMESPACE
iterator
NamespaceIterator
break
case
ROOT
iterator
RootIterator
break
case
throw
DTMException
createXMLMessage
ER_ITERATOR_AXIS_NOT_IMPLEMENTED
Object
names
axis
return
iterator
InternalAxisIteratorBase
int
_currentNode
setMark
_markedNode
_currentNode
gotoMark
_currentNode
_markedNode
DTMAxisIteratorBase
ChildrenIterator
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
node
NULL
NULL
_firstch
makeNodeIdentity
node
return
resetPosition
return
next
int
if
_currentNode
NULL
block
int
node
_currentNode
_currentNode
_nextsib
node
return
returnNode
makeNodeHandle
node
return
END
InternalAxisIteratorBase
ParentIterator
int
_nodeType
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
getParent
node
return
resetPosition
return
setNodeType
DTMAxisIterator
type
int
_nodeType
type
return
next
int
int
result
_currentNode
if
_nodeType
NTYPES
block
if
_nodeType
getExpandedTypeID
_currentNode
block
result
END
if
_nodeType
NULL
block
if
_nodeType
getNodeType
_currentNode
block
result
END
_currentNode
END
return
returnNode
result
InternalAxisIteratorBase
TypedChildrenIterator
int
_nodeType
TypedChildrenIterator
nodeType
int
_nodeType
nodeType
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
node
NULL
NULL
_firstch
makeNodeIdentity
_startNode
return
resetPosition
return
next
int
int
eType
int
node
_currentNode
int
nodeType
_nodeType
if
nodeType
NTYPES
block
while
node
NULL
_exptype
node
nodeType
block
node
_nextsib
node
block
while
node
NULL
block
eType
_exptype
node
if
eType
NTYPES
block
if
eType
nodeType
block
break
if
getType
eType
nodeType
block
break
node
_nextsib
node
if
node
NULL
block
_currentNode
NULL
return
NULL
block
_currentNode
_nextsib
node
return
returnNode
makeNodeHandle
node
InternalAxisIteratorBase
NamespaceChildrenIterator
int
_nsType
NamespaceChildrenIterator
type
int
_nsType
type
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
node
NULL
NULL
NOTPROCESSED
return
resetPosition
return
next
int
if
_currentNode
NULL
block
for
forControl
int
node
NOTPROCESSED
_currentNode
_firstch
makeNodeIdentity
_startNode
_nextsib
_currentNode
node
END
node
_nextsib
node
block
if
getNamespaceID
_exptype
node
_nsType
block
_currentNode
node
return
returnNode
node
return
END
InternalAxisIteratorBase
NamespaceIterator
NamespaceIterator
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
getFirstNamespaceNode
node
return
resetPosition
return
next
int
int
node
_currentNode
if
NULL
node
_currentNode
getNextNamespaceNode
_startNode
node
return
returnNode
node
InternalAxisIteratorBase
TypedNamespaceIterator
int
_nodeType
TypedNamespaceIterator
nodeType
int
_nodeType
nodeType
next
int
int
node
for
forControl
node
_currentNode
node
END
node
getNextNamespaceNode
_startNode
node
block
if
getExpandedTypeID
node
_nodeType
getNodeType
node
_nodeType
getNamespaceType
node
_nodeType
block
_currentNode
node
return
returnNode
node
return
_currentNode
END
NamespaceIterator
RootIterator
RootIterator
setStartNode
DTMAxisIterator
node
int
if
_isRestartable
block
_startNode
getDocumentRoot
node
_currentNode
NULL
return
resetPosition
return
next
int
if
_startNode
_currentNode
return
NULL
_currentNode
_startNode
return
returnNode
_startNode
InternalAxisIteratorBase
TypedRootIterator
int
_nodeType
TypedRootIterator
nodeType
int
_nodeType
nodeType
next
int
if
_startNode
_currentNode
return
NULL
int
nodeType
_nodeType
int
node
_startNode
int
expType
getExpandedTypeID
node
_currentNode
node
if
nodeType
NTYPES
block
if
nodeType
expType
block
return
returnNode
node
block
if
expType
NTYPES
block
if
expType
nodeType
block
return
returnNode
node
block
if
getType
expType
nodeType
block
return
returnNode
node
return
END
RootIterator
NamespaceAttributeIterator
int
_nsType
NamespaceAttributeIterator
nsType
int
_nsType
nsType
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
getFirstNamespaceNode
node
return
resetPosition
return
next
int
int
node
_currentNode
if
NULL
node
_currentNode
getNextNamespaceNode
_startNode
node
return
returnNode
node
InternalAxisIteratorBase
FollowingSiblingIterator
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
makeNodeIdentity
node
return
resetPosition
return
next
int
_currentNode
_currentNode
NULL
NULL
_nextsib
_currentNode
return
returnNode
makeNodeHandle
_currentNode
InternalAxisIteratorBase
TypedFollowingSiblingIterator
int
_nodeType
TypedFollowingSiblingIterator
type
int
_nodeType
type
next
int
if
_currentNode
NULL
block
return
NULL
int
node
_currentNode
int
eType
int
nodeType
_nodeType
if
nodeType
NTYPES
block
do
node
NULL
_exptype
node
nodeType
block
node
_nextsib
node
block
while
node
_nextsib
node
NULL
block
eType
_exptype
node
if
eType
NTYPES
block
if
eType
nodeType
block
break
if
getType
eType
nodeType
block
break
_currentNode
node
return
_currentNode
NULL
NULL
returnNode
makeNodeHandle
_currentNode
FollowingSiblingIterator
AttributeIterator
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
getFirstAttributeIdentity
makeNodeIdentity
node
return
resetPosition
return
next
int
int
node
_currentNode
if
node
NULL
block
_currentNode
getNextAttributeIdentity
node
return
returnNode
makeNodeHandle
node
return
NULL
InternalAxisIteratorBase
TypedAttributeIterator
int
_nodeType
TypedAttributeIterator
nodeType
int
_nodeType
nodeType
setStartNode
DTMAxisIterator
node
int
if
_isRestartable
block
_startNode
node
_currentNode
getTypedAttribute
node
_nodeType
return
resetPosition
return
next
int
int
node
_currentNode
_currentNode
NULL
return
returnNode
node
InternalAxisIteratorBase
PrecedingSiblingIterator
int
_startNodeID
isReverse
boolean
return
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
node
_startNodeID
makeNodeIdentity
node
if
node
NULL
block
_currentNode
node
return
resetPosition
int
type
getType
_exptype
node
if
ATTRIBUTE
type
NAMESPACE
type
block
_currentNode
node
block
_currentNode
_parent
node
if
NULL
_currentNode
_currentNode
_firstch
_currentNode
_currentNode
node
return
resetPosition
return
next
int
if
_currentNode
_startNodeID
_currentNode
NULL
block
return
NULL
block
int
node
_currentNode
_currentNode
_nextsib
node
return
returnNode
makeNodeHandle
node
InternalAxisIteratorBase
TypedPrecedingSiblingIterator
int
_nodeType
TypedPrecedingSiblingIterator
type
int
_nodeType
type
next
int
int
node
_currentNode
int
expType
int
nodeType
_nodeType
int
startID
_startNodeID
if
nodeType
NTYPES
block
while
node
NULL
node
startID
_exptype
node
nodeType
block
node
_nextsib
node
block
while
node
NULL
node
startID
block
expType
_exptype
node
if
expType
NTYPES
block
if
expType
nodeType
block
break
block
if
getType
expType
nodeType
block
break
node
_nextsib
node
if
node
NULL
node
_startNodeID
block
_currentNode
NULL
return
NULL
block
_currentNode
_nextsib
node
return
returnNode
makeNodeHandle
node
PrecedingSiblingIterator
PrecedingIterator
int
_maxAncestors
int
_stack
int
_maxAncestors
int
_sp
_oldsp
int
_markedsp
_markedNode
_markedDescendant
isReverse
boolean
return
cloneIterator
DTMAxisIterator
_isRestartable
try
PrecedingIterator
clone
PrecedingIterator
clone
int
stackCopy
int
length
arraycopy
_stack
stackCopy
length
_stack
stackCopy
return
clone
catchClause
e
throw
DTMException
createXMLMessage
ER_ITERATOR_CLONE_NOT_SUPPORTED
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
node
makeNodeIdentity
node
int
parent
index
if
_type
node
ATTRIBUTE_NODE
node
_parent
node
_startNode
node
_stack
index
node
parent
node
while
parent
_parent
parent
NULL
block
if
index
length
block
int
stack
int
index
arraycopy
_stack
stack
index
_stack
stack
_stack
index
parent
if
index
index
_currentNode
_stack
index
_oldsp
_sp
index
return
resetPosition
return
next
int
for
forControl
_currentNode
_sp
_currentNode
block
if
_currentNode
_stack
_sp
block
if
_type
_currentNode
ATTRIBUTE_NODE
_type
_currentNode
NAMESPACE_NODE
return
returnNode
makeNodeHandle
_currentNode
_sp
return
NULL
reset
DTMAxisIterator
_sp
_oldsp
return
resetPosition
setMark
_markedsp
_sp
_markedNode
_currentNode
_markedDescendant
_stack
gotoMark
_sp
_markedsp
_currentNode
_markedNode
InternalAxisIteratorBase
TypedPrecedingIterator
int
_nodeType
TypedPrecedingIterator
type
int
_nodeType
type
next
int
int
node
_currentNode
int
nodeType
_nodeType
if
nodeType
NTYPES
block
while
block
node
node
if
_sp
block
node
NULL
break
if
node
_stack
_sp
block
if
_sp
block
node
NULL
break
if
_exptype
node
nodeType
block
break
block
int
expType
while
block
node
node
if
_sp
block
node
NULL
break
if
node
_stack
_sp
block
if
_sp
block
node
NULL
break
block
expType
_exptype
node
if
expType
NTYPES
block
if
expType
nodeType
block
break
block
if
getType
expType
nodeType
block
break
_currentNode
node
return
node
NULL
NULL
returnNode
makeNodeHandle
node
PrecedingIterator
FollowingIterator
DTMAxisTraverser
m_traverser
FollowingIterator
m_traverser
getAxisTraverser
FOLLOWING
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
_startNode
node
_currentNode
first
node
return
resetPosition
return
next
int
int
node
_currentNode
_currentNode
next
_startNode
_currentNode
return
returnNode
node
InternalAxisIteratorBase
TypedFollowingIterator
int
_nodeType
TypedFollowingIterator
type
int
_nodeType
type
next
int
int
node
do
node
NULL
getExpandedTypeID
node
_nodeType
getNodeType
node
_nodeType
block
node
_currentNode
_currentNode
next
_startNode
_currentNode
return
node
NULL
NULL
returnNode
node
FollowingIterator
AncestorIterator
org
apache
xml
utils
NodeVector
m_ancestors
org
apache
xml
utils
NodeVector
int
m_ancestorsPos
int
m_markedPos
int
m_realStartNode
getStartNode
int
return
m_realStartNode
isReverse
boolean
return
cloneIterator
DTMAxisIterator
_isRestartable
try
AncestorIterator
clone
AncestorIterator
clone
_startNode
_startNode
return
clone
catchClause
e
throw
DTMException
createXMLMessage
ER_ITERATOR_CLONE_NOT_SUPPORTED
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
m_realStartNode
node
if
_isRestartable
block
int
nodeID
makeNodeIdentity
node
if
_includeSelf
node
NULL
block
nodeID
_parent
nodeID
node
makeNodeHandle
nodeID
_startNode
node
while
nodeID
END
block
addElement
node
nodeID
_parent
nodeID
node
makeNodeHandle
nodeID
m_ancestorsPos
size
_currentNode
m_ancestorsPos
elementAt
m_ancestorsPos
NULL
return
resetPosition
return
reset
DTMAxisIterator
m_ancestorsPos
size
_currentNode
m_ancestorsPos
elementAt
m_ancestorsPos
NULL
return
resetPosition
next
int
int
next
_currentNode
int
pos
m_ancestorsPos
_currentNode
pos
elementAt
m_ancestorsPos
NULL
return
returnNode
next
setMark
m_markedPos
m_ancestorsPos
gotoMark
m_ancestorsPos
m_markedPos
_currentNode
m_ancestorsPos
elementAt
m_ancestorsPos
NULL
InternalAxisIteratorBase
TypedAncestorIterator
int
_nodeType
TypedAncestorIterator
type
int
_nodeType
type
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
m_realStartNode
node
if
_isRestartable
block
int
nodeID
makeNodeIdentity
node
int
nodeType
_nodeType
if
_includeSelf
node
NULL
block
nodeID
_parent
nodeID
_startNode
node
if
nodeType
NTYPES
block
while
nodeID
END
block
int
eType
_exptype
nodeID
if
eType
nodeType
block
addElement
makeNodeHandle
nodeID
nodeID
_parent
nodeID
block
while
nodeID
END
block
int
eType
_exptype
nodeID
if
eType
NTYPES
getType
eType
nodeType
eType
NTYPES
eType
nodeType
block
addElement
makeNodeHandle
nodeID
nodeID
_parent
nodeID
m_ancestorsPos
size
_currentNode
m_ancestorsPos
elementAt
m_ancestorsPos
NULL
return
resetPosition
return
AncestorIterator
DescendantIterator
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isRestartable
block
node
makeNodeIdentity
node
_startNode
node
if
_includeSelf
node
_currentNode
node
return
resetPosition
return
isDescendant
boolean
identity
int
return
_parent
identity
_startNode
_startNode
identity
next
int
if
_startNode
NULL
block
return
NULL
if
_includeSelf
_currentNode
_startNode
return
returnNode
makeNodeHandle
_currentNode
int
node
_currentNode
int
type
do
ATTRIBUTE_NODE
type
TEXT_NODE
type
NAMESPACE_NODE
type
block
node
type
_type
node
if
NULL
type
isDescendant
node
block
_currentNode
NULL
return
END
_currentNode
node
return
returnNode
makeNodeHandle
node
reset
DTMAxisIterator
boolean
temp
_isRestartable
_isRestartable
setStartNode
makeNodeHandle
_startNode
_isRestartable
temp
return
InternalAxisIteratorBase
TypedDescendantIterator
int
_nodeType
TypedDescendantIterator
nodeType
int
_nodeType
nodeType
next
int
int
node
int
type
if
_startNode
NULL
block
return
NULL
node
_currentNode
do
type
_nodeType
_exptype
node
_nodeType
block
node
type
_type
node
if
NULL
type
isDescendant
node
block
_currentNode
NULL
return
END
_currentNode
node
return
returnNode
makeNodeHandle
node
DescendantIterator
NthDescendantIterator
int
_pos
NthDescendantIterator
pos
int
_pos
pos
next
int
int
node
while
node
next
END
block
node
makeNodeIdentity
node
int
parent
_parent
node
int
child
_firstch
parent
int
pos
do
pos
_pos
child
_nextsib
child
END
block
int
type
_type
child
if
ELEMENT_NODE
type
pos
if
node
child
return
node
return
END
DescendantIterator
SingletonIterator
boolean
_isConstant
SingletonIterator
MIN_VALUE
SingletonIterator
node
int
node
SingletonIterator
node
int
constant
boolean
_currentNode
_startNode
node
_isConstant
constant
setStartNode
DTMAxisIterator
node
int
if
node
ROOTNODE
node
getDocument
if
_isConstant
block
_currentNode
_startNode
return
resetPosition
if
_isRestartable
block
if
_currentNode
MIN_VALUE
block
_currentNode
_startNode
node
return
resetPosition
return
reset
DTMAxisIterator
if
_isConstant
block
_currentNode
_startNode
return
resetPosition
block
boolean
temp
_isRestartable
_isRestartable
setStartNode
_startNode
_isRestartable
temp
return
next
int
int
result
_currentNode
_currentNode
END
return
returnNode
result
InternalAxisIteratorBase
TypedSingletonIterator
int
_nodeType
TypedSingletonIterator
nodeType
int
_nodeType
nodeType
next
int
int
result
_currentNode
int
nodeType
_nodeType
_currentNode
END
if
nodeType
NTYPES
block
if
getExpandedTypeID
result
nodeType
block
return
returnNode
result
block
if
getNodeType
result
nodeType
block
return
returnNode
result
return
NULL
SingletonIterator
DTMDefaultBaseTraversers
