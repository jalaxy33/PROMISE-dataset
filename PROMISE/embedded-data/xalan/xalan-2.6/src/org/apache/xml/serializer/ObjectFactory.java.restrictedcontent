ObjectFactory
String
DEFAULT_PROPERTIES_FILENAME
String
SERVICES_PATH
boolean
DEBUG
Properties
fXalanProperties
long
fLastModified
createObject
Object
factoryId
String
fallbackClassName
String
return
createObject
factoryId
fallbackClassName
createObject
Object
factoryId
String
propertiesFilename
String
fallbackClassName
String
Class
factoryClass
lookUpFactoryClass
factoryId
propertiesFilename
fallbackClassName
if
factoryClass
block
throw
ConfigurationError
factoryId
try
Object
instance
newInstance
debugPrintln
factoryId
return
instance
catchClause
x
throw
ConfigurationError
factoryId
x
x
lookUpFactoryClass
Class
factoryId
String
return
lookUpFactoryClass
factoryId
lookUpFactoryClass
Class
factoryId
String
propertiesFilename
String
fallbackClassName
String
String
factoryClassName
lookUpFactoryClassName
factoryId
propertiesFilename
fallbackClassName
ClassLoader
cl
findClassLoader
if
factoryClassName
block
factoryClassName
fallbackClassName
try
Class
providerClass
findProviderClass
factoryClassName
cl
debugPrintln
providerClass
cl
return
providerClass
catchClause
x
throw
ConfigurationError
factoryClassName
x
catchClause
x
throw
ConfigurationError
factoryClassName
x
x
lookUpFactoryClassName
String
factoryId
String
propertiesFilename
String
fallbackClassName
String
SecuritySupport
ss
getInstance
try
String
systemProp
getSystemProperty
factoryId
if
systemProp
block
debugPrintln
systemProp
return
systemProp
catchClause
se
String
factoryClassName
if
propertiesFilename
block
File
propertiesFile
boolean
propertiesFileExists
try
String
javah
getSystemProperty
propertiesFilename
javah
separator
separator
DEFAULT_PROPERTIES_FILENAME
propertiesFile
File
propertiesFilename
propertiesFileExists
getFileExists
propertiesFile
catchClause
e
fLastModified
fXalanProperties
synchronized
ObjectFactory
boolean
loadProperties
try
if
fLastModified
block
if
propertiesFileExists
fLastModified
fLastModified
getLastModified
propertiesFile
block
loadProperties
block
if
propertiesFileExists
block
fLastModified
fXalanProperties
block
if
propertiesFileExists
block
loadProperties
fLastModified
getLastModified
propertiesFile
if
loadProperties
block
fXalanProperties
Properties
FileInputStream
fis
getFileInputStream
propertiesFile
load
fis
close
catchClause
x
fXalanProperties
fLastModified
if
fXalanProperties
block
factoryClassName
getProperty
factoryId
block
try
FileInputStream
fis
getFileInputStream
File
propertiesFilename
Properties
props
Properties
load
fis
close
factoryClassName
getProperty
factoryId
catchClause
x
if
factoryClassName
block
debugPrintln
propertiesFilename
factoryClassName
return
factoryClassName
return
findJarServiceProviderName
factoryId
debugPrintln
msg
String
if
DEBUG
block
println
msg
findClassLoader
ClassLoader
SecuritySupport
ss
getInstance
ClassLoader
context
getContextClassLoader
ClassLoader
system
getSystemClassLoader
ClassLoader
chain
system
while
block
if
context
chain
block
ClassLoader
current
getClassLoader
ObjectFactory
chain
system
while
block
if
current
chain
block
return
system
if
chain
block
break
chain
getParentClassLoader
chain
return
current
if
chain
block
break
chain
getParentClassLoader
chain
return
context
newInstance
Object
className
String
cl
ClassLoader
doFallback
boolean
try
Class
providerClass
findProviderClass
className
cl
doFallback
Object
instance
newInstance
debugPrintln
providerClass
cl
return
instance
catchClause
x
throw
ConfigurationError
className
x
catchClause
x
throw
ConfigurationError
className
x
x
findProviderClass
Class
className
String
cl
ClassLoader
doFallback
boolean
SecurityManager
security
getSecurityManager
try
if
security
block
checkPackageAccess
className
catchClause
e
throw
e
Class
providerClass
if
cl
block
providerClass
forName
className
block
try
providerClass
loadClass
className
catchClause
x
if
doFallback
block
ClassLoader
current
getClassLoader
ObjectFactory
if
current
block
providerClass
forName
className
if
cl
current
block
cl
current
providerClass
loadClass
className
block
throw
x
block
throw
x
return
providerClass
findJarServiceProviderName
String
factoryId
String
SecuritySupport
ss
getInstance
String
serviceId
SERVICES_PATH
factoryId
InputStream
is
ClassLoader
cl
findClassLoader
is
getResourceAsStream
cl
serviceId
if
is
block
ClassLoader
current
getClassLoader
ObjectFactory
if
cl
current
block
cl
current
is
getResourceAsStream
cl
serviceId
if
is
block
return
debugPrintln
serviceId
cl
BufferedReader
rd
try
rd
BufferedReader
InputStreamReader
is
catchClause
e
rd
BufferedReader
InputStreamReader
is
String
factoryClassName
try
factoryClassName
readLine
close
catchClause
x
return
if
factoryClassName
equals
factoryClassName
block
debugPrintln
factoryClassName
return
factoryClassName
return
ConfigurationError
Exception
exception
ConfigurationError
msg
String
x
Exception
msg
exception
x
getException
Exception
return
exception
Error
