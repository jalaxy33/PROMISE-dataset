ParentNode
NodeBase
children
int
length
ParentNode
trimToSize
if
length
children
if
length
length
block
NodeBase
temp
NodeBase
length
arraycopy
children
temp
length
children
temp
reduceWaste
if
children
return
if
length
length
trimToSize
writeChildrenXml
context
XmlWriteContext
if
children
return
int
oldIndent
boolean
preserve
boolean
pureText
if
getNodeType
ELEMENT_NODE
block
preserve
equals
getInheritedAttribute
oldIndent
getIndentLevel
try
if
preserve
setIndentLevel
oldIndent
for
forControl
int
i
i
length
i
block
if
preserve
children
i
getNodeType
TEXT_NODE
block
printIndent
pureText
children
i
writeXml
context
if
preserve
block
setIndentLevel
oldIndent
if
pureText
printIndent
startParse
context
ParseContext
doneChild
child
NodeEx
context
ParseContext
doneParse
context
ParseContext
checkChildType
type
int
hasChildNodes
boolean
return
length
getFirstChild
Node
if
length
return
return
children
getLastChild
Node
if
length
return
return
children
length
getLength
int
return
length
item
Node
i
int
if
length
i
length
return
try
return
children
i
catchClause
e
return
checkDocument
NodeBase
newChild
Node
if
newChild
throw
DomEx
HIERARCHY_REQUEST_ERR
if
newChild
NodeBase
throw
DomEx
WRONG_DOCUMENT_ERR
Document
owner
getOwnerDocument
XmlDocument
myOwner
ownerDocument
NodeBase
child
NodeBase
newChild
if
myOwner
XmlDocument
myOwner
XmlDocument
if
owner
owner
myOwner
throw
DomEx
WRONG_DOCUMENT_ERR
if
owner
block
setOwnerDocument
myOwner
if
hasChildNodes
block
for
forControl
int
i
i
block
Node
node
item
i
if
node
break
if
getOwnerDocument
NodeBase
node
if
getOwnerDocument
myOwner
throw
DomEx
WRONG_DOCUMENT_ERR
return
child
checkNotAncestor
newChild
Node
if
hasChildNodes
return
Node
ancestor
while
ancestor
block
if
newChild
ancestor
throw
DomEx
HIERARCHY_REQUEST_ERR
ancestor
getParentNode
mutated
XmlDocument
doc
ownerDocument
if
doc
XmlDocument
doc
XmlDocument
if
doc
mutationCount
consumeFragment
fragment
Node
before
Node
ParentNode
frag
ParentNode
fragment
Node
temp
for
forControl
int
i
temp
item
i
i
block
checkNotAncestor
temp
checkChildType
getNodeType
while
temp
item
insertBefore
temp
before
appendChild
Node
newChild
Node
NodeBase
child
if
readonly
throw
DomEx
NO_MODIFICATION_ALLOWED_ERR
child
checkDocument
newChild
if
getNodeType
DOCUMENT_FRAGMENT_NODE
block
consumeFragment
newChild
return
newChild
checkNotAncestor
newChild
checkChildType
getNodeType
if
children
children
NodeBase
if
length
length
block
NodeBase
temp
NodeBase
length
arraycopy
children
temp
length
children
temp
setParentNode
length
children
length
child
mutated
return
child
insertBefore
Node
newChild
Node
refChild
Node
NodeBase
child
if
readonly
throw
DomEx
NO_MODIFICATION_ALLOWED_ERR
if
refChild
return
appendChild
newChild
if
length
throw
DomEx
NOT_FOUND_ERR
child
checkDocument
newChild
if
getNodeType
DOCUMENT_FRAGMENT_NODE
block
consumeFragment
newChild
refChild
return
newChild
checkNotAncestor
newChild
checkChildType
getNodeType
if
length
length
block
NodeBase
temp
NodeBase
length
arraycopy
children
temp
length
children
temp
for
forControl
int
i
i
length
i
block
if
children
i
refChild
continue
setParentNode
i
arraycopy
children
i
children
i
length
i
children
i
child
length
mutated
return
newChild
throw
DomEx
NOT_FOUND_ERR
replaceChild
Node
newChild
Node
refChild
Node
NodeBase
child
if
readonly
throw
DomEx
NO_MODIFICATION_ALLOWED_ERR
if
newChild
refChild
throw
DomEx
HIERARCHY_REQUEST_ERR
if
children
throw
DomEx
NOT_FOUND_ERR
child
checkDocument
newChild
if
getNodeType
DOCUMENT_FRAGMENT_NODE
block
consumeFragment
newChild
refChild
return
removeChild
refChild
checkNotAncestor
newChild
checkChildType
getNodeType
for
forControl
int
i
i
length
i
block
if
children
i
refChild
continue
setParentNode
i
children
i
child
NodeBase
refChild
mutated
return
refChild
throw
DomEx
NOT_FOUND_ERR
removeChild
Node
oldChild
Node
NodeBase
child
if
readonly
throw
DomEx
NO_MODIFICATION_ALLOWED_ERR
if
oldChild
NodeBase
throw
DomEx
NOT_FOUND_ERR
child
NodeBase
oldChild
for
forControl
int
i
i
length
i
block
if
children
i
child
continue
if
i
length
arraycopy
children
i
children
i
length
i
length
children
length
setParentNode
mutated
return
oldChild
throw
DomEx
NOT_FOUND_ERR
getElementsByTagName
NodeList
tagname
String
if
equals
tagname
tagname
return
TagList
tagname
getElementsByTagNameNS
NodeList
namespaceURI
String
localName
String
if
equals
namespaceURI
block
namespaceURI
if
equals
localName
block
localName
return
TagListNS
namespaceURI
localName
TagList
String
tag
int
lastMutationCount
int
lastIndex
TreeWalker
lastWalker
getLastMutationCount
int
XmlDocument
doc
XmlDocument
getOwnerDocument
return
doc
mutationCount
TagList
tag
String
tag
tag
item
Node
i
int
if
i
return
int
temp
getLastMutationCount
if
lastWalker
block
if
i
lastIndex
temp
lastMutationCount
lastWalker
if
lastWalker
block
lastWalker
TreeWalker
lastIndex
lastMutationCount
temp
if
i
lastIndex
return
getCurrent
Node
node
while
i
lastIndex
node
getNextElement
tag
lastIndex
return
node
getLength
int
TreeWalker
walker
TreeWalker
Node
node
int
retval
for
forControl
retval
node
getNextElement
tag
retval
continue
return
retval
NodeList
TagListNS
String
namespaceURI
TagListNS
namespaceURI
String
tag
String
tag
namespaceURI
namespaceURI
item
Node
i
int
if
i
block
return
int
temp
getLastMutationCount
if
lastWalker
block
if
i
lastIndex
temp
lastMutationCount
block
lastWalker
if
lastWalker
block
lastWalker
TreeWalker
lastIndex
lastMutationCount
temp
if
i
lastIndex
block
return
getCurrent
Node
node
while
i
lastIndex
node
getNextElement
namespaceURI
tag
block
lastIndex
return
node
getLength
int
TreeWalker
walker
TreeWalker
int
count
for
forControl
count
getNextElement
namespaceURI
tag
count
block
return
count
TagList
getIndexOf
int
maybeChild
Node
for
forControl
int
i
i
length
i
if
children
i
maybeChild
return
i
return
normalize
boolean
preserve
boolean
knowPreserve
if
readonly
block
throw
DomEx
NO_MODIFICATION_ALLOWED_ERR
for
forControl
int
i
i
block
Node
node
item
i
if
node
block
break
switch
getNodeType
case
Element
node
continue
case
block
Node
node2
item
i
if
node2
getNodeType
TEXT_NODE
block
if
knowPreserve
block
preserve
equals
getInheritedAttribute
knowPreserve
if
preserve
block
char
buf
TextNode
node
if
buf
length
block
removeChild
node
i
continue
int
current
removeWhiteSpaces
buf
if
current
length
block
char
tmp
char
current
arraycopy
buf
tmp
current
TextNode
node
tmp
continue
TextNode
node
i
continue
case
continue
removeWhiteSpaces
int
buf
char
int
current
int
j
while
j
length
block
boolean
sawSpace
char
c
buf
j
if
c
c
c
c
block
c
sawSpace
buf
current
c
if
sawSpace
block
while
j
length
block
c
buf
j
if
c
c
c
c
block
j
continue
block
break
return
current
NodeBase
XmlReadable
