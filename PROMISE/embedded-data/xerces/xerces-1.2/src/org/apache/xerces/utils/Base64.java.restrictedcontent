Base64
int
BASELENGTH
int
LOOKUPLENGTH
int
TWENTYFOURBITGROUP
int
EIGHTBIT
int
SIXTEENBIT
int
SIXBIT
int
FOURBYTE
int
SIGN
byte
PAD
byte
boolean
fDebug
byte
base64Alphabet
byte
BASELENGTH
byte
lookUpBase64Alphabet
byte
LOOKUPLENGTH
for
forControl
int
i
i
BASELENGTH
i
block
base64Alphabet
i
for
forControl
int
i
i
i
block
base64Alphabet
i
byte
i
for
forControl
int
i
i
i
block
base64Alphabet
i
byte
i
for
forControl
int
i
i
i
block
base64Alphabet
i
byte
i
base64Alphabet
base64Alphabet
for
forControl
int
i
i
i
lookUpBase64Alphabet
i
byte
i
for
forControl
int
i
j
i
i
j
lookUpBase64Alphabet
i
byte
j
for
forControl
int
i
j
i
i
j
lookUpBase64Alphabet
i
byte
j
lookUpBase64Alphabet
byte
lookUpBase64Alphabet
byte
isBase64
boolean
isValidString
String
return
isArrayByteBase64
getBytes
isBase64
boolean
octect
byte
return
octect
PAD
base64Alphabet
octect
isArrayByteBase64
boolean
arrayOctect
byte
int
length
length
if
length
return
for
forControl
int
i
i
length
i
block
if
isBase64
arrayOctect
i
return
return
encode
byte
binaryData
byte
int
lengthDataBits
length
EIGHTBIT
int
fewerThan24bits
lengthDataBits
TWENTYFOURBITGROUP
int
numberTriplets
lengthDataBits
TWENTYFOURBITGROUP
byte
encodedData
if
fewerThan24bits
encodedData
byte
numberTriplets
encodedData
byte
numberTriplets
byte
k
l
b1
b2
b3
int
encodedIndex
int
dataIndex
int
i
if
fDebug
block
println
numberTriplets
for
forControl
i
i
numberTriplets
i
block
dataIndex
i
b1
binaryData
dataIndex
b2
binaryData
dataIndex
b3
binaryData
dataIndex
if
fDebug
block
println
b1
b2
b3
l
byte
b2
k
byte
b1
encodedIndex
i
byte
val1
b1
SIGN
byte
b1
byte
b1
byte
val2
b2
SIGN
byte
b2
byte
b2
byte
val3
b3
SIGN
byte
b3
byte
b3
encodedData
encodedIndex
lookUpBase64Alphabet
val1
if
fDebug
block
println
val2
println
k
println
val2
k
encodedData
encodedIndex
lookUpBase64Alphabet
val2
k
encodedData
encodedIndex
lookUpBase64Alphabet
l
val3
encodedData
encodedIndex
lookUpBase64Alphabet
b3
dataIndex
i
encodedIndex
i
if
fewerThan24bits
EIGHTBIT
block
b1
binaryData
dataIndex
k
byte
b1
if
fDebug
block
println
b1
println
b1
byte
val1
b1
SIGN
byte
b1
byte
b1
encodedData
encodedIndex
lookUpBase64Alphabet
val1
encodedData
encodedIndex
lookUpBase64Alphabet
k
encodedData
encodedIndex
PAD
encodedData
encodedIndex
PAD
if
fewerThan24bits
SIXTEENBIT
block
b1
binaryData
dataIndex
b2
binaryData
dataIndex
l
byte
b2
k
byte
b1
byte
val1
b1
SIGN
byte
b1
byte
b1
byte
val2
b2
SIGN
byte
b2
byte
b2
encodedData
encodedIndex
lookUpBase64Alphabet
val1
encodedData
encodedIndex
lookUpBase64Alphabet
val2
k
encodedData
encodedIndex
lookUpBase64Alphabet
l
encodedData
encodedIndex
PAD
return
encodedData
decode
byte
base64Data
byte
int
numberQuadruple
length
FOURBYTE
byte
decodedData
byte
b1
b2
b3
b4
marker0
marker1
int
encodedIndex
int
dataIndex
decodedData
byte
numberQuadruple
for
forControl
int
i
i
numberQuadruple
i
block
dataIndex
i
marker0
base64Data
dataIndex
marker1
base64Data
dataIndex
b1
base64Alphabet
base64Data
dataIndex
b2
base64Alphabet
base64Data
dataIndex
if
marker0
PAD
marker1
PAD
block
b3
base64Alphabet
marker0
b4
base64Alphabet
marker1
decodedData
encodedIndex
byte
b1
b2
decodedData
encodedIndex
byte
b2
b3
decodedData
encodedIndex
byte
b3
b4
if
marker0
PAD
block
decodedData
encodedIndex
byte
b1
b2
decodedData
encodedIndex
byte
b2
decodedData
encodedIndex
byte
if
marker1
PAD
block
b3
base64Alphabet
marker0
decodedData
encodedIndex
byte
b1
b2
decodedData
encodedIndex
byte
b2
b3
decodedData
encodedIndex
byte
b3
encodedIndex
return
decodedData
