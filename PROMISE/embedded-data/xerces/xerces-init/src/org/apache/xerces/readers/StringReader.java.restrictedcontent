StringReader
createStringReader
StringReader
entityHandler
XMLEntityHandler
errorReporter
XMLErrorReporter
sendCharDataAsCharArray
boolean
lineNumber
int
columnNumber
int
stringHandle
int
stringPool
StringPool
addEnclosingSpaces
boolean
StringReader
reader
fgFreeReaders
if
reader
block
return
StringReader
entityHandler
errorReporter
sendCharDataAsCharArray
lineNumber
columnNumber
stringHandle
stringPool
addEnclosingSpaces
fgFreeReaders
fNextFreeReader
init
entityHandler
errorReporter
sendCharDataAsCharArray
lineNumber
columnNumber
stringHandle
stringPool
addEnclosingSpaces
return
reader
StringReader
entityHandler
XMLEntityHandler
errorReporter
XMLErrorReporter
sendCharDataAsCharArray
boolean
lineNumber
int
columnNumber
int
stringHandle
int
stringPool
StringPool
addEnclosingSpaces
boolean
entityHandler
errorReporter
sendCharDataAsCharArray
lineNumber
columnNumber
fStringPool
stringPool
fData
toString
stringHandle
fCurrentOffset
fEndOffset
length
if
addEnclosingSpaces
block
fMostRecentChar
fCurrentOffset
oweTrailingSpace
hadTrailingSpace
block
fMostRecentChar
fEndOffset
charAt
init
entityHandler
XMLEntityHandler
errorReporter
XMLErrorReporter
sendCharDataAsCharArray
boolean
lineNumber
int
columnNumber
int
stringHandle
int
stringPool
StringPool
addEnclosingSpaces
boolean
init
entityHandler
errorReporter
sendCharDataAsCharArray
lineNumber
columnNumber
fStringPool
stringPool
fData
toString
stringHandle
fCurrentOffset
fEndOffset
length
fNextFreeReader
if
addEnclosingSpaces
block
fMostRecentChar
fCurrentOffset
oweTrailingSpace
hadTrailingSpace
block
fMostRecentChar
fEndOffset
charAt
oweTrailingSpace
hadTrailingSpace
addString
int
offset
int
length
int
if
length
return
return
addString
substring
offset
offset
length
addSymbol
int
offset
int
length
int
if
length
return
return
addSymbol
substring
offset
offset
length
append
charBuffer
XMLEntityHandler
CharBuffer
offset
int
length
int
boolean
addSpace
for
forControl
int
i
i
length
i
block
try
append
charAt
offset
catchClause
ex
if
offset
fEndOffset
hadTrailingSpace
block
append
block
println
throw
ex
loadNextChar
int
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
fMostRecentChar
block
fMostRecentChar
block
fMostRecentChar
charAt
fCurrentOffset
return
fMostRecentChar
changeReaders
XMLEntityHandler
EntityReader
XMLEntityHandler
EntityReader
nextReader
changeReaders
fNextFreeReader
fgFreeReaders
fgFreeReaders
return
nextReader
lookingAtChar
boolean
chr
char
skipPastChar
boolean
int
ch
fMostRecentChar
if
ch
chr
block
if
ch
block
return
changeReaders
lookingAtChar
chr
skipPastChar
return
if
skipPastChar
block
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
fMostRecentChar
block
fMostRecentChar
block
fMostRecentChar
charAt
fCurrentOffset
return
lookingAtValidChar
boolean
skipPastChar
boolean
int
ch
fMostRecentChar
if
ch
block
if
ch
ch
ch
ch
block
if
ch
return
changeReaders
lookingAtValidChar
skipPastChar
return
if
skipPastChar
block
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
fMostRecentChar
block
fMostRecentChar
block
fMostRecentChar
charAt
fCurrentOffset
return
if
ch
block
return
if
ch
block
if
fCurrentOffset
fEndOffset
block
return
ch
charAt
fCurrentOffset
if
ch
ch
block
return
if
skipPastChar
block
return
block
fCurrentOffset
if
ch
block
return
if
skipPastChar
block
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
fMostRecentChar
block
fMostRecentChar
block
fMostRecentChar
charAt
fCurrentOffset
return
lookingAtSpace
boolean
skipPastChar
boolean
int
ch
fMostRecentChar
if
ch
return
if
ch
ch
ch
ch
block
if
skipPastChar
block
loadNextChar
return
if
ch
block
return
changeReaders
lookingAtSpace
skipPastChar
return
skipToChar
chr
char
int
ch
fMostRecentChar
while
block
if
ch
chr
return
if
ch
block
changeReaders
skipToChar
chr
return
ch
loadNextChar
skipPastSpaces
int
ch
fMostRecentChar
if
ch
block
changeReaders
skipPastSpaces
return
while
block
if
ch
ch
ch
ch
ch
block
fMostRecentChar
ch
return
if
fCurrentOffset
fEndOffset
block
changeReaders
skipPastSpaces
return
ch
charAt
fCurrentOffset
skipPastName
fastcheck
char
int
ch
fMostRecentChar
if
ch
block
if
ch
fgAsciiInitialNameChar
ch
return
block
if
fgCharFlags
ch
E_InitialNameCharFlag
return
while
block
ch
loadNextChar
if
fastcheck
ch
return
if
ch
block
if
ch
fgAsciiNameChar
ch
return
block
if
fgCharFlags
ch
E_NameCharFlag
return
skipPastNmtoken
fastcheck
char
int
ch
fMostRecentChar
while
block
if
fastcheck
ch
return
if
ch
block
if
ch
fgAsciiNameChar
ch
return
block
if
fgCharFlags
ch
E_NameCharFlag
return
ch
loadNextChar
skippedString
boolean
s
char
int
ch
fMostRecentChar
if
ch
s
block
if
ch
return
changeReaders
skippedString
s
return
if
fCurrentOffset
length
fEndOffset
return
for
forControl
int
i
i
length
i
block
if
charAt
fCurrentOffset
i
s
i
return
fCurrentOffset
length
loadNextChar
return
scanInvalidChar
int
int
ch
fMostRecentChar
if
ch
return
changeReaders
scanInvalidChar
loadNextChar
return
ch
scanCharRef
int
hex
boolean
int
ch
fMostRecentChar
if
ch
return
changeReaders
scanCharRef
hex
int
num
if
hex
block
if
ch
fgAsciiXDigitChar
ch
return
CHARREF_RESULT_INVALID_CHAR
num
ch
ch
ch
block
if
ch
ch
return
CHARREF_RESULT_INVALID_CHAR
num
ch
boolean
toobig
while
block
ch
loadNextChar
if
ch
return
CHARREF_RESULT_SEMICOLON_REQUIRED
if
hex
block
if
ch
fgAsciiXDigitChar
ch
break
block
if
ch
ch
break
if
hex
block
int
dig
ch
ch
ch
num
num
dig
block
int
dig
ch
num
num
dig
if
num
block
toobig
num
if
ch
return
CHARREF_RESULT_SEMICOLON_REQUIRED
loadNextChar
if
toobig
return
CHARREF_RESULT_OUT_OF_RANGE
return
num
scanStringLiteral
int
boolean
single
if
single
lookingAtChar
lookingAtChar
block
return
STRINGLIT_RESULT_QUOTE_REQUIRED
int
offset
fCurrentOffset
char
qchar
single
while
lookingAtChar
qchar
block
if
lookingAtValidChar
block
return
STRINGLIT_RESULT_INVALID_CHAR
int
stringIndex
addString
offset
fCurrentOffset
offset
lookingAtChar
qchar
return
stringIndex
scanAttValue
int
qchar
char
asSymbol
boolean
int
offset
fCurrentOffset
while
block
if
lookingAtChar
qchar
block
break
if
lookingAtChar
block
continue
if
lookingAtSpace
block
return
ATTVALUE_RESULT_COMPLEX
if
lookingAtChar
block
return
ATTVALUE_RESULT_COMPLEX
if
lookingAtChar
block
return
ATTVALUE_RESULT_LESSTHAN
if
lookingAtValidChar
block
return
ATTVALUE_RESULT_INVALID_CHAR
int
result
asSymbol
addSymbol
offset
fCurrentOffset
offset
addString
offset
fCurrentOffset
offset
lookingAtChar
qchar
return
result
byte
fgAsciiEntityValueChar
scanEntityValue
int
qchar
int
createString
boolean
int
offset
fCurrentOffset
int
ch
fMostRecentChar
while
block
if
ch
block
changeReaders
return
ENTITYVALUE_RESULT_END_OF_INPUT
if
ch
block
switch
fgAsciiEntityValueChar
ch
case
if
ch
qchar
block
if
createString
return
ENTITYVALUE_RESULT_FINISHED
int
length
fCurrentOffset
offset
int
result
length
EMPTY_STRING
addString
offset
length
loadNextChar
return
result
case
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
ch
fMostRecentChar
block
ch
fMostRecentChar
block
ch
fMostRecentChar
charAt
fCurrentOffset
continue
case
return
ENTITYVALUE_RESULT_REFERENCE
case
return
ENTITYVALUE_RESULT_PEREF
case
return
ENTITYVALUE_RESULT_INVALID_CHAR
if
ch
block
ch
loadNextChar
if
ch
ch
ch
ch
block
ch
loadNextChar
block
return
ENTITYVALUE_RESULT_INVALID_CHAR
scanExpectedName
boolean
fastcheck
char
expectedName
StringPool
CharArrayRange
int
ch
fMostRecentChar
if
ch
block
return
changeReaders
scanExpectedName
fastcheck
expectedName
int
nameOffset
fCurrentOffset
if
fgCharFlags
ch
E_InitialNameCharFlag
return
while
block
ch
loadNextChar
if
fastcheck
ch
break
if
ch
break
if
fgCharFlags
ch
E_NameCharFlag
break
int
nameIndex
addSymbol
substring
nameOffset
fCurrentOffset
return
scanQName
int
fastcheck
char
int
ch
fMostRecentChar
if
ch
block
return
changeReaders
scanQName
fastcheck
int
nameOffset
fCurrentOffset
if
fgCharFlags
ch
E_InitialNameCharFlag
return
while
block
ch
loadNextChar
if
fastcheck
ch
break
if
ch
break
if
fgCharFlags
ch
E_NameCharFlag
break
int
nameIndex
addSymbol
substring
nameOffset
fCurrentOffset
return
nameIndex
scanName
int
fastcheck
char
int
ch
fMostRecentChar
if
ch
block
return
changeReaders
scanName
fastcheck
int
nameOffset
fCurrentOffset
if
fgCharFlags
ch
E_InitialNameCharFlag
return
while
block
if
fCurrentOffset
fEndOffset
block
if
oweTrailingSpace
block
oweTrailingSpace
fMostRecentChar
block
fMostRecentChar
break
ch
fMostRecentChar
charAt
fCurrentOffset
if
fastcheck
ch
break
if
fgCharFlags
ch
E_NameCharFlag
break
int
nameIndex
addSymbol
substring
nameOffset
fCurrentOffset
return
nameIndex
recognizeMarkup
int
ch
int
if
ch
block
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
switch
ch
case
loadNextChar
return
CONTENT_RESULT_START_OF_PI
case
ch
loadNextChar
if
ch
block
fCurrentOffset
loadNextChar
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
block
ch
loadNextChar
if
ch
block
fCurrentOffset
loadNextChar
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
block
loadNextChar
return
CONTENT_RESULT_START_OF_COMMENT
break
if
ch
block
for
forControl
int
i
i
i
block
ch
loadNextChar
if
ch
block
fCurrentOffset
i
loadNextChar
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
cdata_string
i
block
return
CONTENT_RESULT_MARKUP_NOT_RECOGNIZED
loadNextChar
return
CONTENT_RESULT_START_OF_CDSECT
break
case
loadNextChar
return
CONTENT_RESULT_START_OF_ETAG
case
return
CONTENT_RESULT_START_OF_ELEMENT
return
CONTENT_RESULT_MARKUP_NOT_RECOGNIZED
recognizeReference
int
ch
int
if
ch
block
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
block
loadNextChar
return
CONTENT_RESULT_START_OF_CHARREF
block
return
CONTENT_RESULT_START_OF_ENTITYREF
scanContent
int
elementType
int
int
ch
fMostRecentChar
if
ch
block
return
changeReaders
scanContent
elementType
int
offset
fCurrentOffset
if
ch
block
switch
fgAsciiWSCharData
ch
case
ch
loadNextChar
break
case
ch
loadNextChar
if
fInCDSect
block
return
recognizeMarkup
ch
break
case
ch
loadNextChar
if
fInCDSect
block
return
recognizeReference
ch
break
case
ch
loadNextChar
if
ch
fCurrentOffset
fEndOffset
charAt
fCurrentOffset
block
loadNextChar
loadNextChar
return
CONTENT_RESULT_END_OF_CDSECT
break
case
return
CONTENT_RESULT_INVALID_CHAR
case
do
ch
ch
ch
ch
block
ch
loadNextChar
if
ch
block
callCharDataHandler
offset
fEndOffset
return
changeReaders
scanContent
elementType
if
ch
block
switch
fgAsciiCharData
ch
case
ch
loadNextChar
break
case
ch
loadNextChar
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
return
recognizeMarkup
ch
break
case
ch
loadNextChar
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
return
recognizeReference
ch
break
case
ch
loadNextChar
if
ch
fCurrentOffset
fEndOffset
charAt
fCurrentOffset
block
callCharDataHandler
offset
fCurrentOffset
loadNextChar
loadNextChar
return
CONTENT_RESULT_END_OF_CDSECT
break
case
callCharDataHandler
offset
fCurrentOffset
return
CONTENT_RESULT_INVALID_CHAR
block
if
ch
ch
block
callCharDataHandler
offset
fCurrentOffset
return
CONTENT_RESULT_INVALID_CHAR
ch
loadNextChar
block
if
ch
ch
block
callCharDataHandler
offset
fCurrentOffset
return
CONTENT_RESULT_INVALID_CHAR
ch
loadNextChar
while
block
if
ch
block
callCharDataHandler
offset
fEndOffset
return
changeReaders
scanContent
elementType
if
ch
break
if
fgAsciiCharData
ch
break
ch
loadNextChar
while
block
if
ch
block
switch
fgAsciiCharData
ch
case
ch
loadNextChar
break
case
ch
loadNextChar
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
return
recognizeMarkup
ch
break
case
ch
loadNextChar
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
return
recognizeReference
ch
break
case
ch
loadNextChar
if
ch
fCurrentOffset
fEndOffset
charAt
fCurrentOffset
block
callCharDataHandler
offset
fCurrentOffset
loadNextChar
loadNextChar
return
CONTENT_RESULT_END_OF_CDSECT
break
case
callCharDataHandler
offset
fCurrentOffset
return
CONTENT_RESULT_INVALID_CHAR
block
if
ch
ch
block
callCharDataHandler
offset
fCurrentOffset
return
CONTENT_RESULT_INVALID_CHAR
ch
loadNextChar
if
ch
block
callCharDataHandler
offset
fCurrentOffset
return
changeReaders
scanContent
elementType
callCharDataHandler
offset
int
endOffset
int
isWhitespace
boolean
int
length
endOffset
offset
if
fSendCharDataAsCharArray
block
int
stringIndex
addString
offset
length
if
isWhitespace
processWhitespace
stringIndex
processCharacters
stringIndex
return
if
isWhitespace
processWhitespace
toCharArray
offset
length
processCharacters
toCharArray
offset
length
char
cdata_string
StringPool
fStringPool
String
fData
int
fEndOffset
boolean
hadTrailingSpace
boolean
oweTrailingSpace
int
fMostRecentChar
StringReader
fNextFreeReader
StringReader
fgFreeReaders
XMLEntityReader
