DFAContentModel
String
fEpsilonString
String
fEOCString
boolean
DEBUG_VALIDATE_CONTENT
DFAContentModel
stringPool
StringPool
syntaxTree
CMNode
leafCount
int
fStringPool
stringPool
fLeafCount
leafCount
fEpsilonIndex
addSymbol
fEpsilonString
fEOCIndex
addSymbol
fEOCString
buildDFA
syntaxTree
validateContent
int
childCount
int
children
int
if
DEBUG_VALIDATE_CONTENT
println
if
childCount
block
if
DEBUG_VALIDATE_CONTENT
block
println
println
fElemMap
for
forControl
int
i
i
length
i
block
int
elemIndex
fElemMap
i
println
i
elemIndex
toString
elemIndex
println
fEOCIndex
return
fEmptyContentIsValid
int
curState
for
forControl
int
childIndex
childIndex
childCount
childIndex
block
int
curElem
children
childIndex
int
elemIndex
for
forControl
elemIndex
fElemMapSize
elemIndex
block
if
fElemMap
elemIndex
curElem
break
if
elemIndex
fElemMapSize
block
if
DEBUG_VALIDATE_CONTENT
println
return
childIndex
curState
fTransTable
curState
elemIndex
if
curState
block
if
DEBUG_VALIDATE_CONTENT
println
return
childIndex
if
DEBUG_VALIDATE_CONTENT
println
curState
childCount
if
fFinalStateFlags
curState
return
childCount
return
whatCanGoHere
int
fullyValid
boolean
info
InsertableElementsInfo
int
curState
for
forControl
int
childIndex
childIndex
insertAt
childIndex
block
int
curElem
curChildren
childIndex
int
elemIndex
for
forControl
elemIndex
fElemMapSize
elemIndex
block
if
fElemMap
elemIndex
curElem
break
if
elemIndex
fElemMapSize
return
childIndex
curState
fTransTable
curState
elemIndex
if
curState
return
childIndex
int
insertState
curState
canHoldPCData
isValidEOC
fFinalStateFlags
insertState
resultsCount
fElemMapSize
if
results
length
resultsCount
results
boolean
resultsCount
if
possibleChildren
length
resultsCount
block
possibleChildren
int
resultsCount
for
forControl
int
index
index
fElemMapSize
index
block
possibleChildren
index
fElemMap
index
results
index
fTransTable
insertState
index
if
fullyValid
block
for
forControl
int
index
index
resultsCount
index
block
if
results
index
continue
curChildren
insertAt
possibleChildren
index
if
validateContent
childCount
curChildren
results
index
return
buildDFA
syntaxTree
CMNode
CMLeaf
nodeEOC
CMLeaf
CONTENTSPECNODE_LEAF
fEOCIndex
fHeadNode
CMBinOp
CONTENTSPECNODE_SEQ
syntaxTree
nodeEOC
fEOCPos
fLeafCount
setPosition
fLeafCount
fLeafList
CMLeaf
fLeafCount
postTreeBuildInit
fHeadNode
fFollowList
CMStateSet
fLeafCount
for
forControl
int
index
index
fLeafCount
index
fFollowList
index
CMStateSet
fLeafCount
calcFollowList
fHeadNode
fElemMap
int
fLeafCount
fElemMapSize
for
forControl
int
outIndex
outIndex
fLeafCount
outIndex
block
int
elemIndex
fLeafList
outIndex
getElemIndex
int
inIndex
for
forControl
inIndex
fElemMapSize
inIndex
block
if
fElemMap
inIndex
elemIndex
break
if
inIndex
fElemMapSize
fElemMap
fElemMapSize
elemIndex
int
curArraySize
fLeafCount
CMStateSet
statesToDo
CMStateSet
curArraySize
fFinalStateFlags
boolean
curArraySize
fTransTable
int
curArraySize
CMStateSet
setT
firstPos
int
unmarkedState
int
curState
fTransTable
curState
makeDefStateList
statesToDo
curState
setT
curState
while
unmarkedState
curState
block
setT
statesToDo
unmarkedState
int
transEntry
fTransTable
unmarkedState
fFinalStateFlags
unmarkedState
getBit
fEOCPos
unmarkedState
CMStateSet
newSet
for
forControl
int
elemIndex
elemIndex
fElemMapSize
elemIndex
block
if
newSet
newSet
CMStateSet
fLeafCount
zeroBits
for
forControl
int
leafIndex
leafIndex
fLeafCount
leafIndex
block
if
getBit
leafIndex
block
if
fLeafList
leafIndex
getElemIndex
fElemMap
elemIndex
union
fFollowList
leafIndex
if
isEmpty
block
int
stateIndex
for
forControl
stateIndex
curState
stateIndex
block
if
statesToDo
stateIndex
isSameSet
newSet
break
if
stateIndex
curState
block
statesToDo
curState
newSet
fTransTable
curState
makeDefStateList
curState
newSet
transEntry
elemIndex
stateIndex
if
curState
curArraySize
block
int
newSize
int
curArraySize
CMStateSet
newToDo
CMStateSet
newSize
boolean
newFinalFlags
boolean
newSize
int
newTransTable
int
newSize
for
forControl
int
expIndex
expIndex
curArraySize
expIndex
block
newToDo
expIndex
statesToDo
expIndex
newFinalFlags
expIndex
fFinalStateFlags
expIndex
newTransTable
expIndex
fTransTable
expIndex
curArraySize
newSize
statesToDo
newToDo
fFinalStateFlags
newFinalFlags
fTransTable
newTransTable
fEmptyContentIsValid
CMBinOp
fHeadNode
if
DEBUG_VALIDATE_CONTENT
dumpTree
fHeadNode
fHeadNode
fLeafList
fFollowList
calcFollowList
nodeCur
CMNode
if
type
CONTENTSPECNODE_CHOICE
block
calcFollowList
CMBinOp
nodeCur
calcFollowList
CMBinOp
nodeCur
if
type
CONTENTSPECNODE_SEQ
block
calcFollowList
CMBinOp
nodeCur
calcFollowList
CMBinOp
nodeCur
CMStateSet
last
CMBinOp
nodeCur
CMStateSet
first
CMBinOp
nodeCur
for
forControl
int
index
index
fLeafCount
index
block
if
getBit
index
fFollowList
index
union
first
if
type
CONTENTSPECNODE_ZERO_OR_MORE
block
calcFollowList
CMUniOp
nodeCur
CMStateSet
first
firstPos
CMStateSet
last
lastPos
for
forControl
int
index
index
fLeafCount
index
block
if
getBit
index
fFollowList
index
union
first
if
type
CONTENTSPECNODE_ONE_OR_MORE
type
CONTENTSPECNODE_ZERO_OR_ONE
block
throw
CMException
VAL_NIICM
dumpTree
nodeCur
CMNode
level
int
for
forControl
int
index
index
level
index
print
int
type
type
if
type
CONTENTSPECNODE_CHOICE
type
CONTENTSPECNODE_SEQ
block
if
type
CONTENTSPECNODE_CHOICE
print
print
if
isNullable
print
print
print
firstPos
toString
print
println
lastPos
toString
dumpTree
CMBinOp
nodeCur
level
dumpTree
CMBinOp
nodeCur
level
if
type
CONTENTSPECNODE_ZERO_OR_MORE
block
print
if
isNullable
print
print
print
firstPos
toString
print
println
lastPos
toString
dumpTree
CMUniOp
nodeCur
level
if
type
CONTENTSPECNODE_LEAF
block
print
CMLeaf
nodeCur
toString
CMLeaf
nodeCur
CMLeaf
nodeCur
if
isNullable
print
print
print
firstPos
toString
print
println
lastPos
toString
block
throw
CMException
VAL_NIICM
makeDefStateList
int
int
retArray
int
fElemMapSize
for
forControl
int
index
index
fElemMapSize
index
retArray
index
return
retArray
postTreeBuildInit
int
nodeCur
CMNode
curIndex
int
setMaxStates
fLeafCount
if
type
CONTENTSPECNODE_CHOICE
type
CONTENTSPECNODE_SEQ
block
curIndex
postTreeBuildInit
CMBinOp
nodeCur
curIndex
curIndex
postTreeBuildInit
CMBinOp
nodeCur
curIndex
if
type
CONTENTSPECNODE_ZERO_OR_MORE
block
curIndex
postTreeBuildInit
CMUniOp
nodeCur
curIndex
if
type
CONTENTSPECNODE_LEAF
block
if
CMLeaf
nodeCur
fEpsilonIndex
fLeafList
curIndex
CMLeaf
nodeCur
block
throw
CMException
VAL_NIICM
return
curIndex
int
fElemMap
int
fElemMapSize
int
fEOCIndex
int
fEOCPos
int
fEpsilonIndex
boolean
fFinalStateFlags
CMStateSet
fFollowList
CMNode
fHeadNode
int
fLeafCount
CMLeaf
fLeafList
StringPool
fStringPool
int
fTransTable
int
fTransTableSize
boolean
fEmptyContentIsValid
XMLContentModel
