UCSReader
boolean
DEBUG_UTF16_BIG
int
E_UCS4B
E_UCS4L
E_UCS2B
E_UCS2L
E_UCS2B_NOBOM
E_UCS2L_NOBOM
ChunkyByteArray
fData
int
fEncoding
StringPool
fStringPool
int
fBytesPerChar
boolean
fBigEndian
ChunkyCharArray
fStringCharArray
UCSReader
entityHandler
XMLEntityHandler
errorReporter
XMLErrorReporter
sendCharDataAsCharArray
boolean
data
ChunkyByteArray
encoding
int
stringPool
StringPool
entityHandler
errorReporter
sendCharDataAsCharArray
fCurrentOffset
encoding
E_UCS2B
encoding
E_UCS2L
fData
data
fEncoding
encoding
fStringPool
stringPool
fBytesPerChar
fEncoding
E_UCS4B
fEncoding
E_UCS4L
fBigEndian
fEncoding
E_UCS4B
fEncoding
E_UCS2B
fEncoding
E_UCS2B_NOBOM
getChar
int
offset
int
int
b0
byteAt
offset
if
b0
atEOF
offset
return
int
b1
byteAt
offset
if
fBytesPerChar
block
int
b2
byteAt
offset
int
b3
byteAt
offset
if
fBigEndian
return
b0
b1
b2
b3
return
b3
b2
b1
b0
block
if
fBigEndian
return
b0
b1
return
b1
b0
addString
int
offset
int
length
int
if
length
return
return
addString
offset
length
addSymbol
int
offset
int
length
int
if
length
return
return
addSymbol
offset
length
getHashcode
offset
length
append
charBuffer
XMLEntityHandler
CharBuffer
offset
int
length
int
int
endOffset
offset
length
while
offset
endOffset
block
int
ch
try
ch
getChar
offset
catchClause
ex
ch
append
char
ch
offset
fBytesPerChar
releaseString
offset
int
length
int
toString
String
offset
int
length
int
if
fStringCharArray
fStringCharArray
ChunkyCharArray
fStringPool
int
newOffset
length
append
fStringCharArray
offset
length
int
newLength
length
newOffset
int
stringIndex
addString
newOffset
newLength
return
toString
stringIndex
getHashcode
int
offset
int
length
int
int
endOffset
offset
length
int
hashcode
while
offset
endOffset
block
int
ch
try
ch
getChar
offset
catchClause
ex
ch
hashcode
hashChar
hashcode
ch
offset
fBytesPerChar
return
finishHash
hashcode
equalsString
boolean
offset
int
length
int
strChars
char
strOffset
int
strLength
int
int
endOffset
offset
length
int
slen
strLength
while
offset
endOffset
block
if
slen
return
int
ch
try
ch
getChar
offset
catchClause
ex
ch
if
ch
strChars
strOffset
return
offset
fBytesPerChar
return
slen
char
fCharacters
char
int
fCharDataLength
appendCharData
ch
int
if
length
fCharDataLength
block
char
newchars
char
length
arraycopy
fCharacters
newchars
length
fCharacters
newchars
fCharacters
fCharDataLength
char
ch
callCharDataHandler
offset
int
length
int
isWhitespace
boolean
int
endOffset
offset
length
while
offset
endOffset
block
int
ch
getChar
offset
appendCharData
ch
offset
fBytesPerChar
if
fSendCharDataAsCharArray
block
if
isWhitespace
processWhitespace
fCharacters
fCharDataLength
processCharacters
fCharacters
fCharDataLength
block
int
stringIndex
addString
String
fCharacters
fCharDataLength
if
isWhitespace
processWhitespace
stringIndex
processCharacters
stringIndex
fCharDataLength
lookingAtChar
boolean
ch
char
skipPastChar
boolean
int
ch2
getChar
fCurrentOffset
if
ch2
ch
block
if
skipPastChar
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
return
lookingAtValidChar
boolean
skipPastChar
boolean
int
ch
getChar
fCurrentOffset
if
ch
block
if
ch
block
if
skipPastChar
return
fCharacterCounter
if
ch
block
if
skipPastChar
return
fLinefeedCounter
fCharacterCounter
if
ch
block
if
skipPastChar
return
fCarriageReturnCounter
fCharacterCounter
block
if
ch
block
return
changeReaders
lookingAtValidChar
skipPastChar
return
fCurrentOffset
fBytesPerChar
return
if
ch
block
if
skipPastChar
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
if
ch
block
if
skipPastChar
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
if
ch
block
if
skipPastChar
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
return
lookingAtSpace
boolean
skipPastChar
boolean
int
ch
getChar
fCurrentOffset
if
ch
return
if
ch
ch
block
if
skipPastChar
return
fCharacterCounter
if
ch
block
if
skipPastChar
return
fLinefeedCounter
fCharacterCounter
if
ch
block
if
skipPastChar
return
fCarriageReturnCounter
fCharacterCounter
block
if
ch
block
return
changeReaders
lookingAtSpace
skipPastChar
return
fCurrentOffset
fBytesPerChar
return
skipToChar
chr
char
while
block
int
ch
getChar
fCurrentOffset
if
ch
chr
return
if
ch
block
changeReaders
skipToChar
chr
return
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
if
ch
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
ch
getChar
fCurrentOffset
if
ch
ch
continue
fCharacterCounter
fCurrentOffset
fBytesPerChar
skipPastSpaces
while
block
int
ch
getChar
fCurrentOffset
if
ch
return
if
ch
ch
block
fCharacterCounter
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
block
if
ch
changeReaders
skipPastSpaces
return
fCurrentOffset
fBytesPerChar
skipPastName
fastcheck
char
int
ch
getChar
fCurrentOffset
if
fgCharFlags
ch
E_InitialNameCharFlag
return
while
block
fCurrentOffset
fBytesPerChar
fCharacterCounter
ch
getChar
fCurrentOffset
if
fastcheck
ch
return
if
fgCharFlags
ch
E_NameCharFlag
return
skipPastNmtoken
fastcheck
char
int
ch
getChar
fCurrentOffset
while
block
if
fastcheck
ch
return
if
fgCharFlags
ch
E_NameCharFlag
return
fCurrentOffset
fBytesPerChar
fCharacterCounter
ch
getChar
fCurrentOffset
skippedString
boolean
s
char
int
offset
fCurrentOffset
for
forControl
int
i
i
length
i
block
if
getChar
offset
s
i
return
offset
fBytesPerChar
fCurrentOffset
offset
fCharacterCounter
length
return
scanInvalidChar
int
int
ch
getChar
fCurrentOffset
if
ch
block
return
changeReaders
scanInvalidChar
fCurrentOffset
fBytesPerChar
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
block
fCharacterCounter
if
ch
ch
block
int
ch2
getChar
fCurrentOffset
if
ch2
ch2
block
ch
ch
ch2
fCurrentOffset
fBytesPerChar
return
ch
scanCharRef
int
hex
boolean
int
ch
getChar
fCurrentOffset
if
ch
block
return
changeReaders
scanCharRef
hex
int
num
if
hex
block
if
ch
fgAsciiXDigitChar
ch
return
CHARREF_RESULT_INVALID_CHAR
num
ch
ch
ch
block
if
ch
ch
return
CHARREF_RESULT_INVALID_CHAR
num
ch
fCharacterCounter
fCurrentOffset
fBytesPerChar
boolean
toobig
while
block
ch
getChar
fCurrentOffset
if
ch
break
if
hex
block
if
ch
fgAsciiXDigitChar
ch
break
block
if
ch
ch
break
fCharacterCounter
fCurrentOffset
fBytesPerChar
if
hex
block
int
dig
ch
ch
ch
num
num
dig
block
int
dig
ch
num
num
dig
if
num
block
toobig
num
if
ch
return
CHARREF_RESULT_SEMICOLON_REQUIRED
fCharacterCounter
fCurrentOffset
fBytesPerChar
if
toobig
return
CHARREF_RESULT_OUT_OF_RANGE
return
num
scanStringLiteral
int
boolean
single
if
single
lookingAtChar
lookingAtChar
block
return
STRINGLIT_RESULT_QUOTE_REQUIRED
int
offset
fCurrentOffset
char
qchar
single
while
lookingAtChar
qchar
block
if
lookingAtValidChar
block
return
STRINGLIT_RESULT_INVALID_CHAR
int
stringIndex
addString
offset
fCurrentOffset
offset
lookingAtChar
qchar
return
stringIndex
scanAttValue
int
qchar
char
asSymbol
boolean
int
offset
fCurrentOffset
while
block
if
lookingAtChar
qchar
block
break
if
lookingAtChar
block
continue
if
lookingAtSpace
block
return
ATTVALUE_RESULT_COMPLEX
if
lookingAtChar
block
return
ATTVALUE_RESULT_COMPLEX
if
lookingAtChar
block
return
ATTVALUE_RESULT_LESSTHAN
if
lookingAtValidChar
block
return
ATTVALUE_RESULT_INVALID_CHAR
int
result
asSymbol
addSymbol
offset
fCurrentOffset
offset
addString
offset
fCurrentOffset
offset
lookingAtChar
qchar
return
result
scanEntityValue
int
qchar
int
createString
boolean
int
offset
fCurrentOffset
while
block
if
qchar
lookingAtChar
char
qchar
block
if
createString
return
ENTITYVALUE_RESULT_FINISHED
break
if
lookingAtChar
block
return
ENTITYVALUE_RESULT_REFERENCE
if
lookingAtChar
block
return
ENTITYVALUE_RESULT_PEREF
if
lookingAtValidChar
block
return
ENTITYVALUE_RESULT_INVALID_CHAR
int
result
addString
offset
fCurrentOffset
offset
lookingAtChar
char
qchar
return
result
scanExpectedName
boolean
fastcheck
char
expectedName
StringPool
CharArrayRange
int
nameOffset
fCurrentOffset
skipPastName
fastcheck
int
nameLength
fCurrentOffset
nameOffset
if
nameLength
return
int
nameIndex
addSymbol
nameOffset
nameLength
return
scanQName
int
fastcheck
char
int
nameOffset
fCurrentOffset
skipPastName
fastcheck
int
nameLength
fCurrentOffset
nameOffset
if
nameLength
return
int
nameIndex
addSymbol
nameOffset
nameLength
return
nameIndex
scanName
int
fastcheck
char
int
nameOffset
fCurrentOffset
skipPastName
fastcheck
int
nameLength
fCurrentOffset
nameOffset
if
nameLength
return
int
nameIndex
addSymbol
nameOffset
nameLength
return
nameIndex
char
cdata_string
recognizeMarkup
int
int
ch
getChar
fCurrentOffset
switch
ch
case
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
case
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_START_OF_PI
case
fCharacterCounter
fCurrentOffset
fBytesPerChar
ch
getChar
fCurrentOffset
if
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
ch
getChar
fCurrentOffset
if
ch
block
fCharacterCounter
fCurrentOffset
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_START_OF_COMMENT
break
if
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
for
forControl
int
i
i
i
block
ch
getChar
fCurrentOffset
if
ch
block
fCharacterCounter
i
fCurrentOffset
i
fBytesPerChar
return
CONTENT_RESULT_MARKUP_END_OF_INPUT
if
ch
cdata_string
i
block
return
CONTENT_RESULT_MARKUP_NOT_RECOGNIZED
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_START_OF_CDSECT
break
case
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_START_OF_ETAG
case
return
CONTENT_RESULT_START_OF_ELEMENT
return
CONTENT_RESULT_MARKUP_NOT_RECOGNIZED
recognizeReference
int
int
ch
getChar
fCurrentOffset
if
ch
block
return
CONTENT_RESULT_REFERENCE_END_OF_INPUT
if
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_START_OF_CHARREF
block
return
CONTENT_RESULT_START_OF_ENTITYREF
scanContent
int
elementType
int
int
offset
fCurrentOffset
int
ch
getChar
fCurrentOffset
fCurrentOffset
fBytesPerChar
byte
prop
if
ch
block
if
ch
block
fCurrentOffset
fBytesPerChar
return
changeReaders
scanContent
elementType
prop
fgCharFlags
ch
if
prop
E_CharDataFlag
ch
ch
block
if
ch
block
fCharacterCounter
if
fInCDSect
block
return
recognizeMarkup
if
ch
block
fCharacterCounter
if
fInCDSect
block
return
recognizeReference
if
ch
block
if
getChar
fCurrentOffset
getChar
fCurrentOffset
fBytesPerChar
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_END_OF_CDSECT
block
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_INVALID_CHAR
if
ch
ch
ch
ch
block
do
ch
ch
ch
ch
block
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
block
fCharacterCounter
ch
getChar
fCurrentOffset
fCurrentOffset
fBytesPerChar
if
ch
block
if
ch
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
changeReaders
scanContent
elementType
prop
fgCharFlags
ch
if
prop
E_CharDataFlag
block
if
ch
block
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
return
recognizeMarkup
fCharacterCounter
if
ch
block
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
return
recognizeReference
fCharacterCounter
if
ch
block
if
getChar
fCurrentOffset
getChar
fCurrentOffset
fBytesPerChar
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_END_OF_CDSECT
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
CONTENT_RESULT_INVALID_CHAR
block
if
ch
ch
block
fCurrentOffset
fBytesPerChar
if
ch
ch
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
CONTENT_RESULT_INVALID_CHAR
block
if
ch
ch
block
fCurrentOffset
fBytesPerChar
if
ch
ch
block
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_INVALID_CHAR
fCharacterCounter
while
block
ch
getChar
fCurrentOffset
fCurrentOffset
fBytesPerChar
if
ch
ch
break
prop
fgCharFlags
ch
if
prop
E_CharDataFlag
block
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
break
fCharacterCounter
while
block
if
ch
block
if
ch
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
changeReaders
scanContent
elementType
prop
fgCharFlags
ch
if
prop
E_CharDataFlag
block
if
ch
block
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
return
recognizeMarkup
fCharacterCounter
if
ch
block
if
fInCDSect
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
return
recognizeReference
fCharacterCounter
if
ch
block
fLinefeedCounter
fCharacterCounter
if
ch
block
fCarriageReturnCounter
fCharacterCounter
if
ch
block
if
getChar
fCurrentOffset
getChar
fCurrentOffset
fBytesPerChar
block
callCharDataHandler
offset
fCurrentOffset
fBytesPerChar
offset
fCharacterCounter
fCurrentOffset
fBytesPerChar
return
CONTENT_RESULT_END_OF_CDSECT
fCharacterCounter
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
CONTENT_RESULT_INVALID_CHAR
block
fCharacterCounter
block
if
ch
ch
block
fCharacterCounter
fCurrentOffset
fBytesPerChar
if
ch
ch
block
fCurrentOffset
fBytesPerChar
callCharDataHandler
offset
fCurrentOffset
offset
return
CONTENT_RESULT_INVALID_CHAR
fCharacterCounter
ch
getChar
fCurrentOffset
fCurrentOffset
fBytesPerChar
XMLEntityReader
StringPool
StringProducer
