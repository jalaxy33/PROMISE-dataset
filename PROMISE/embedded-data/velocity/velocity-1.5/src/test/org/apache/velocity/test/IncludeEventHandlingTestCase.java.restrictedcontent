IncludeEventHandlingTestCase
String
TMPL_FILE_EXT
String
CMP_FILE_EXT
String
RESULT_FILE_EXT
String
FILE_RESOURCE_LOADER_PATH
TEST_COMPARE_DIR
String
RESULTS_DIR
TEST_RESULT_DIR
String
COMPARE_DIR
TEST_COMPARE_DIR
int
PASS_THROUGH
int
RELATIVE_PATH
int
BLOCK
int
EventHandlerBehavior
PASS_THROUGH
IncludeEventHandlingTestCase
name
String
name
setUp
assureResultsDirectoryExists
RESULTS_DIR
addProperty
FILE_RESOURCE_LOADER_PATH
FILE_RESOURCE_LOADER_PATH
setProperty
RUNTIME_LOG_LOGSYSTEM_CLASS
getName
NullLogChute
init
suite
Test
return
TestSuite
IncludeEventHandlingTestCase
testIncludeEventHandling
Template
template1
getTemplate
getFileName
TMPL_FILE_EXT
Template
template2
getTemplate
getFileName
TMPL_FILE_EXT
Template
template3
getTemplate
getFileName
TMPL_FILE_EXT
FileOutputStream
fos1
FileOutputStream
getFileName
RESULTS_DIR
RESULT_FILE_EXT
FileOutputStream
fos2
FileOutputStream
getFileName
RESULTS_DIR
RESULT_FILE_EXT
FileOutputStream
fos3
FileOutputStream
getFileName
RESULTS_DIR
RESULT_FILE_EXT
Writer
writer1
BufferedWriter
OutputStreamWriter
fos1
Writer
writer2
BufferedWriter
OutputStreamWriter
fos2
Writer
writer3
BufferedWriter
OutputStreamWriter
fos3
Context
context
VelocityContext
EventCartridge
ec
EventCartridge
addEventHandler
attachToContext
context
EventHandlerBehavior
PASS_THROUGH
merge
context
writer1
flush
close
EventHandlerBehavior
RELATIVE_PATH
merge
context
writer2
flush
close
EventHandlerBehavior
BLOCK
merge
context
writer3
flush
close
if
isMatch
RESULTS_DIR
COMPARE_DIR
RESULT_FILE_EXT
CMP_FILE_EXT
isMatch
RESULTS_DIR
COMPARE_DIR
RESULT_FILE_EXT
CMP_FILE_EXT
isMatch
RESULTS_DIR
COMPARE_DIR
RESULT_FILE_EXT
CMP_FILE_EXT
block
fail
setRuntimeServices
rs
RuntimeServices
includeEvent
String
includeResourcePath
String
currentResourcePath
String
directiveName
String
if
EventHandlerBehavior
PASS_THROUGH
return
includeResourcePath
if
EventHandlerBehavior
RELATIVE_PATH
block
if
startsWith
startsWith
block
return
includeResourcePath
int
lastslashpos
max
lastIndexOf
lastIndexOf
if
lastslashpos
return
includeResourcePath
return
substring
lastslashpos
includeResourcePath
if
EventHandlerBehavior
BLOCK
return
return
BaseTestCase
IncludeEventHandler
RuntimeServicesAware
