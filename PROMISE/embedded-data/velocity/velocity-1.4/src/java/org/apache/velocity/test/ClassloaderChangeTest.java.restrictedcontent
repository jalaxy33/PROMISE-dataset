ClassloaderChangeTest
VelocityEngine
ve
boolean
sawCacheDump
String
OUTPUT
ClassloaderChangeTest
try
ve
VelocityEngine
setProperty
RUNTIME_LOG_LOGSYSTEM
init
catchClause
e
println
e
exit
init
rs
RuntimeServices
suite
junit
framework
Test
return
ClassloaderChangeTest
runTest
sawCacheDump
try
VelocityContext
vc
VelocityContext
Object
foo
TestClassloader
cl
TestClassloader
Class
fooclass
loadClass
foo
newInstance
put
foo
StringWriter
writer
StringWriter
evaluate
vc
writer
if
toString
equals
OUTPUT
block
fail
cl
TestClassloader
fooclass
loadClass
foo
newInstance
put
foo
writer
StringWriter
evaluate
vc
writer
if
toString
equals
OUTPUT
block
fail
catchClause
ee
println
ee
if
sawCacheDump
block
fail
logVelocityMessage
level
int
message
String
if
equals
CACHEDUMP_MSG
block
sawCacheDump
TestCase
LogSystem
TestClassloader
String
testclass
Class
fooClass
TestClassloader
try
File
f
File
testclass
byte
barr
byte
int
length
FileInputStream
fis
FileInputStream
f
read
barr
close
fooClass
defineClass
barr
length
catchClause
e
println
e
findClass
Class
name
String
return
fooClass
ClassLoader
