ControllerServlet
String
ERR_MSG_TAG
loadConfiguration
Properties
config
ServletConfig
String
propsFile
getInitParameter
INIT_PROPS_KEY
if
propsFile
block
String
realPath
getServletContext
getRealPath
propsFile
if
realPath
block
propsFile
realPath
Properties
p
Properties
load
FileInputStream
propsFile
String
path
getProperty
if
path
block
path
getServletContext
getRealPath
path
setProperty
path
path
getProperty
if
path
block
path
getServletContext
getRealPath
path
setProperty
path
return
p
handleRequest
Template
ctx
Context
HttpServletRequest
req
HttpServletRequest
get
REQUEST
HttpServletResponse
resp
HttpServletResponse
get
RESPONSE
Template
template
String
templateName
HttpSession
sess
getSession
setAttribute
ERR_MSG_TAG
try
templateName
processRequest
req
resp
ctx
template
getTemplate
templateName
catchClause
rnfe
String
err
templateName
setAttribute
ERR_MSG_TAG
err
println
err
catchClause
pee
String
err
templateName
pee
setAttribute
ERR_MSG_TAG
err
println
err
catchClause
e
String
err
e
setAttribute
ERR_MSG_TAG
err
println
err
return
template
processRequest
String
req
HttpServletRequest
resp
HttpServletResponse
context
Context
Command
c
String
template
String
name
getParameter
if
name
length
block
throw
Exception
if
equalsIgnoreCase
block
c
ListCommand
req
resp
template
exec
context
if
equalsIgnoreCase
block
c
PostCommand
req
resp
template
exec
context
if
equalsIgnoreCase
block
c
ReplyCommand
req
resp
template
exec
context
if
equalsIgnoreCase
block
c
PostReplyCommand
req
resp
template
exec
context
if
equalsIgnoreCase
block
c
ViewCommand
req
resp
template
exec
context
return
template
error
request
HttpServletRequest
response
HttpServletResponse
cause
Exception
HttpSession
sess
getSession
String
err
String
getAttribute
ERR_MSG_TAG
StringBuffer
html
StringBuffer
append
append
append
append
append
append
err
append
append
StringWriter
sw
StringWriter
printStackTrace
PrintWriter
sw
append
toString
append
append
getOutputStream
print
toString
VelocityServlet
