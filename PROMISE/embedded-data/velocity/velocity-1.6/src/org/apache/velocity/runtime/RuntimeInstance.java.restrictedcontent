RuntimeInstance
VelocimacroFactory
vmFactory
Log
log
Log
ParserPool
parserPool
boolean
initializing
boolean
initialized
ExtendedProperties
overridingProperties
Hashtable
runtimeDirectives
ExtendedProperties
configuration
ExtendedProperties
ResourceManager
resourceManager
EventCartridge
eventCartridge
Introspector
introspector
Map
applicationAttributes
Uberspect
uberSpect
String
encoding
RuntimeInstance
vmFactory
VelocimacroFactory
introspector
Introspector
getLog
applicationAttributes
HashMap
init
if
initialized
initializing
block
initializing
trace
debug
trace
initializeProperties
initializeLog
initializeResourceManager
initializeDirectives
initializeEventHandlers
initializeParserPool
initializeIntrospection
initVelocimacro
trace
initialized
initializing
isInitialized
boolean
return
initialized
requireInitialization
if
initialized
initializing
block
debug
try
init
catchClause
e
getLog
error
e
throw
RuntimeException
e
initializeIntrospection
String
uberspectors
getStringArray
UBERSPECT_CLASSNAME
for
forControl
int
i
i
length
i
block
String
rm
uberspectors
i
Object
o
try
o
getNewInstance
rm
catchClause
cnfe
String
err
rm
error
err
throw
Exception
err
if
o
Uberspect
block
String
err
rm
getName
Uberspect
error
err
throw
Exception
err
Uberspect
u
Uberspect
o
if
u
UberspectLoggable
block
UberspectLoggable
u
if
u
RuntimeServicesAware
block
RuntimeServicesAware
u
if
uberSpect
block
uberSpect
u
block
if
u
ChainableUberspector
block
ChainableUberspector
u
uberSpect
u
block
uberSpect
LinkingUberspector
uberSpect
u
if
uberSpect
block
init
block
String
err
error
err
throw
Exception
err
setDefaultProperties
InputStream
inputStream
try
inputStream
getClass
getResourceAsStream
DEFAULT_RUNTIME_PROPERTIES
load
inputStream
if
isDebugEnabled
block
debug
getPath
File
DEFAULT_RUNTIME_PROPERTIES
catchClause
ioe
String
msg
error
msg
ioe
throw
RuntimeException
msg
ioe
try
if
inputStream
block
close
catchClause
ioe
String
msg
error
msg
ioe
throw
RuntimeException
msg
ioe
setProperty
key
String
value
Object
if
overridingProperties
block
overridingProperties
ExtendedProperties
setProperty
key
value
setConfiguration
configuration
ExtendedProperties
if
overridingProperties
block
overridingProperties
configuration
block
if
overridingProperties
configuration
block
combine
configuration
addProperty
key
String
value
Object
if
overridingProperties
block
overridingProperties
ExtendedProperties
addProperty
key
value
clearProperty
key
String
if
overridingProperties
block
clearProperty
key
getProperty
Object
key
String
Object
o
if
initialized
initializing
overridingProperties
block
o
get
key
if
o
block
o
getProperty
key
if
o
String
block
return
nullTrim
String
o
block
return
o
initializeProperties
if
isInitialized
block
setDefaultProperties
if
overridingProperties
block
combine
overridingProperties
init
p
Properties
setProperties
convertProperties
p
init
setProperties
p
ExtendedProperties
if
overridingProperties
block
overridingProperties
p
block
combine
p
init
configurationFile
String
setProperties
ExtendedProperties
configurationFile
init
initializeResourceManager
String
rm
getString
RESOURCE_MANAGER_CLASS
if
rm
length
block
Object
o
try
o
getNewInstance
rm
catchClause
cnfe
String
err
rm
error
err
throw
Exception
err
if
o
ResourceManager
block
String
err
rm
getName
ResourceManager
error
err
throw
Exception
err
resourceManager
ResourceManager
o
initialize
block
String
err
error
err
throw
Exception
err
initializeEventHandlers
eventCartridge
EventCartridge
String
referenceinsertion
getStringArray
EVENTHANDLER_REFERENCEINSERTION
if
referenceinsertion
block
for
forControl
int
i
i
length
i
block
EventHandler
ev
initializeSpecificEventHandler
referenceinsertion
i
EVENTHANDLER_REFERENCEINSERTION
ReferenceInsertionEventHandler
if
ev
addReferenceInsertionEventHandler
ReferenceInsertionEventHandler
ev
String
nullset
getStringArray
EVENTHANDLER_NULLSET
if
nullset
block
for
forControl
int
i
i
length
i
block
EventHandler
ev
initializeSpecificEventHandler
nullset
i
EVENTHANDLER_NULLSET
NullSetEventHandler
if
ev
addNullSetEventHandler
NullSetEventHandler
ev
String
methodexception
getStringArray
EVENTHANDLER_METHODEXCEPTION
if
methodexception
block
for
forControl
int
i
i
length
i
block
EventHandler
ev
initializeSpecificEventHandler
methodexception
i
EVENTHANDLER_METHODEXCEPTION
MethodExceptionEventHandler
if
ev
addMethodExceptionHandler
MethodExceptionEventHandler
ev
String
includeHandler
getStringArray
EVENTHANDLER_INCLUDE
if
includeHandler
block
for
forControl
int
i
i
length
i
block
EventHandler
ev
initializeSpecificEventHandler
includeHandler
i
EVENTHANDLER_INCLUDE
IncludeEventHandler
if
ev
addIncludeEventHandler
IncludeEventHandler
ev
String
invalidReferenceSet
getStringArray
EVENTHANDLER_INVALIDREFERENCES
if
invalidReferenceSet
block
for
forControl
int
i
i
length
i
block
EventHandler
ev
initializeSpecificEventHandler
invalidReferenceSet
i
EVENTHANDLER_INVALIDREFERENCES
InvalidReferenceEventHandler
if
ev
block
addInvalidReferenceEventHandler
InvalidReferenceEventHandler
ev
initializeSpecificEventHandler
EventHandler
classname
String
paramName
String
EventHandlerInterface
Class
if
classname
length
block
Object
o
try
o
getNewInstance
classname
catchClause
cnfe
String
err
paramName
classname
error
err
throw
Exception
err
if
isAssignableFrom
EventHandlerInterface
block
String
err
paramName
classname
getName
error
err
throw
Exception
err
EventHandler
ev
EventHandler
o
if
ev
RuntimeServicesAware
RuntimeServicesAware
ev
return
ev
return
initializeLog
updateLog
log
initializeDirectives
runtimeDirectives
Hashtable
Properties
directiveProperties
Properties
InputStream
inputStream
try
inputStream
getClass
getResourceAsStream
DEFAULT_RUNTIME_DIRECTIVES
if
inputStream
block
throw
Exception
load
inputStream
catchClause
ioe
String
msg
error
msg
ioe
throw
RuntimeException
msg
ioe
try
if
inputStream
block
close
catchClause
ioe
String
msg
error
msg
ioe
throw
RuntimeException
msg
ioe
Enumeration
directiveClasses
elements
while
hasMoreElements
block
String
directiveClass
String
nextElement
loadDirective
directiveClass
debug
directiveClass
String
userdirective
getStringArray
for
forControl
int
i
i
length
i
block
loadDirective
userdirective
i
if
isDebugEnabled
block
debug
userdirective
i
addDirective
directive
Directive
put
getName
directive
getDirective
Directive
name
String
return
Directive
get
name
removeDirective
name
String
remove
name
loadDirective
directiveClass
String
try
Object
o
getNewInstance
directiveClass
if
o
Directive
block
Directive
directive
Directive
o
addDirective
directive
block
String
msg
directiveClass
getName
Directive
error
msg
throw
VelocityException
msg
catchClause
e
String
msg
directiveClass
error
msg
e
throw
VelocityException
msg
e
initializeParserPool
String
pp
getString
PARSER_POOL_CLASS
if
pp
length
block
Object
o
try
o
getNewInstance
pp
catchClause
cnfe
String
err
pp
error
err
throw
Exception
err
if
o
ParserPool
block
String
err
pp
ParserPool
error
err
throw
Exception
err
parserPool
ParserPool
o
initialize
block
String
err
error
err
throw
Exception
err
createNewParser
Parser
requireInitialization
Parser
parser
Parser
setDirectives
runtimeDirectives
return
parser
parse
SimpleNode
string
String
templateName
String
return
parse
StringReader
string
templateName
parse
SimpleNode
reader
Reader
templateName
String
return
parse
reader
templateName
parse
SimpleNode
reader
Reader
templateName
String
dumpNamespace
boolean
requireInitialization
Parser
parser
Parser
get
boolean
keepParser
if
parser
block
if
isInfoEnabled
block
info
parser
createNewParser
keepParser
try
if
dumpNamespace
block
dumpVMNamespace
templateName
return
parse
reader
templateName
if
keepParser
block
put
parser
evaluate
boolean
context
Context
out
Writer
logTag
String
instring
String
return
evaluate
context
out
logTag
StringReader
instring
evaluate
boolean
context
Context
writer
Writer
logTag
String
reader
Reader
if
logTag
block
throw
NullPointerException
SimpleNode
nodeTree
try
nodeTree
parse
reader
logTag
catchClause
pex
throw
ParseErrorException
pex
catchClause
pex
throw
ParseErrorException
pex
if
nodeTree
block
return
block
return
render
context
writer
logTag
nodeTree
render
boolean
context
Context
writer
Writer
logTag
String
nodeTree
SimpleNode
InternalContextAdapterImpl
ica
InternalContextAdapterImpl
context
pushCurrentTemplateName
logTag
try
try
init
ica
catchClause
pex
throw
ParseErrorException
pex
catchClause
e
throw
e
catchClause
e
String
msg
logTag
getLog
error
msg
e
throw
VelocityException
msg
e
render
ica
writer
popCurrentTemplateName
return
invokeVelocimacro
boolean
vmName
String
logTag
String
params
String
context
Context
writer
Writer
if
vmName
context
writer
block
String
msg
getLog
error
msg
throw
NullPointerException
msg
if
logTag
block
logTag
vmName
if
params
block
params
String
if
isVelocimacro
vmName
logTag
block
String
msg
vmName
getLog
error
msg
throw
VelocityException
msg
StrBuilder
template
StrBuilder
append
vmName
append
for
forControl
int
i
i
length
i
block
append
append
params
i
append
return
evaluate
context
writer
logTag
toString
getDefaultEncoding
String
if
encoding
block
encoding
getString
INPUT_ENCODING
ENCODING_DEFAULT
return
encoding
getTemplate
Template
name
String
return
getTemplate
name
getDefaultEncoding
getTemplate
Template
name
String
encoding
String
requireInitialization
return
Template
getResource
name
RESOURCE_TEMPLATE
encoding
getContent
ContentResource
name
String
return
getContent
name
getDefaultEncoding
getContent
ContentResource
name
String
encoding
String
requireInitialization
return
ContentResource
getResource
name
RESOURCE_CONTENT
encoding
getLoaderNameForResource
String
resourceName
String
requireInitialization
return
getLoaderNameForResource
resourceName
getLog
Log
return
log
warn
message
Object
getLog
warn
message
info
message
Object
getLog
info
message
error
message
Object
getLog
error
message
debug
message
Object
getLog
debug
message
getString
String
key
String
defaultValue
String
return
getString
key
defaultValue
getVelocimacro
Directive
vmName
String
templateName
String
return
getVelocimacro
vmName
templateName
getVelocimacro
Directive
vmName
String
templateName
String
renderingTemplate
String
return
getVelocimacro
vmName
templateName
renderingTemplate
addVelocimacro
boolean
name
String
macro
String
argArray
String
sourceTemplate
String
return
addVelocimacro
name
macro
argArray
sourceTemplate
addVelocimacro
boolean
name
String
macro
Node
argArray
String
sourceTemplate
String
return
addVelocimacro
name
macro
argArray
sourceTemplate
isVelocimacro
boolean
vmName
String
templateName
String
return
isVelocimacro
vmName
templateName
dumpVMNamespace
boolean
namespace
String
return
dumpVMNamespace
namespace
getString
String
key
String
return
nullTrim
getString
key
getInt
int
key
String
return
getInt
key
getInt
int
key
String
defaultValue
int
return
getInt
key
defaultValue
getBoolean
boolean
key
String
def
boolean
return
getBoolean
key
def
getConfiguration
ExtendedProperties
return
configuration
getIntrospector
Introspector
return
introspector
getApplicationEventCartridge
EventCartridge
return
eventCartridge
getApplicationAttribute
Object
key
Object
return
get
key
setApplicationAttribute
Object
key
Object
o
Object
return
put
key
o
getUberspect
Uberspect
return
uberSpect
RuntimeConstants
RuntimeServices
