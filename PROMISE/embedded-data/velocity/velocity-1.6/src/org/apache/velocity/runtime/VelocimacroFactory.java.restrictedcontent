VelocimacroFactory
RuntimeServices
rsvc
LogDisplayWrapper
log
VelocimacroManager
vmManager
boolean
replaceAllowed
boolean
addNewAllowed
boolean
templateLocal
boolean
autoReloadLibrary
List
macroLibVec
Map
libModMap
VelocimacroFactory
rsvc
RuntimeServices
rsvc
rsvc
log
LogDisplayWrapper
getLog
getBoolean
VM_MESSAGES_ON
libModMap
HashMap
vmManager
VelocimacroManager
rsvc
initVelocimacro
synchronized
trace
setReplacementPermission
setNamespaceUsage
Object
libfiles
getProperty
VM_LIBRARY
if
libfiles
block
debug
VM_LIBRARY
VM_LIBRARY_DEFAULT
if
getLoaderNameForResource
VM_LIBRARY_DEFAULT
block
libfiles
VM_LIBRARY_DEFAULT
block
debug
if
libfiles
block
macroLibVec
ArrayList
if
libfiles
Vector
block
addAll
Vector
libfiles
if
libfiles
String
block
add
libfiles
for
forControl
int
i
is
size
i
is
i
block
String
lib
String
get
i
if
isNotEmpty
lib
block
setRegisterFromLib
debug
lib
try
Template
template
getTemplate
lib
Twonk
twonk
Twonk
template
template
modificationTime
getLastModified
put
lib
twonk
catchClause
e
String
msg
lib
error
msg
e
throw
VelocityException
msg
e
trace
setRegisterFromLib
setAddMacroPermission
if
getBoolean
VM_PERM_ALLOW_INLINE
block
setAddMacroPermission
debug
block
debug
setReplacementPermission
if
getBoolean
VM_PERM_ALLOW_INLINE_REPLACE_GLOBAL
block
setReplacementPermission
debug
block
debug
setNamespaceUsage
setTemplateLocalInline
getBoolean
VM_PERM_INLINE_LOCAL
if
getTemplateLocalInline
block
debug
block
debug
setTemplateLocalInlineVM
getTemplateLocalInline
setAutoload
getBoolean
VM_LIBRARY_AUTORELOAD
if
getAutoload
block
debug
block
debug
trace
addVelocimacro
boolean
name
String
macroBody
String
argArray
String
sourceTemplate
String
if
name
macroBody
argArray
sourceTemplate
block
String
msg
name
if
name
block
msg
if
macroBody
block
msg
if
argArray
block
msg
block
msg
msg
error
msg
throw
NullPointerException
msg
if
canAddVelocimacro
name
sourceTemplate
block
return
synchronized
try
Node
macroRootNode
parse
StringReader
macroBody
sourceTemplate
addVM
name
macroRootNode
argArray
sourceTemplate
replaceAllowed
catchClause
ex
throw
RuntimeException
toString
if
isDebugEnabled
block
StringBuffer
msg
StringBuffer
macroToString
msg
argArray
append
append
sourceTemplate
debug
toString
return
addVelocimacro
boolean
name
String
macroBody
Node
argArray
String
sourceTemplate
String
if
name
macroBody
argArray
sourceTemplate
block
String
msg
name
if
name
block
msg
if
macroBody
block
msg
if
argArray
block
msg
block
msg
msg
error
msg
throw
NullPointerException
msg
if
canAddVelocimacro
name
sourceTemplate
block
return
synchronized
addVM
name
macroBody
argArray
sourceTemplate
replaceAllowed
return
canAddVelocimacro
boolean
name
String
sourceTemplate
String
if
autoReloadLibrary
macroLibVec
block
if
contains
sourceTemplate
return
if
addNewAllowed
block
warn
name
return
if
templateLocal
block
if
replaceAllowed
isVelocimacro
name
sourceTemplate
block
if
isDebugEnabled
debug
name
return
return
isVelocimacro
boolean
vm
String
sourceTemplate
String
return
get
vm
sourceTemplate
getVelocimacro
Directive
vmName
String
sourceTemplate
String
return
getVelocimacro
vmName
sourceTemplate
getVelocimacro
Directive
vmName
String
sourceTemplate
String
renderingTemplate
String
VelocimacroProxy
vp
vp
get
vmName
sourceTemplate
renderingTemplate
if
vp
autoReloadLibrary
block
synchronized
String
lib
getLibraryName
vmName
sourceTemplate
if
lib
block
try
Twonk
tw
Twonk
get
lib
if
tw
block
Template
template
template
long
tt
modificationTime
long
ft
getResourceLoader
getLastModified
template
if
ft
tt
block
debug
lib
modificationTime
ft
template
getTemplate
lib
template
template
modificationTime
getLastModified
catchClause
e
String
msg
lib
error
msg
e
throw
VelocityException
msg
e
vp
get
vmName
sourceTemplate
renderingTemplate
return
vp
dumpVMNamespace
boolean
namespace
String
return
dumpNamespace
namespace
setTemplateLocalInline
b
boolean
templateLocal
b
getTemplateLocalInline
boolean
return
templateLocal
setAddMacroPermission
boolean
addNewAllowed
boolean
boolean
b
addNewAllowed
addNewAllowed
addNewAllowed
return
b
setReplacementPermission
boolean
arg
boolean
boolean
b
replaceAllowed
replaceAllowed
arg
setInlineReplacesGlobal
arg
return
b
setAutoload
b
boolean
autoReloadLibrary
b
getAutoload
boolean
return
autoReloadLibrary
Twonk
Template
template
long
modificationTime
