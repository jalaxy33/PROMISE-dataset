TarOutputStream
int
LONGFILE_ERROR
int
LONGFILE_TRUNCATE
int
LONGFILE_GNU
boolean
debug
int
currSize
int
currBytes
byte
oneBuf
byte
recordBuf
int
assemLen
byte
assemBuf
TarBuffer
buffer
int
longFileMode
LONGFILE_ERROR
TarOutputStream
os
OutputStream
os
DEFAULT_BLKSIZE
DEFAULT_RCDSIZE
TarOutputStream
os
OutputStream
blockSize
int
os
blockSize
DEFAULT_RCDSIZE
TarOutputStream
os
OutputStream
blockSize
int
recordSize
int
os
buffer
TarBuffer
os
blockSize
recordSize
debug
assemLen
assemBuf
byte
recordSize
recordBuf
byte
recordSize
oneBuf
byte
setLongFileMode
longFileMode
int
longFileMode
longFileMode
setDebug
debugF
boolean
debug
debugF
setBufferDebug
debug
boolean
buffer
setDebug
debug
finish
writeEOFRecord
close
finish
buffer
close
getRecordSize
int
return
buffer
getRecordSize
putNextEntry
entry
TarEntry
if
getName
length
NAMELEN
block
if
longFileMode
LONGFILE_GNU
block
TarEntry
longLinkEntry
TarEntry
GNU_LONGLINK
LF_GNUTYPE_LONGNAME
setSize
getName
length
putNextEntry
longLinkEntry
write
getName
getBytes
write
closeEntry
if
longFileMode
LONGFILE_TRUNCATE
block
throw
RuntimeException
getName
NAMELEN
writeEntryHeader
recordBuf
buffer
writeRecord
recordBuf
currBytes
if
isDirectory
block
currSize
block
currSize
int
getSize
closeEntry
if
assemLen
block
for
forControl
int
i
assemLen
i
assemBuf
length
i
block
assemBuf
i
buffer
writeRecord
assemBuf
currBytes
assemLen
assemLen
if
currBytes
currSize
block
throw
IOException
currBytes
currSize
write
b
int
oneBuf
byte
b
write
oneBuf
write
wBuf
byte
write
wBuf
length
write
wBuf
byte
wOffset
int
numToWrite
int
if
currBytes
numToWrite
currSize
block
throw
IOException
numToWrite
currSize
if
assemLen
block
if
assemLen
numToWrite
recordBuf
length
block
int
aLen
recordBuf
length
assemLen
arraycopy
assemBuf
recordBuf
assemLen
arraycopy
wBuf
wOffset
recordBuf
assemLen
aLen
buffer
writeRecord
recordBuf
currBytes
recordBuf
length
wOffset
aLen
numToWrite
aLen
assemLen
block
arraycopy
wBuf
wOffset
assemBuf
assemLen
numToWrite
wOffset
numToWrite
assemLen
numToWrite
numToWrite
numToWrite
while
numToWrite
block
if
numToWrite
recordBuf
length
block
arraycopy
wBuf
wOffset
assemBuf
assemLen
numToWrite
assemLen
numToWrite
break
buffer
writeRecord
wBuf
wOffset
int
num
recordBuf
length
currBytes
num
numToWrite
num
wOffset
num
writeEOFRecord
for
forControl
int
i
i
recordBuf
length
i
block
recordBuf
i
buffer
writeRecord
recordBuf
FilterOutputStream
