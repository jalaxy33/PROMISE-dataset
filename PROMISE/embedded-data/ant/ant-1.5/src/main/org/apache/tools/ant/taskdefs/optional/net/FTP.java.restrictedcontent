FTP
int
SEND_FILES
int
GET_FILES
int
DEL_FILES
int
LIST_FILES
int
MK_DIR
int
CHMOD
String
remotedir
String
server
String
userid
String
password
File
listing
boolean
binary
boolean
passive
boolean
verbose
boolean
newerOnly
int
action
SEND_FILES
Vector
filesets
Vector
Vector
dirCache
Vector
int
transferred
String
remoteFileSep
int
port
boolean
skipFailedTransfers
int
skipped
boolean
ignoreNoncriticalErrors
String
chmod
String
umask
FileUtils
fileUtils
newFileUtils
String
ACTION_STRS
String
COMPLETED_ACTION_STRS
FTPDirectoryScanner
FTPClient
ftp
FTPDirectoryScanner
ftp
FTPClient
ftp
ftp
scan
if
includes
block
includes
String
includes
if
excludes
block
excludes
String
filesIncluded
Vector
filesNotIncluded
Vector
filesExcluded
Vector
dirsIncluded
Vector
dirsNotIncluded
Vector
dirsExcluded
Vector
try
String
cwd
printWorkingDirectory
scandir
changeWorkingDirectory
cwd
catchClause
e
throw
BuildException
e
scandir
dir
String
vpath
String
fast
boolean
try
if
changeWorkingDirectory
dir
block
return
FTPFile
newfiles
listFiles
if
newfiles
block
changeToParentDirectory
return
for
forControl
int
i
i
length
i
block
FTPFile
file
newfiles
i
if
getName
equals
getName
equals
block
if
isDirectory
block
String
name
vpath
getName
if
isIncluded
name
block
if
isExcluded
name
block
addElement
name
if
fast
block
scandir
getName
name
separator
fast
block
addElement
name
if
fast
couldHoldIncluded
name
block
scandir
getName
name
separator
fast
block
addElement
name
if
fast
couldHoldIncluded
name
block
scandir
getName
name
separator
fast
if
fast
block
scandir
getName
name
separator
fast
block
if
isFile
block
String
name
vpath
getName
if
isIncluded
name
block
if
isExcluded
name
block
addElement
name
block
addElement
name
block
addElement
name
changeToParentDirectory
catchClause
e
throw
BuildException
e
DirectoryScanner
setRemotedir
dir
String
remotedir
dir
setServer
server
String
server
server
setPort
port
int
port
port
setUserid
userid
String
userid
userid
setPassword
password
String
password
password
setBinary
binary
boolean
binary
binary
setPassive
passive
boolean
passive
passive
setVerbose
verbose
boolean
verbose
verbose
setNewer
newer
boolean
newerOnly
newer
setDepends
depends
boolean
newerOnly
depends
setSeparator
separator
String
remoteFileSep
separator
setChmod
theMode
String
chmod
theMode
setUmask
theUmask
String
umask
theUmask
addFileset
set
FileSet
addElement
set
setAction
action
String
log
Action
a
Action
setValue
action
action
getAction
setAction
action
Action
action
getAction
setListing
listing
File
listing
listing
setSkipFailedTransfers
skipFailedTransfers
boolean
skipFailedTransfers
skipFailedTransfers
setIgnoreNoncriticalErrors
ignoreNoncriticalErrors
boolean
ignoreNoncriticalErrors
ignoreNoncriticalErrors
checkConfiguration
if
server
block
throw
BuildException
if
userid
block
throw
BuildException
if
password
block
throw
BuildException
if
action
LIST_FILES
listing
block
throw
BuildException
if
action
MK_DIR
remotedir
block
throw
BuildException
if
action
CHMOD
chmod
block
throw
BuildException
transferFiles
int
ftp
FTPClient
fs
FileSet
FileScanner
ds
if
action
SEND_FILES
block
ds
getDirectoryScanner
project
block
ds
FTPDirectoryScanner
ftp
setupDirectoryScanner
ds
project
scan
String
dsfiles
getIncludedFiles
String
dir
if
getBasedir
action
SEND_FILES
action
GET_FILES
block
throw
BuildException
block
if
action
SEND_FILES
action
GET_FILES
block
dir
getBasedir
getAbsolutePath
BufferedWriter
bw
try
if
action
LIST_FILES
block
File
pd
getParentFile
listing
if
exists
block
mkdirs
bw
BufferedWriter
FileWriter
listing
for
forControl
int
i
i
length
i
block
switch
action
case
block
sendFile
ftp
dir
dsfiles
i
break
case
block
getFile
ftp
dir
dsfiles
i
break
case
block
delFile
ftp
dsfiles
i
break
case
block
listFile
ftp
bw
dsfiles
i
break
case
block
doSiteCommand
ftp
chmod
dsfiles
i
transferred
break
case
block
throw
BuildException
action
if
bw
block
close
return
length
transferFiles
ftp
FTPClient
transferred
skipped
if
size
block
throw
BuildException
block
for
forControl
int
i
i
size
i
block
FileSet
fs
FileSet
elementAt
i
if
fs
block
transferFiles
ftp
fs
log
transferred
COMPLETED_ACTION_STRS
action
if
skipped
block
log
skipped
COMPLETED_ACTION_STRS
action
resolveFile
String
file
String
return
replace
getProperty
charAt
charAt
createParents
ftp
FTPClient
filename
String
Vector
parents
Vector
File
dir
File
filename
String
dirname
while
dirname
getParent
block
dir
File
dirname
addElement
dir
for
forControl
int
i
size
i
i
block
dir
File
elementAt
i
if
contains
dir
block
log
resolveFile
getPath
MSG_VERBOSE
if
makeDirectory
resolveFile
getPath
block
handleMkDirFailure
ftp
addElement
dir
isUpToDate
boolean
ftp
FTPClient
localFile
File
remoteFile
String
log
remoteFile
MSG_VERBOSE
FTPFile
files
listFiles
remoteFile
if
files
length
block
if
action
SEND_FILES
block
log
remoteFile
MSG_VERBOSE
return
block
throw
BuildException
getReplyString
long
remoteTimestamp
files
getTimestamp
getTime
getTime
long
localTimestamp
lastModified
if
action
SEND_FILES
block
return
remoteTimestamp
localTimestamp
block
return
localTimestamp
remoteTimestamp
doSiteCommand
ftp
FTPClient
TheCMD
String
boolean
rc
String
MyReply
log
TheCMD
MSG_VERBOSE
rc
sendSiteCommand
TheCMD
if
rc
block
log
TheCMD
MSG_WARN
block
MyReply
getReplyStrings
for
forControl
int
x
x
length
x
block
if
MyReply
x
indexOf
block
log
MyReply
x
MSG_WARN
sendFile
ftp
FTPClient
dir
String
filename
String
InputStream
instream
try
File
file
resolveFile
getPath
File
dir
filename
if
newerOnly
isUpToDate
ftp
file
resolveFile
filename
block
return
if
verbose
block
log
getAbsolutePath
instream
BufferedInputStream
FileInputStream
file
createParents
ftp
filename
storeFile
resolveFile
filename
instream
boolean
success
isPositiveCompletion
getReplyCode
if
success
block
String
s
getReplyString
if
skipFailedTransfers
block
log
s
MSG_WARN
skipped
block
throw
BuildException
s
block
if
chmod
block
doSiteCommand
ftp
chmod
filename
log
getAbsolutePath
server
MSG_VERBOSE
transferred
if
instream
block
try
close
catchClause
ex
delFile
ftp
FTPClient
filename
String
if
verbose
block
log
filename
if
deleteFile
resolveFile
filename
block
String
s
getReplyString
if
skipFailedTransfers
block
log
s
MSG_WARN
skipped
block
throw
BuildException
s
block
log
filename
server
MSG_VERBOSE
transferred
getFile
ftp
FTPClient
dir
String
filename
String
OutputStream
outstream
try
File
file
resolveFile
getPath
File
dir
filename
if
newerOnly
isUpToDate
ftp
file
resolveFile
filename
block
return
if
verbose
block
log
filename
getAbsolutePath
File
pdir
getParentFile
file
if
exists
block
mkdirs
outstream
BufferedOutputStream
FileOutputStream
file
retrieveFile
resolveFile
filename
outstream
if
isPositiveCompletion
getReplyCode
block
String
s
getReplyString
if
skipFailedTransfers
block
log
s
MSG_WARN
skipped
block
throw
BuildException
s
block
log
getAbsolutePath
server
MSG_VERBOSE
transferred
if
outstream
block
try
close
catchClause
ex
listFile
ftp
FTPClient
bw
BufferedWriter
filename
String
if
verbose
block
log
filename
FTPFile
ftpfile
listFiles
resolveFile
filename
write
toString
newLine
transferred
makeRemoteDir
ftp
FTPClient
dir
String
if
verbose
block
log
dir
if
makeDirectory
dir
block
handleMkDirFailure
ftp
if
verbose
block
log
block
if
verbose
block
log
handleMkDirFailure
ftp
FTPClient
int
rc
getReplyCode
if
ignoreNoncriticalErrors
rc
rc
rc
block
throw
BuildException
getReplyString
execute
checkConfiguration
FTPClient
ftp
try
log
server
MSG_VERBOSE
ftp
FTPClient
connect
server
port
if
isPositiveCompletion
getReplyCode
block
throw
BuildException
getReplyString
log
MSG_VERBOSE
log
MSG_VERBOSE
if
login
userid
password
block
throw
BuildException
log
MSG_VERBOSE
if
binary
block
setFileType
IMAGE_FILE_TYPE
if
isPositiveCompletion
getReplyCode
block
throw
BuildException
getReplyString
if
passive
block
log
MSG_VERBOSE
enterLocalPassiveMode
if
isPositiveCompletion
getReplyCode
block
throw
BuildException
getReplyString
if
umask
block
doSiteCommand
ftp
umask
if
action
MK_DIR
block
makeRemoteDir
ftp
remotedir
block
if
remotedir
block
log
MSG_VERBOSE
changeWorkingDirectory
remotedir
if
isPositiveCompletion
getReplyCode
block
throw
BuildException
getReplyString
log
ACTION_STRS
action
transferFiles
ftp
catchClause
ex
throw
BuildException
ex
if
ftp
isConnected
block
try
log
MSG_VERBOSE
logout
disconnect
catchClause
ex
Action
String
validActions
getValues
String
return
validActions
getAction
int
String
actionL
getValue
toLowerCase
US
if
equals
equals
block
return
SEND_FILES
if
equals
equals
block
return
GET_FILES
if
equals
equals
block
return
DEL_FILES
if
equals
block
return
LIST_FILES
if
equals
block
return
CHMOD
if
equals
block
return
MK_DIR
return
SEND_FILES
EnumeratedAttribute
Task
