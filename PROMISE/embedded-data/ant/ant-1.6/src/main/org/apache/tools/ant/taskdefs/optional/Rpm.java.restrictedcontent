Rpm
String
specFile
File
topDir
String
command
String
rpmBuildCommand
boolean
cleanBuildDir
boolean
removeSpec
boolean
removeSource
File
output
File
error
execute
Commandline
toExecute
Commandline
setExecutable
rpmBuildCommand
guessRpmBuildCommand
rpmBuildCommand
if
topDir
block
createArgument
setValue
createArgument
setValue
topDir
createArgument
setLine
command
if
cleanBuildDir
block
createArgument
setValue
if
removeSpec
block
createArgument
setValue
if
removeSource
block
createArgument
setValue
createArgument
setValue
specFile
ExecuteStreamHandler
streamhandler
OutputStream
outputstream
OutputStream
errorstream
if
error
output
block
streamhandler
LogStreamHandler
MSG_INFO
MSG_WARN
block
if
output
block
try
BufferedOutputStream
bos
BufferedOutputStream
FileOutputStream
output
outputstream
PrintStream
bos
catchClause
e
throw
BuildException
e
getLocation
block
outputstream
LogOutputStream
MSG_INFO
if
error
block
try
BufferedOutputStream
bos
BufferedOutputStream
FileOutputStream
error
errorstream
PrintStream
bos
catchClause
e
throw
BuildException
e
getLocation
block
errorstream
LogOutputStream
MSG_WARN
streamhandler
PumpStreamHandler
outputstream
errorstream
Execute
exe
Execute
streamhandler
setAntRun
getProject
if
topDir
block
topDir
getProject
getBaseDir
setWorkingDirectory
topDir
setCommandline
getCommandline
try
execute
log
specFile
catchClause
e
throw
BuildException
e
getLocation
if
output
block
try
close
catchClause
e
if
error
block
try
close
catchClause
e
setTopDir
td
File
topDir
td
setCommand
c
String
command
c
setSpecFile
sf
String
if
sf
trim
block
throw
BuildException
getLocation
specFile
sf
setCleanBuildDir
cbd
boolean
cleanBuildDir
cbd
setRemoveSpec
rs
boolean
removeSpec
rs
setRemoveSource
rs
boolean
removeSource
rs
setOutput
output
File
output
output
setError
error
File
error
error
setRpmBuildCommand
c
String
rpmBuildCommand
c
guessRpmBuildCommand
String
Vector
env
getProcEnvironment
String
path
for
forControl
Enumeration
e
elements
hasMoreElements
block
String
var
String
nextElement
if
startsWith
startsWith
block
path
substring
break
if
path
block
Path
p
Path
getProject
path
String
pElements
list
for
forControl
int
i
i
length
i
block
File
f
File
pElements
i
isFamily
if
canRead
block
return
getAbsolutePath
return
Task
