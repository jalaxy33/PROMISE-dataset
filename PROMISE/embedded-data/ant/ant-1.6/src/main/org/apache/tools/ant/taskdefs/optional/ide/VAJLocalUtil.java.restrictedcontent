VAJLocalUtil
Workspace
workspace
createBuildException
BuildException
errMsg
String
e
IvjException
errMsg
errMsg
getMessage
String
errors
getErrors
if
errors
block
for
forControl
int
i
i
length
i
block
errMsg
errMsg
errors
i
return
BuildException
errMsg
e
getWorkspace
Workspace
if
workspace
block
workspace
connectToWorkspace
if
workspace
block
throw
BuildException
return
workspace
exportPackages
dest
File
includePatterns
String
excludePatterns
String
exportClasses
boolean
exportDebugInfo
boolean
exportResources
boolean
exportSources
boolean
useDefaultExcludes
boolean
overwrite
boolean
if
includePatterns
length
block
log
MSG_ERR
block
try
VAJWorkspaceScanner
scanner
VAJWorkspaceScanner
setIncludes
includePatterns
setExcludes
excludePatterns
if
useDefaultExcludes
block
addDefaultExcludes
scan
Package
packages
getIncludedPackages
log
length
dest
MSG_INFO
for
forControl
int
i
i
length
i
block
log
packages
i
getName
MSG_VERBOSE
ExportCodeSpec
exportSpec
ExportCodeSpec
setPackages
packages
includeJava
exportSources
includeClass
exportClasses
includeResources
exportResources
includeClassDebugInfo
exportDebugInfo
useSubdirectories
overwriteFiles
overwrite
setExportDirectory
getAbsolutePath
getWorkspace
exportData
exportSpec
catchClause
ex
throw
createBuildException
ex
loadProjects
projectDescriptions
Vector
Vector
expandedDescs
getExpandedDescriptions
projectDescriptions
for
forControl
Enumeration
e
elements
hasMoreElements
block
VAJProjectDescription
d
VAJProjectDescription
nextElement
if
projectFound
block
log
getName
MSG_WARN
log
size
MSG_INFO
for
forControl
Enumeration
e
elements
hasMoreElements
block
VAJProjectDescription
d
VAJProjectDescription
nextElement
ProjectEdition
pe
if
getVersion
equals
block
pe
findLatestProjectEdition
getName
if
getVersion
equals
block
pe
findLatestProjectEdition
getName
block
pe
findProjectEdition
getName
getVersion
try
log
getName
getVersionName
getVersionName
getVersionStamp
MSG_VERBOSE
loadIntoWorkspace
catchClause
ex
throw
createBuildException
getName
ex
getExpandedDescriptions
Vector
projectDescs
Vector
Vector
expandedDescs
Vector
size
try
String
projectNames
getWorkspace
getRepository
getProjectNames
for
forControl
int
i
i
length
i
block
for
forControl
Enumeration
e
elements
hasMoreElements
block
VAJProjectDescription
d
VAJProjectDescription
nextElement
String
pattern
getName
if
match
pattern
projectNames
i
block
setProjectFound
addElement
VAJProjectDescription
projectNames
i
getVersion
break
catchClause
e
throw
createBuildException
e
return
expandedDescs
findProjectEdition
ProjectEdition
name
String
versionName
String
try
ProjectEdition
editions
editions
getWorkspace
getRepository
getProjectEditions
name
if
editions
block
throw
BuildException
name
ProjectEdition
pe
for
forControl
int
i
i
length
pe
i
block
if
equals
editions
i
getVersionName
block
pe
editions
i
if
pe
block
throw
BuildException
versionName
name
return
pe
catchClause
e
throw
createBuildException
e
findLatestProjectEdition
ProjectEdition
name
String
includeOpenEditions
boolean
try
ProjectEdition
editions
editions
getWorkspace
getRepository
getProjectEditions
name
if
editions
block
throw
BuildException
name
ProjectEdition
pe
Date
latestStamp
Date
for
forControl
int
i
i
length
i
block
if
includeOpenEditions
editions
i
isVersion
block
continue
if
before
editions
i
getVersionStamp
block
latestStamp
editions
i
getVersionStamp
pe
editions
i
if
pe
block
throw
BuildException
name
log
getVersionName
getVersionName
getVersionStamp
getName
MSG_INFO
return
pe
catchClause
e
throw
createBuildException
e
importFiles
importProject
String
srcDir
File
includePatterns
String
excludePatterns
String
importClasses
boolean
importResources
boolean
importSources
boolean
useDefaultExcludes
boolean
if
importProject
equals
importProject
block
throw
BuildException
ImportCodeSpec
importSpec
ImportCodeSpec
setDefaultProject
getVAJProject
importProject
DirectoryScanner
ds
DirectoryScanner
setBasedir
srcDir
setIncludes
includePatterns
setExcludes
excludePatterns
if
useDefaultExcludes
block
addDefaultExcludes
scan
Vector
classes
Vector
Vector
sources
Vector
Vector
resources
Vector
scanForImport
srcDir
getIncludedFiles
classes
sources
resources
StringBuffer
summaryLog
StringBuffer
addFilesToImport
importSpec
importClasses
classes
summaryLog
addFilesToImport
importSpec
importSources
sources
summaryLog
addFilesToImport
importSpec
importResources
resources
summaryLog
setResourcePath
getAbsolutePath
append
append
importProject
append
log
toString
MSG_INFO
try
Type
importedTypes
getWorkspace
importData
importSpec
if
importedTypes
block
throw
BuildException
block
log
length
MSG_DEBUG
for
forControl
int
i
i
length
i
block
log
importedTypes
i
getPackage
getName
importedTypes
i
getName
importedTypes
i
getProject
getName
MSG_DEBUG
catchClause
ivje
throw
createBuildException
ivje
getVAJProject
Project
importProject
String
Project
found
Project
currentProjects
getWorkspace
getProjects
for
forControl
int
i
i
length
i
block
Project
p
currentProjects
i
if
getName
equals
importProject
block
found
p
break
if
found
block
try
found
getWorkspace
createProject
importProject
catchClause
e
throw
createBuildException
importProject
e
return
found
scanForImport
dir
File
files
String
classes
Vector
sources
Vector
resources
Vector
for
forControl
int
i
i
length
i
block
String
file
getAbsolutePath
File
dir
files
i
if
endsWith
endsWith
block
addElement
file
if
endsWith
endsWith
block
addElement
file
block
addElement
files
i
addFilesToImport
spec
ImportCodeSpec
doImport
boolean
files
Vector
fileType
String
summaryLog
StringBuffer
if
doImport
block
String
fileArr
String
size
copyInto
fileArr
try
String
methodName
fileType
Class
methodParams
Class
getClass
java
lang
reflect
Method
method
getClass
getDeclaredMethod
methodName
methodParams
invoke
spec
Object
fileArr
catchClause
e
throw
BuildException
e
if
size
block
logFiles
files
fileType
append
size
append
toLowerCase
append
size
logFiles
fileNames
Vector
fileType
String
log
fileType
MSG_VERBOSE
for
forControl
Enumeration
e
elements
hasMoreElements
block
log
nextElement
MSG_VERBOSE
VAJUtil
