Replace
File
src
NestedString
token
NestedString
value
NestedString
File
propertyFile
File
replaceFilterFile
Properties
properties
Vector
replacefilters
Vector
File
dir
int
fileCount
int
replaceCount
boolean
summary
String
encoding
FileUtils
fileUtils
newFileUtils
NestedString
StringBuffer
buf
StringBuffer
addText
val
String
append
val
getText
String
return
substring
Replacefilter
String
token
String
value
String
property
validate
if
token
block
String
message
throw
BuildException
message
if
equals
token
block
String
message
throw
BuildException
message
if
value
property
block
String
message
throw
BuildException
message
if
property
block
if
propertyFile
block
String
message
throw
BuildException
message
if
properties
getProperty
property
block
String
message
property
getPath
throw
BuildException
message
getReplaceValue
String
if
property
block
return
getProperty
property
if
value
block
return
value
if
value
block
return
value
getText
block
return
String
setToken
token
String
token
token
getToken
String
return
token
setValue
value
String
value
value
getValue
String
return
value
setProperty
property
String
property
property
getProperty
String
return
property
execute
Vector
savedFilters
Vector
clone
Properties
savedProperties
properties
Properties
clone
try
if
replaceFilterFile
block
Properties
props
getProperties
replaceFilterFile
Enumeration
e
keys
while
hasMoreElements
block
String
token
nextElement
toString
Replacefilter
replaceFilter
createReplacefilter
setToken
token
setValue
getProperty
token
validateAttributes
if
propertyFile
block
properties
getProperties
propertyFile
validateReplacefilters
fileCount
replaceCount
if
src
block
processFile
src
if
dir
block
DirectoryScanner
ds
getDirectoryScanner
dir
String
srcs
getIncludedFiles
for
forControl
int
i
i
length
i
block
File
file
File
dir
srcs
i
processFile
file
if
summary
block
log
replaceCount
fileCount
MSG_INFO
replacefilters
savedFilters
properties
savedProperties
validateAttributes
if
src
dir
block
String
message
throw
BuildException
message
getLocation
if
propertyFile
exists
block
String
message
getPath
throw
BuildException
message
getLocation
if
token
size
block
String
message
throw
BuildException
message
getLocation
if
token
equals
getText
block
String
message
throw
BuildException
message
getLocation
validateReplacefilters
for
forControl
int
i
i
size
i
block
Replacefilter
element
Replacefilter
elementAt
i
validate
getProperties
Properties
propertyFile
File
Properties
properties
Properties
try
load
FileInputStream
propertyFile
catchClause
e
String
message
getPath
throw
BuildException
message
catchClause
e
String
message
getPath
throw
BuildException
message
return
properties
processFile
src
File
if
exists
block
throw
BuildException
getPath
getLocation
File
temp
createTempFile
getParentFile
src
deleteOnExit
Reader
reader
Writer
writer
try
reader
encoding
FileReader
src
InputStreamReader
FileInputStream
src
encoding
writer
encoding
FileWriter
temp
OutputStreamWriter
FileOutputStream
temp
encoding
BufferedReader
br
BufferedReader
reader
BufferedWriter
bw
BufferedWriter
writer
String
buf
readFully
br
if
buf
block
buf
String
newString
String
buf
if
token
block
String
val
stringReplace
getText
val
stringReplace
val
LINE_SEP
String
tok
stringReplace
getText
tok
stringReplace
tok
LINE_SEP
log
getPath
getText
getText
MSG_VERBOSE
newString
stringReplace
newString
tok
val
if
size
block
newString
processReplacefilters
newString
getPath
boolean
changes
equals
buf
if
changes
block
write
newString
length
flush
close
writer
close
reader
if
changes
block
fileCount
rename
temp
src
temp
catchClause
ioe
throw
BuildException
src
getClass
getName
getMessage
ioe
getLocation
if
reader
block
try
close
catchClause
e
if
writer
block
try
close
catchClause
e
if
temp
block
delete
processReplacefilters
String
buffer
String
filename
String
String
newString
String
buffer
for
forControl
int
i
i
size
i
block
Replacefilter
filter
Replacefilter
elementAt
i
log
filename
getToken
getReplaceValue
MSG_VERBOSE
newString
stringReplace
newString
getToken
getReplaceValue
return
newString
setFile
file
File
src
file
setSummary
summary
boolean
summary
summary
setReplaceFilterFile
filename
File
replaceFilterFile
filename
setDir
dir
File
dir
dir
setToken
token
String
createReplaceToken
addText
token
setValue
value
String
createReplaceValue
addText
value
setEncoding
encoding
String
encoding
encoding
createReplaceToken
NestedString
if
token
block
token
NestedString
return
token
createReplaceValue
NestedString
return
value
setPropertyFile
filename
File
propertyFile
filename
createReplacefilter
Replacefilter
Replacefilter
filter
Replacefilter
addElement
filter
return
filter
stringReplace
String
str
String
str1
String
str2
String
countReplaces
boolean
StringBuffer
ret
StringBuffer
int
start
int
found
indexOf
str1
while
found
block
if
found
start
block
append
substring
start
found
if
str2
block
append
str2
start
found
length
found
indexOf
str1
start
if
countReplaces
block
replaceCount
if
length
start
block
append
substring
start
length
return
toString
MatchingTask
