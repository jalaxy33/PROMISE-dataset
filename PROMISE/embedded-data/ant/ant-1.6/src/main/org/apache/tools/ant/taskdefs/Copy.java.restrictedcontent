Copy
File
file
File
destFile
File
destDir
Vector
filesets
Vector
boolean
enableMultipleMappings
boolean
filtering
boolean
preserveLastModified
boolean
forceOverwrite
boolean
flatten
int
verbosity
MSG_VERBOSE
boolean
includeEmpty
boolean
failonerror
Hashtable
fileCopyMap
Hashtable
Hashtable
dirCopyMap
Hashtable
Hashtable
completeDirMap
Hashtable
Mapper
mapperElement
Vector
filterChains
Vector
Vector
filterSets
Vector
FileUtils
fileUtils
String
inputEncoding
String
outputEncoding
Copy
fileUtils
newFileUtils
getFileUtils
FileUtils
return
fileUtils
setFile
file
File
file
file
setTofile
destFile
File
destFile
destFile
setTodir
destDir
File
destDir
destDir
createFilterChain
FilterChain
FilterChain
filterChain
FilterChain
addElement
filterChain
return
filterChain
createFilterSet
FilterSet
FilterSet
filterSet
FilterSet
addElement
filterSet
return
filterSet
setPreserveLastModified
preserve
String
setPreserveLastModified
toBoolean
preserve
setPreserveLastModified
preserve
boolean
preserveLastModified
preserve
getPreserveLastModified
boolean
return
preserveLastModified
getFilterSets
Vector
return
filterSets
getFilterChains
Vector
return
filterChains
setFiltering
filtering
boolean
filtering
filtering
setOverwrite
overwrite
boolean
forceOverwrite
overwrite
setFlatten
flatten
boolean
flatten
flatten
setVerbose
verbose
boolean
if
verbose
block
verbosity
MSG_INFO
block
verbosity
MSG_VERBOSE
setIncludeEmptyDirs
includeEmpty
boolean
includeEmpty
includeEmpty
setEnableMultipleMappings
enableMultipleMappings
boolean
enableMultipleMappings
enableMultipleMappings
isEnableMultipleMapping
boolean
return
enableMultipleMappings
setFailOnError
failonerror
boolean
failonerror
failonerror
addFileset
set
FileSet
addElement
set
createMapper
Mapper
if
mapperElement
block
throw
BuildException
getLocation
mapperElement
Mapper
getProject
return
mapperElement
setEncoding
encoding
String
inputEncoding
encoding
if
outputEncoding
block
outputEncoding
encoding
getEncoding
String
return
inputEncoding
setOutputEncoding
encoding
String
outputEncoding
encoding
getOutputEncoding
String
return
outputEncoding
execute
File
savedFile
file
File
savedDestFile
destFile
File
savedDestDir
destDir
FileSet
savedFileSet
if
file
destFile
size
block
savedFileSet
FileSet
elementAt
validateAttributes
try
if
file
block
if
exists
block
if
destFile
block
destFile
File
destDir
getName
if
forceOverwrite
exists
lastModified
lastModified
block
put
getAbsolutePath
String
getAbsolutePath
block
log
file
destFile
MSG_VERBOSE
block
String
message
getAbsolutePath
if
failonerror
block
log
message
block
throw
BuildException
message
for
forControl
int
i
i
size
i
block
FileSet
fs
FileSet
elementAt
i
DirectoryScanner
ds
try
ds
getDirectoryScanner
getProject
catchClause
e
if
failonerror
getMessage
endsWith
block
throw
e
block
log
getMessage
continue
File
fromDir
getDir
getProject
String
srcFiles
getIncludedFiles
String
srcDirs
getIncludedDirectories
boolean
isEverythingIncluded
isEverythingIncluded
hasSelectors
hasPatterns
if
isEverythingIncluded
flatten
mapperElement
block
put
fromDir
destDir
scan
fromDir
destDir
srcFiles
srcDirs
try
doFileOperations
catchClause
e
if
failonerror
block
log
getMessage
MSG_ERR
block
throw
e
file
savedFile
destFile
savedDestFile
destDir
savedDestDir
if
savedFileSet
block
insertElementAt
savedFileSet
clear
clear
clear
validateAttributes
if
file
size
block
throw
BuildException
if
destFile
destDir
block
throw
BuildException
if
destFile
destDir
block
throw
BuildException
if
file
exists
isDirectory
block
throw
BuildException
if
destFile
size
block
if
size
block
throw
BuildException
block
FileSet
fs
FileSet
elementAt
DirectoryScanner
ds
getDirectoryScanner
getProject
String
srcFiles
getIncludedFiles
if
length
block
throw
BuildException
if
length
block
if
file
block
file
File
getBasedir
srcFiles
removeElementAt
block
throw
BuildException
block
throw
BuildException
if
destFile
block
destDir
getParentFile
destFile
scan
fromDir
File
toDir
File
files
String
dirs
String
FileNameMapper
mapper
if
mapperElement
block
mapper
getImplementation
if
flatten
block
mapper
FlatFileNameMapper
block
mapper
IdentityMapper
buildMap
fromDir
toDir
files
mapper
fileCopyMap
if
includeEmpty
block
buildMap
fromDir
toDir
dirs
mapper
dirCopyMap
buildMap
fromDir
File
toDir
File
names
String
mapper
FileNameMapper
map
Hashtable
String
toCopy
if
forceOverwrite
block
Vector
v
Vector
for
forControl
int
i
i
length
i
block
if
mapFileName
names
i
block
addElement
names
i
toCopy
String
size
copyInto
toCopy
block
SourceFileScanner
ds
SourceFileScanner
toCopy
restrict
names
fromDir
toDir
mapper
for
forControl
int
i
i
length
i
block
File
src
File
fromDir
toCopy
i
String
mappedFiles
mapFileName
toCopy
i
if
enableMultipleMappings
block
put
getAbsolutePath
String
getAbsolutePath
File
toDir
mappedFiles
block
for
forControl
int
k
k
length
k
block
mappedFiles
k
getAbsolutePath
File
toDir
mappedFiles
k
put
getAbsolutePath
mappedFiles
doFileOperations
if
size
block
log
size
size
getAbsolutePath
Enumeration
e
keys
while
hasMoreElements
block
String
fromFile
String
nextElement
String
toFiles
String
get
fromFile
for
forControl
int
i
i
length
i
block
String
toFile
toFiles
i
if
equals
toFile
block
log
fromFile
verbosity
continue
try
log
fromFile
toFile
verbosity
FilterSetCollection
executionFilters
FilterSetCollection
if
filtering
block
addFilterSet
getProject
getGlobalFilterSet
for
forControl
Enumeration
filterEnum
elements
hasMoreElements
block
addFilterSet
FilterSet
nextElement
copyFile
fromFile
toFile
executionFilters
filterChains
forceOverwrite
preserveLastModified
inputEncoding
outputEncoding
getProject
catchClause
ioe
String
msg
fromFile
toFile
getMessage
File
targetFile
File
toFile
if
exists
delete
block
msg
toFile
throw
BuildException
msg
ioe
getLocation
if
includeEmpty
block
Enumeration
e
elements
int
createCount
while
hasMoreElements
block
String
dirs
String
nextElement
for
forControl
int
i
i
length
i
block
File
d
File
dirs
i
if
exists
block
if
mkdirs
block
log
getAbsolutePath
MSG_ERR
block
createCount
if
createCount
block
log
size
size
createCount
createCount
getAbsolutePath
Task
