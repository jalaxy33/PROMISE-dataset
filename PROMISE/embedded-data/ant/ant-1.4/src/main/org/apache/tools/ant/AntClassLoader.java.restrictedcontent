AntClassLoader
ResourceEnumeration
String
resourceName
int
pathElementsIndex
URL
nextResource
ResourceEnumeration
name
String
resourceName
name
pathElementsIndex
findNextResource
hasMoreElements
boolean
return
nextResource
nextElement
Object
URL
ret
nextResource
findNextResource
return
ret
findNextResource
URL
url
while
pathElementsIndex
size
url
block
try
File
pathComponent
File
elementAt
pathElementsIndex
url
getResourceURL
pathComponent
resourceName
pathElementsIndex
catchClause
e
nextResource
url
Enumeration
int
BUFFER_SIZE
Vector
pathComponents
Vector
Project
project
boolean
parentFirst
Vector
systemPackages
Vector
Vector
loaderPackages
Vector
boolean
ignoreBase
ClassLoader
parent
Hashtable
zipFiles
Hashtable
ClassLoader
savedContextLoader
boolean
isContextLoaderSaved
Method
getProtectionDomain
Method
defineClassProtectionDomain
Method
getContextClassLoader
Method
setContextClassLoader
try
getProtectionDomain
getMethod
Class
Class
Class
protectionDomain
forName
Class
args
Class
String
byte
TYPE
TYPE
protectionDomain
defineClassProtectionDomain
getDeclaredMethod
args
ClassLoader
getContextClassLoader
getMethod
Class
Thread
args
Class
ClassLoader
setContextClassLoader
getMethod
args
Thread
catchClause
e
AntClassLoader
project
Project
classpath
Path
parent
getClassLoader
AntClassLoader
project
project
addBuildListener
if
classpath
block
Path
actualClasspath
concatSystemClasspath
String
pathElements
list
for
forControl
int
i
i
length
i
block
try
addPathElement
String
pathElements
i
catchClause
e
AntClassLoader
parent
ClassLoader
project
Project
classpath
Path
parentFirst
boolean
project
classpath
if
parent
block
parent
parent
parentFirst
parentFirst
addSystemPackageRoot
addSystemPackageRoot
AntClassLoader
project
Project
classpath
Path
parentFirst
boolean
project
classpath
parentFirst
AntClassLoader
parent
ClassLoader
parentFirst
boolean
if
parent
block
parent
parent
block
parent
getClassLoader
AntClassLoader
project
parentFirst
parentFirst
log
message
String
priority
int
if
project
block
log
message
priority
setThreadContextLoader
if
isContextLoaderSaved
block
throw
BuildException
if
getContextClassLoader
setContextClassLoader
block
try
savedContextLoader
ClassLoader
invoke
currentThread
Object
Object
args
Object
invoke
currentThread
args
isContextLoaderSaved
catchClause
ite
Throwable
t
getTargetException
throw
BuildException
toString
catchClause
e
throw
BuildException
toString
resetThreadContextLoader
if
isContextLoaderSaved
getContextClassLoader
setContextClassLoader
block
try
Object
args
Object
savedContextLoader
invoke
currentThread
args
savedContextLoader
isContextLoaderSaved
catchClause
ite
Throwable
t
getTargetException
throw
BuildException
toString
catchClause
e
throw
BuildException
toString
addPathElement
pathElement
String
File
pathComponent
project
resolveFile
pathElement
File
pathElement
addElement
pathComponent
setIsolated
isolated
boolean
ignoreBase
isolated
initializeClass
theClass
Class
try
newInstance
catchClause
t
addSystemPackageRoot
packageRoot
String
addElement
packageRoot
addLoaderPackageRoot
packageRoot
String
addElement
packageRoot
forceLoadClass
Class
classname
String
log
classname
MSG_DEBUG
Class
theClass
findLoadedClass
classname
if
theClass
block
theClass
findClass
classname
return
theClass
forceLoadSystemClass
Class
classname
String
log
classname
MSG_DEBUG
Class
theClass
findLoadedClass
classname
if
theClass
block
theClass
findBaseClass
classname
return
theClass
getResourceAsStream
InputStream
name
String
InputStream
resourceStream
if
isParentFirst
name
block
resourceStream
loadBaseResource
name
if
resourceStream
block
log
name
MSG_DEBUG
block
resourceStream
loadResource
name
if
resourceStream
block
log
name
MSG_DEBUG
block
resourceStream
loadResource
name
if
resourceStream
block
log
name
MSG_DEBUG
block
resourceStream
loadBaseResource
name
if
resourceStream
block
log
name
MSG_DEBUG
if
resourceStream
block
log
name
MSG_DEBUG
return
resourceStream
loadResource
InputStream
name
String
InputStream
stream
for
forControl
Enumeration
e
elements
hasMoreElements
stream
block
File
pathComponent
File
nextElement
stream
getResourceStream
pathComponent
name
return
stream
loadBaseResource
InputStream
name
String
if
parent
block
return
getSystemResourceAsStream
name
block
return
getResourceAsStream
name
getResourceStream
InputStream
file
File
resourceName
String
try
if
exists
block
return
if
isDirectory
block
File
resource
File
file
resourceName
if
exists
block
return
FileInputStream
resource
block
ZipFile
zipFile
ZipFile
get
file
if
zipFile
block
zipFile
ZipFile
file
put
file
zipFile
ZipEntry
entry
getEntry
resourceName
if
entry
block
return
getInputStream
entry
catchClause
e
log
getClass
getName
getMessage
resourceName
file
MSG_VERBOSE
return
isParentFirst
boolean
resourceName
String
boolean
useParentFirst
parentFirst
for
forControl
Enumeration
e
elements
hasMoreElements
block
String
packageName
String
nextElement
if
startsWith
packageName
block
useParentFirst
break
for
forControl
Enumeration
e
elements
hasMoreElements
block
String
packageName
String
nextElement
if
startsWith
packageName
block
useParentFirst
break
return
useParentFirst
getResource
URL
name
String
URL
url
if
isParentFirst
name
block
url
parent
getResource
name
getResource
name
if
url
block
log
name
MSG_DEBUG
block
for
forControl
Enumeration
e
elements
hasMoreElements
url
block
File
pathComponent
File
nextElement
url
getResourceURL
pathComponent
name
if
url
block
log
name
MSG_DEBUG
if
url
isParentFirst
name
block
url
parent
getResource
name
getResource
name
if
url
block
log
name
MSG_DEBUG
if
url
block
log
name
MSG_DEBUG
return
url
findResources
Enumeration
name
String
return
ResourceEnumeration
name
getResourceURL
URL
file
File
resourceName
String
try
if
exists
block
return
if
isDirectory
block
File
resource
File
file
resourceName
if
exists
block
try
return
URL
toString
catchClause
ex
return
block
ZipFile
zipFile
ZipFile
get
file
if
zipFile
block
zipFile
ZipFile
file
put
file
zipFile
ZipEntry
entry
getEntry
resourceName
if
entry
block
try
return
URL
toString
entry
catchClause
ex
return
catchClause
e
printStackTrace
return
loadClass
Class
classname
String
resolve
boolean
Class
theClass
findLoadedClass
classname
if
theClass
block
return
theClass
if
isParentFirst
classname
block
try
theClass
findBaseClass
classname
log
classname
MSG_DEBUG
catchClause
cnfe
theClass
findClass
classname
log
classname
MSG_DEBUG
block
try
theClass
findClass
classname
log
classname
MSG_DEBUG
catchClause
cnfe
if
ignoreBase
block
throw
cnfe
theClass
findBaseClass
classname
log
classname
MSG_DEBUG
if
resolve
block
resolveClass
theClass
return
theClass
getClassFilename
String
classname
String
return
replace
getClassFromStream
Class
stream
InputStream
classname
String
ByteArrayOutputStream
baos
ByteArrayOutputStream
int
bytesRead
byte
buffer
byte
BUFFER_SIZE
while
bytesRead
read
buffer
BUFFER_SIZE
block
write
buffer
bytesRead
byte
classData
toByteArray
if
defineClassProtectionDomain
block
try
Object
domain
invoke
Project
Object
Object
args
Object
classname
classData
Integer
Integer
length
domain
return
Class
invoke
args
catchClause
ite
Throwable
t
getTargetException
if
t
ClassFormatError
block
throw
ClassFormatError
t
if
t
NoClassDefFoundError
block
throw
NoClassDefFoundError
t
block
throw
IOException
toString
catchClause
e
throw
IOException
toString
block
return
defineClass
classname
classData
length
findClass
Class
name
String
log
name
MSG_DEBUG
return
findClassInComponents
name
findClassInComponents
Class
name
String
InputStream
stream
String
classFilename
getClassFilename
name
try
for
forControl
Enumeration
e
elements
hasMoreElements
block
File
pathComponent
File
nextElement
try
stream
getResourceStream
pathComponent
classFilename
if
stream
block
return
getClassFromStream
stream
name
catchClause
ioe
log
pathComponent
MSG_VERBOSE
throw
ClassNotFoundException
name
try
if
stream
block
close
catchClause
e
findBaseClass
Class
name
String
if
parent
block
return
findSystemClass
name
block
return
loadClass
name
cleanup
pathComponents
project
for
forControl
Enumeration
e
elements
hasMoreElements
block
ZipFile
zipFile
ZipFile
nextElement
try
close
catchClause
ioe
zipFiles
Hashtable
buildStarted
event
BuildEvent
buildFinished
event
BuildEvent
cleanup
targetStarted
event
BuildEvent
targetFinished
event
BuildEvent
taskStarted
event
BuildEvent
taskFinished
event
BuildEvent
messageLogged
event
BuildEvent
ClassLoader
BuildListener
