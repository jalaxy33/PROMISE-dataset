Replace
File
src
NestedString
token
NestedString
value
NestedString
File
propertyFile
Properties
properties
Vector
replacefilters
Vector
File
dir
int
fileCount
int
replaceCount
boolean
summary
NestedString
StringBuffer
buf
StringBuffer
addText
val
String
append
val
getText
String
return
toString
Replacefilter
String
token
String
value
String
property
validate
if
token
block
String
message
throw
BuildException
message
if
equals
token
block
String
message
throw
BuildException
message
if
value
property
block
String
message
throw
BuildException
message
if
property
block
if
propertyFile
block
String
message
throw
BuildException
message
if
properties
getProperty
property
block
String
message
property
getPath
throw
BuildException
message
getReplaceValue
String
if
property
block
return
String
getProperty
property
if
value
block
return
value
if
value
block
return
value
getText
block
return
String
setToken
token
String
token
token
getToken
String
return
token
setValue
value
String
value
value
getValue
String
return
value
setProperty
property
String
property
property
getProperty
String
return
property
execute
validateAttributes
if
propertyFile
block
properties
getProperties
propertyFile
validateReplacefilters
fileCount
replaceCount
if
src
block
processFile
src
if
dir
block
DirectoryScanner
ds
getDirectoryScanner
dir
String
srcs
getIncludedFiles
for
forControl
int
i
i
length
i
block
File
file
File
dir
srcs
i
processFile
file
if
summary
block
log
replaceCount
fileCount
MSG_INFO
validateAttributes
if
src
dir
block
String
message
throw
BuildException
message
location
if
propertyFile
exists
block
String
message
getPath
throw
BuildException
message
location
if
token
size
block
String
message
throw
BuildException
message
location
if
token
equals
getText
block
String
message
throw
BuildException
message
location
validateReplacefilters
for
forControl
int
i
i
size
i
block
Replacefilter
element
Replacefilter
elementAt
i
validate
getProperties
Properties
propertyFile
File
Properties
properties
Properties
try
load
FileInputStream
propertyFile
catchClause
e
String
message
getPath
throw
BuildException
message
catchClause
e
String
message
getPath
throw
BuildException
message
return
properties
processFile
src
File
if
exists
block
throw
BuildException
getPath
location
File
temp
File
getPath
if
exists
block
throw
BuildException
getPath
location
try
BufferedReader
br
BufferedReader
FileReader
src
BufferedWriter
bw
BufferedWriter
FileWriter
temp
int
fileLengthInBytes
int
length
StringBuffer
tmpBuf
StringBuffer
fileLengthInBytes
int
readChar
int
totread
while
block
readChar
read
if
readChar
block
break
append
char
readChar
totread
String
buf
toString
String
newString
String
buf
if
token
block
String
linesep
getProperty
String
val
stringReplace
getText
linesep
String
tok
stringReplace
getText
linesep
log
getPath
getText
getText
MSG_VERBOSE
newString
stringReplace
newString
tok
val
if
size
block
newString
processReplacefilters
newString
getPath
boolean
changes
equals
buf
if
changes
block
write
newString
length
flush
close
close
if
changes
block
fileCount
delete
renameTo
src
block
delete
catchClause
ioe
printStackTrace
throw
BuildException
ioe
location
processReplacefilters
String
buffer
String
filename
String
String
newString
String
buffer
for
forControl
int
i
i
size
i
block
Replacefilter
filter
Replacefilter
elementAt
i
log
filename
getToken
getReplaceValue
MSG_VERBOSE
newString
stringReplace
newString
getToken
getReplaceValue
return
newString
setFile
file
File
src
file
setSummary
summary
boolean
summary
summary
setDir
dir
File
dir
dir
setToken
token
String
createReplaceToken
addText
token
setValue
value
String
createReplaceValue
addText
value
createReplaceToken
NestedString
if
token
block
token
NestedString
return
token
createReplaceValue
NestedString
return
value
setPropertyFile
filename
File
propertyFile
filename
createReplacefilter
Replacefilter
Replacefilter
filter
Replacefilter
addElement
filter
return
filter
stringReplace
String
str
String
str1
String
str2
String
StringBuffer
ret
StringBuffer
int
start
int
found
indexOf
str1
while
found
block
if
found
start
block
append
substring
start
found
if
str2
block
append
str2
start
found
length
found
indexOf
str1
start
replaceCount
if
length
start
block
append
substring
start
length
return
toString
MatchingTask
