Depend
ClassFileInfo
File
absoluteFile
String
relativeName
String
className
Path
srcPath
Path
destPath
File
cache
Hashtable
affectedClassMap
Hashtable
classFileInfoMap
Vector
outOfDateClasses
boolean
closure
writeDependencyList
depFile
File
dependencyList
Vector
PrintWriter
pw
try
String
parent
getParent
if
parent
block
mkdirs
File
parent
pw
PrintWriter
FileWriter
depFile
for
forControl
Enumeration
deps
elements
hasMoreElements
block
println
nextElement
if
pw
block
close
readDependencyList
Vector
depFile
File
Vector
dependencyList
BufferedReader
in
try
in
BufferedReader
FileReader
depFile
String
line
dependencyList
Vector
while
line
readLine
block
addElement
line
if
in
block
close
return
dependencyList
determineDependencies
affectedClassMap
Hashtable
classFileInfoMap
Hashtable
for
forControl
Enumeration
e
getClassFiles
elements
destPath
hasMoreElements
block
ClassFileInfo
info
ClassFileInfo
nextElement
log
className
MSG_DEBUG
put
className
info
Vector
dependencyList
if
cache
block
File
depFile
File
cache
relativeName
if
exists
lastModified
lastModified
block
dependencyList
readDependencyList
depFile
if
dependencyList
block
FileInputStream
inFileStream
try
inFileStream
FileInputStream
absoluteFile
ClassFile
classFile
ClassFile
read
inFileStream
dependencyList
getClassRefs
if
cache
block
File
depFile
File
cache
relativeName
writeDependencyList
depFile
dependencyList
if
inFileStream
block
close
for
forControl
Enumeration
depEnum
elements
hasMoreElements
block
String
dependentClass
String
nextElement
Hashtable
affectedClasses
Hashtable
get
dependentClass
if
affectedClasses
block
affectedClasses
Hashtable
put
dependentClass
affectedClasses
put
className
info
deleteAllAffectedFiles
for
forControl
Enumeration
e
elements
hasMoreElements
block
String
className
String
nextElement
deleteAffectedFiles
className
deleteAffectedFiles
className
String
Hashtable
affectedClasses
Hashtable
get
className
if
affectedClasses
block
for
forControl
Enumeration
e
keys
hasMoreElements
block
String
affectedClassName
String
nextElement
ClassFileInfo
affectedClassInfo
ClassFileInfo
get
affectedClassName
if
exists
block
log
getPath
className
MSG_VERBOSE
delete
if
closure
block
deleteAffectedFiles
affectedClassName
block
if
indexOf
block
String
topLevelClassName
substring
indexOf
log
topLevelClassName
MSG_VERBOSE
ClassFileInfo
topLevelClassInfo
ClassFileInfo
get
topLevelClassName
if
topLevelClassInfo
exists
block
log
getPath
MSG_VERBOSE
delete
if
closure
block
deleteAffectedFiles
topLevelClassName
execute
try
long
start
currentTimeMillis
String
srcPathList
list
if
length
block
throw
BuildException
location
if
destPath
block
destPath
srcPath
if
cache
exists
isDirectory
block
throw
BuildException
if
cache
exists
block
mkdirs
determineDependencies
outOfDateClasses
Vector
for
forControl
int
i
i
length
i
block
File
srcDir
File
resolveFile
srcPathList
i
if
exists
block
DirectoryScanner
ds
getDirectoryScanner
srcDir
String
files
getIncludedFiles
scanDir
srcDir
files
deleteAllAffectedFiles
log
currentTimeMillis
start
catchClause
e
throw
BuildException
e
scanDir
srcDir
File
files
String
long
now
currentTimeMillis
for
forControl
int
i
i
length
i
block
File
srcFile
File
srcDir
files
i
if
files
i
endsWith
block
String
filePath
getPath
String
className
substring
getPath
length
length
length
className
convertSlashName
className
ClassFileInfo
info
ClassFileInfo
get
className
if
info
block
addElement
className
block
if
lastModified
lastModified
block
addElement
className
getClassFiles
Vector
classLocations
Path
String
classLocationsList
list
Vector
classFileList
Vector
for
forControl
int
i
i
length
i
block
File
dir
File
classLocationsList
i
if
isDirectory
block
addClassFiles
classFileList
dir
dir
return
classFileList
addClassFiles
classFileList
Vector
dir
File
root
File
String
filesInDir
list
if
filesInDir
block
int
length
length
for
forControl
int
i
i
length
i
block
File
file
File
dir
filesInDir
i
if
isDirectory
block
addClassFiles
classFileList
file
root
if
getName
endsWith
block
ClassFileInfo
info
ClassFileInfo
absoluteFile
file
relativeName
getPath
substring
getPath
length
getPath
length
className
convertSlashName
relativeName
addElement
info
setSrcdir
srcPath
Path
srcPath
srcPath
setDestDir
destPath
Path
destPath
destPath
setCache
cache
File
cache
cache
setClosure
closure
boolean
closure
closure
MatchingTask
