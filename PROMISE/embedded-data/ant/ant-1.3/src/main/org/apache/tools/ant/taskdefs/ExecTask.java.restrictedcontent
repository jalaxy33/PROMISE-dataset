ExecTask
String
os
File
out
File
dir
boolean
failOnError
boolean
newEnvironment
Integer
timeout
Environment
env
Environment
Commandline
cmdl
Commandline
FileOutputStream
fos
setTimeout
value
Integer
timeout
value
setExecutable
value
String
setExecutable
value
setDir
d
File
dir
d
setOs
os
String
os
os
setCommand
cmdl
Commandline
log
MSG_WARN
cmdl
cmdl
setOutput
out
File
out
out
setFailonerror
fail
boolean
failOnError
fail
setNewenvironment
newenv
boolean
newEnvironment
newenv
addEnv
var
Environment
Variable
addVariable
var
createArg
Commandline
Argument
return
createArgument
execute
checkConfiguration
if
isValidOs
block
runExec
prepareExec
checkConfiguration
if
getExecutable
block
throw
BuildException
location
if
dir
exists
block
throw
BuildException
if
dir
isDirectory
block
throw
BuildException
isValidOs
boolean
String
myos
getProperty
log
myos
MSG_VERBOSE
if
os
indexOf
myos
block
log
os
MSG_VERBOSE
return
return
prepareExec
Execute
if
dir
dir
getBaseDir
log
toString
MSG_VERBOSE
Execute
exe
Execute
createHandler
createWatchdog
setAntRun
project
setWorkingDirectory
dir
String
environment
getVariables
if
environment
block
for
forControl
int
i
i
length
i
block
log
environment
i
MSG_VERBOSE
setNewenvironment
newEnvironment
setEnvironment
environment
return
exe
runExec
exe
Execute
int
err
try
setCommandline
getCommandline
err
execute
if
err
block
if
failOnError
block
throw
BuildException
err
location
block
log
err
MSG_ERR
catchClause
e
throw
BuildException
e
e
location
logFlush
createHandler
ExecuteStreamHandler
if
out
block
try
fos
FileOutputStream
out
log
out
MSG_VERBOSE
return
PumpStreamHandler
fos
catchClause
fne
throw
BuildException
out
fne
location
catchClause
ioe
throw
BuildException
out
ioe
location
block
return
LogStreamHandler
MSG_INFO
MSG_WARN
createWatchdog
ExecuteWatchdog
if
timeout
return
return
ExecuteWatchdog
intValue
logFlush
try
if
fos
close
catchClause
io
Task
