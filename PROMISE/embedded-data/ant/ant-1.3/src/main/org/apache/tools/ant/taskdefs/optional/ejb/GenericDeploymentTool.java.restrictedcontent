GenericDeploymentTool
String
META_DIR
String
EJB_DD
EjbJar
Config
config
File
destDir
Path
classpath
String
genericJarSuffix
Task
task
ClassLoader
classpathLoader
List
addedfiles
setDestdir
inDir
File
destDir
inDir
getDestDir
File
return
destDir
setTask
task
Task
task
task
getTask
Task
return
task
getConfig
EjbJar
Config
return
config
usingBaseJarName
boolean
return
baseJarName
setGenericJarSuffix
inString
String
genericJarSuffix
inString
createClasspath
Path
if
classpath
block
classpath
Path
getProject
return
createPath
setClasspath
classpath
Path
classpath
classpath
getCombinedClasspath
Path
Path
combinedPath
classpath
if
classpath
block
if
combinedPath
block
combinedPath
classpath
block
append
classpath
return
combinedPath
log
message
String
level
int
getTask
log
message
level
configure
config
EjbJar
Config
config
config
classpathLoader
addFileToJar
jStream
JarOutputStream
inputFile
File
logicalFilename
String
FileInputStream
iStream
try
if
contains
logicalFilename
block
iStream
FileInputStream
inputFile
ZipEntry
zipEntry
ZipEntry
replace
putNextEntry
zipEntry
byte
byteBuffer
byte
int
count
do
count
block
write
byteBuffer
count
count
read
byteBuffer
length
add
logicalFilename
catchClause
ioe
String
msg
logicalFilename
getPath
getMessage
throw
BuildException
msg
ioe
if
iStream
block
try
close
catchClause
closeException
getDescriptorHandler
DescriptorHandler
srcDir
File
return
DescriptorHandler
srcDir
processDescriptor
descriptorFileName
String
saxParser
SAXParser
FileInputStream
descriptorStream
try
DescriptorHandler
handler
getDescriptorHandler
srcDir
descriptorStream
FileInputStream
File
descriptorDir
descriptorFileName
parse
InputSource
descriptorStream
handler
Hashtable
ejbFiles
getFiles
Project
project
getProject
for
forControl
Iterator
i
iterator
hasNext
block
FileSet
supportFileSet
FileSet
next
File
supportBaseDir
getDir
project
DirectoryScanner
supportScanner
getDirectoryScanner
project
scan
String
supportFiles
getIncludedFiles
for
forControl
int
j
j
length
j
block
put
supportFiles
j
File
supportBaseDir
supportFiles
j
String
baseName
if
baseJarName
block
baseName
baseJarName
block
int
lastSeparatorIndex
lastIndexOf
separator
int
endBaseName
if
lastSeparatorIndex
block
endBaseName
indexOf
baseNameTerminator
lastSeparatorIndex
block
endBaseName
indexOf
baseNameTerminator
if
endBaseName
block
baseName
substring
endBaseName
baseName
substring
endBaseName
put
META_DIR
EJB_DD
File
descriptorDir
descriptorFileName
addVendorFiles
ejbFiles
baseName
checkAndAddInherited
ejbFiles
if
flatDestDir
length
block
int
startName
lastIndexOf
separator
if
startName
block
startName
int
endName
length
baseName
substring
startName
endName
File
jarFile
getVendorOutputJarFile
baseName
boolean
needBuild
if
exists
block
long
lastBuild
lastModified
Iterator
fileIter
values
iterator
needBuild
while
needBuild
hasNext
block
File
currentFile
File
next
needBuild
lastBuild
lastModified
if
needBuild
block
log
getPath
MSG_VERBOSE
if
needBuild
block
log
getName
valueOf
size
MSG_INFO
writeJar
baseName
jarFile
ejbFiles
block
log
toString
MSG_VERBOSE
catchClause
se
String
msg
toString
getMessage
throw
BuildException
msg
se
catchClause
ioe
String
msg
toString
getMessage
throw
BuildException
msg
ioe
if
descriptorStream
block
try
close
catchClause
closeException
addVendorFiles
ejbFiles
Hashtable
baseName
String
getVendorOutputJarFile
File
baseName
String
return
File
destDir
baseName
genericJarSuffix
writeJar
baseName
String
jarfile
File
files
Hashtable
JarOutputStream
jarStream
try
addedfiles
ArrayList
if
exists
block
delete
getParentFile
mkdirs
createNewFile
String
defaultManifest
InputStream
in
getClass
getResourceAsStream
defaultManifest
if
in
block
throw
BuildException
defaultManifest
Manifest
manifest
Manifest
in
jarStream
JarOutputStream
FileOutputStream
jarfile
manifest
setMethod
DEFLATED
for
forControl
Iterator
entryIterator
keySet
iterator
hasNext
block
String
entryName
String
next
File
entryFile
File
get
entryName
log
entryName
MSG_VERBOSE
addFileToJar
jarStream
entryFile
entryName
InnerClassFilenameFilter
flt
InnerClassFilenameFilter
getName
File
entryDir
getParentFile
String
innerfiles
list
flt
for
forControl
int
i
n
length
i
n
i
block
entryName
substring
lastIndexOf
getName
separatorChar
innerfiles
i
entryFile
File
srcDir
entryName
log
entryName
MSG_VERBOSE
addFileToJar
jarStream
entryFile
entryName
catchClause
ioe
String
msg
toString
getMessage
throw
BuildException
msg
ioe
if
jarStream
block
try
close
catchClause
closeException
checkAndAddInherited
checkEntries
Hashtable
Hashtable
copiedHash
Hashtable
clone
for
forControl
Iterator
entryIterator
keySet
iterator
hasNext
block
String
entryName
String
next
File
entryFile
File
get
entryName
if
endsWith
block
String
classname
substring
replace
separatorChar
lastIndexOf
ClassLoader
loader
getClassLoaderForBuild
try
Class
c
loadClass
classname
if
isPrimitive
block
if
isInterface
block
log
getName
MSG_VERBOSE
Class
interfaces
getInterfaces
for
forControl
int
i
i
length
i
block
log
interfaces
i
getName
MSG_VERBOSE
addInterface
interfaces
i
checkEntries
block
log
getName
MSG_VERBOSE
Class
s
getSuperclass
addSuperClass
getSuperclass
checkEntries
catchClause
cnfe
log
classname
MSG_WARN
catchClause
ncdfe
log
classname
MSG_WARN
addInterface
theInterface
Class
checkEntries
Hashtable
if
getName
startsWith
block
File
interfaceFile
File
getAbsolutePath
separatorChar
getName
replace
separatorChar
if
exists
isFile
block
put
getName
replace
separatorChar
interfaceFile
Class
superInterfaces
getInterfaces
for
forControl
int
i
i
length
i
block
addInterface
superInterfaces
i
checkEntries
addSuperClass
superClass
Class
checkEntries
Hashtable
if
getName
startsWith
block
File
superClassFile
File
getAbsolutePath
separatorChar
getName
replace
separatorChar
if
exists
isFile
block
put
getName
replace
separatorChar
superClassFile
Class
superInterfaces
getInterfaces
for
forControl
int
i
i
length
i
block
addInterface
superInterfaces
i
checkEntries
addSuperClass
getSuperclass
checkEntries
getClassLoaderForBuild
ClassLoader
if
classpathLoader
block
return
classpathLoader
Path
combinedClasspath
getCombinedClasspath
if
combinedClasspath
block
classpathLoader
getClass
getClassLoader
block
classpathLoader
AntClassLoader
getTask
getProject
combinedClasspath
return
classpathLoader
validateConfigured
if
destDir
block
throw
BuildException
EJBDeploymentTool
