Symlink
FileUtils
FILE_UTILS
getFileUtils
String
resource
String
link
Vector
fileSets
Vector
String
linkFileName
boolean
overwrite
boolean
failonerror
boolean
executing
init
init
setDefaults
execute
if
executing
block
throw
BuildException
try
executing
execute
executing
single
try
if
resource
block
handleError
return
if
link
block
handleError
return
doLink
resource
link
setDefaults
delete
try
if
link
block
handleError
return
log
link
deleteSymlink
link
catchClause
fnfe
handleError
toString
catchClause
ioe
handleError
toString
setDefaults
recreate
try
if
isEmpty
block
handleError
return
Properties
links
loadLinks
fileSets
for
forControl
Iterator
kitr
keySet
iterator
hasNext
block
String
lnk
String
next
String
res
getProperty
lnk
try
File
test
File
lnk
if
isSymbolicLink
lnk
block
doLink
res
lnk
if
getCanonicalPath
equals
getCanonicalPath
File
res
block
deleteSymlink
lnk
doLink
res
lnk
catchClause
ioe
handleError
setDefaults
record
try
if
isEmpty
block
handleError
return
if
linkFileName
block
handleError
return
Hashtable
byDir
Hashtable
for
forControl
Iterator
litr
findLinks
iterator
fileSets
hasNext
block
File
thisLink
File
next
File
parent
getParentFile
Vector
v
Vector
get
parent
if
v
block
v
Vector
put
parent
v
addElement
thisLink
for
forControl
Iterator
dirs
keySet
iterator
hasNext
block
File
dir
File
next
Vector
linksInDir
Vector
get
dir
Properties
linksToStore
Properties
for
forControl
Iterator
dlnk
iterator
hasNext
block
File
lnk
File
next
try
put
getName
getCanonicalPath
catchClause
ioe
handleError
writePropertyFile
linksToStore
dir
setDefaults
setDefaults
resource
link
linkFileName
failonerror
overwrite
setAction
clear
setOverwrite
owrite
boolean
overwrite
owrite
setFailOnError
foe
boolean
failonerror
foe
setAction
action
String
setAction
action
setLink
lnk
String
link
lnk
setResource
src
String
resource
src
setLinkfilename
lf
String
linkFileName
lf
addFileset
set
FileSet
addElement
set
deleteSymlink
path
String
deleteSymlink
File
path
deleteSymlink
linkfil
File
if
exists
block
throw
FileNotFoundException
linkfil
File
canfil
getCanonicalFile
File
temp
createTempFile
getParentFile
try
try
rename
canfil
temp
catchClause
e
throw
IOException
linkfil
if
delete
block
throw
IOException
linkfil
try
rename
temp
canfil
catchClause
e
throw
IOException
temp
getAbsolutePath
writePropertyFile
properties
Properties
dir
File
BufferedOutputStream
bos
try
bos
BufferedOutputStream
FileOutputStream
File
dir
linkFileName
store
bos
dir
catchClause
ioe
throw
BuildException
ioe
getLocation
close
bos
handleError
msg
String
if
failonerror
block
throw
BuildException
msg
log
msg
doLink
res
String
lnk
String
File
linkfil
File
lnk
if
overwrite
exists
block
try
deleteSymlink
linkfil
catchClause
fnfe
handleError
lnk
catchClause
ioe
handleError
lnk
String
cmd
String
res
lnk
log
toString
cmd
runCommand
cmd
findLinks
HashSet
v
Vector
HashSet
result
HashSet
for
forControl
int
i
i
size
i
block
FileSet
fs
FileSet
get
i
DirectoryScanner
ds
getDirectoryScanner
getProject
String
fnd
String
getIncludedFiles
getIncludedDirectories
File
dir
getDir
getProject
for
forControl
int
j
j
length
j
block
for
forControl
int
k
k
fnd
j
length
k
block
try
File
f
File
dir
fnd
j
k
File
pf
getParentFile
String
name
getName
if
isSymbolicLink
pf
name
block
add
File
getCanonicalFile
name
catchClause
e
handleError
fnd
j
k
return
result
loadLinks
Properties
v
Vector
Properties
finalList
Properties
for
forControl
int
i
i
size
i
block
FileSet
fs
FileSet
elementAt
i
DirectoryScanner
ds
DirectoryScanner
setupDirectoryScanner
ds
getProject
setFollowSymlinks
scan
String
incs
getIncludedFiles
File
dir
getDir
getProject
for
forControl
int
j
j
length
j
block
File
inc
File
dir
incs
j
File
pf
getParentFile
Properties
lnks
Properties
try
load
BufferedInputStream
FileInputStream
inc
pf
getCanonicalFile
catchClause
fnfe
handleError
incs
j
continue
catchClause
ioe
handleError
incs
j
continue
list
PrintStream
LogOutputStream
MSG_INFO
for
forControl
Iterator
kitr
keySet
iterator
hasNext
block
String
key
String
next
put
getAbsolutePath
File
pf
key
getProperty
key
return
finalList
DispatchTask
