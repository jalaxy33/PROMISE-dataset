JUnitTask
String
CLASSPATH
CommandlineJava
commandline
Vector
tests
Vector
Vector
batchTests
Vector
Vector
formatters
Vector
File
dir
Integer
timeout
boolean
summary
boolean
reloading
String
summaryValue
JUnitTaskMirror
JUnitTestRunnerMirror
runner
boolean
newEnvironment
Environment
env
Environment
boolean
includeAntRuntime
Path
antRuntimeClasses
boolean
showOutput
boolean
outputToFormatters
File
tmpDir
AntClassLoader
classLoader
Permissions
perm
ForkMode
forkMode
ForkMode
boolean
splitJunit
JUnitTaskMirror
delegate
boolean
haltOnError
boolean
haltOnFail
boolean
filterTrace
boolean
fork
String
failureProperty
String
errorProperty
int
STRING_BUFFER_SIZE
String
TESTLISTENER_PREFIX
FileUtils
FILE_UTILS
getFileUtils
setReloading
value
boolean
reloading
value
setFiltertrace
value
boolean
filterTrace
value
setHaltonerror
value
boolean
haltOnError
value
setErrorProperty
propertyName
String
errorProperty
propertyName
setHaltonfailure
value
boolean
haltOnFail
value
setFailureProperty
propertyName
String
failureProperty
propertyName
setFork
value
boolean
fork
value
setForkMode
mode
ForkMode
forkMode
mode
setPrintsummary
value
SummaryAttribute
summaryValue
getValue
summary
asBoolean
SummaryAttribute
getValues
String
return
String
asBoolean
boolean
String
v
getValue
return
equals
v
equals
v
equals
v
equals
v
EnumeratedAttribute
setTimeout
value
Integer
timeout
value
setMaxmemory
max
String
getCommandline
setMaxmemory
max
setJvm
value
String
getCommandline
setVm
value
createJvmarg
Commandline
Argument
return
getCommandline
createVmArgument
setDir
dir
File
dir
dir
addSysproperty
sysp
Environment
Variable
getCommandline
addSysproperty
sysp
addConfiguredSysproperty
sysp
Environment
Variable
String
testString
getContent
getProject
log
testString
MSG_DEBUG
getCommandline
addSysproperty
sysp
addSyspropertyset
sysp
PropertySet
getCommandline
addSyspropertyset
sysp
createClasspath
Path
return
getCommandline
createClasspath
getProject
createPath
createBootclasspath
Path
return
getCommandline
createBootclasspath
getProject
createPath
addEnv
var
Environment
Variable
addVariable
var
setNewenvironment
newenv
boolean
newEnvironment
newenv
preConfigure
test
BaseTest
setFiltertrace
filterTrace
setHaltonerror
haltOnError
if
errorProperty
block
setErrorProperty
errorProperty
setHaltonfailure
haltOnFail
if
failureProperty
block
setFailureProperty
failureProperty
setFork
fork
addTest
test
JUnitTest
addElement
test
preConfigure
test
createBatchTest
BatchTest
BatchTest
test
BatchTest
getProject
addElement
test
preConfigure
test
return
test
addFormatter
fe
FormatterElement
addElement
fe
setIncludeantruntime
b
boolean
includeAntRuntime
b
setShowOutput
showOutput
boolean
showOutput
showOutput
setOutputToFormatters
outputToFormatters
boolean
outputToFormatters
outputToFormatters
addAssertions
asserts
Assertions
if
getCommandline
getAssertions
block
throw
BuildException
getCommandline
setAssertions
asserts
createPermissions
Permissions
if
perm
block
perm
Permissions
return
perm
setCloneVm
cloneVm
boolean
getCommandline
setCloneVm
cloneVm
JUnitTask
getCommandline
setClassname
setTempdir
tmpDir
File
if
tmpDir
block
if
exists
isDirectory
block
throw
BuildException
toString
tmpDir
tmpDir
init
antRuntimeClasses
Path
getProject
splitJunit
addClasspathEntry
addClasspathEntry
addClasspathEntry
addClasspathEntry
createMirror
JUnitTaskMirror
task
JUnitTask
loader
ClassLoader
try
loadClass
catchClause
e
throw
BuildException
e
getLocation
try
Class
c
loadClass
getName
JUnitTaskMirror
if
getClassLoader
loader
block
throw
BuildException
getLocation
Constructor
cons
getConstructor
Class
JUnitTask
return
JUnitTaskMirror
newInstance
Object
task
catchClause
e
throw
BuildException
e
getLocation
SplitLoader
SplitLoader
parent
ClassLoader
path
Path
parent
getProject
path
loadClass
Class
classname
String
resolve
boolean
Class
theClass
findLoadedClass
classname
if
theClass
block
return
theClass
if
isSplit
classname
block
theClass
findClass
classname
if
resolve
block
resolveClass
theClass
return
theClass
block
return
loadClass
classname
resolve
String
splitClasses
isSplit
boolean
classname
String
String
simplename
substring
lastIndexOf
for
forControl
int
i
i
length
i
block
if
equals
splitClasses
i
startsWith
splitClasses
i
block
return
return
AntClassLoader
execute
ClassLoader
myLoader
getClassLoader
JUnitTask
ClassLoader
mirrorLoader
if
splitJunit
block
Path
path
Path
getProject
add
antRuntimeClasses
add
getCommandline
getClasspath
mirrorLoader
SplitLoader
myLoader
path
block
mirrorLoader
myLoader
delegate
createMirror
mirrorLoader
List
testLists
ArrayList
boolean
forkPerTest
getValue
equals
PER_TEST
if
forkPerTest
getValue
equals
ONCE
block
addAll
executeOrQueue
getIndividualTests
forkPerTest
block
int
count
size
for
forControl
int
i
i
count
i
block
BatchTest
batchtest
BatchTest
elementAt
i
addAll
executeOrQueue
elements
addAll
executeOrQueue
elements
forkPerTest
try
Iterator
iter
iterator
while
hasNext
block
List
l
List
next
if
size
block
execute
JUnitTest
get
block
execute
l
deleteClassLoader
if
mirrorLoader
SplitLoader
block
SplitLoader
mirrorLoader
delegate
execute
arg
JUnitTest
JUnitTest
test
JUnitTest
clone
if
getTodir
block
setTodir
getProject
resolveFile
if
getOutfile
block
setOutfile
getName
TestResultHolder
result
if
getFork
block
result
executeInVM
test
block
ExecuteWatchdog
watchdog
createWatchdog
result
executeAsForked
test
watchdog
actOnTestResult
result
test
getName
execute
tests
List
JUnitTest
test
File
casesFile
createTempPropertiesFile
PrintWriter
writer
try
writer
PrintWriter
BufferedWriter
FileWriter
casesFile
Iterator
iter
iterator
while
hasNext
block
test
JUnitTest
next
print
getName
if
getTodir
block
print
getProject
resolveFile
block
print
getTodir
if
getOutfile
block
println
getName
block
println
getOutfile
flush
close
writer
ExecuteWatchdog
watchdog
createWatchdog
TestResultHolder
result
executeAsForked
test
watchdog
casesFile
actOnTestResult
result
test
catchClause
e
log
toString
MSG_ERR
throw
BuildException
e
if
writer
block
close
try
delete
catchClause
e
log
toString
MSG_ERR
executeAsForked
TestResultHolder
test
JUnitTest
watchdog
ExecuteWatchdog
casesFile
File
if
perm
block
log
MSG_WARN
CommandlineJava
cmd
try
cmd
CommandlineJava
getCommandline
catchClause
e
throw
BuildException
e
getLocation
setClassname
if
casesFile
block
createArgument
setValue
getName
block
log
MSG_VERBOSE
createArgument
setValue
TESTSFILE
casesFile
createArgument
setValue
FILTERTRACE
getFiltertrace
createArgument
setValue
HALT_ON_ERROR
getHaltonerror
createArgument
setValue
HALT_ON_FAILURE
getHaltonfailure
if
includeAntRuntime
block
Vector
v
getProcEnvironment
Enumeration
e
elements
while
hasMoreElements
block
String
s
String
nextElement
if
startsWith
CLASSPATH
block
createClasspath
createPath
append
Path
getProject
substring
length
getProject
log
antRuntimeClasses
MSG_VERBOSE
createClasspath
createPath
append
antRuntimeClasses
getProject
if
summary
block
String
prefix
if
equalsIgnoreCase
summaryValue
block
prefix
createArgument
setValue
FORMATTER
prefix
createArgument
setValue
SHOWOUTPUT
valueOf
showOutput
createArgument
setValue
OUTPUT_TO_FORMATTERS
valueOf
outputToFormatters
createArgument
setValue
LOGTESTLISTENEREVENTS
StringBuffer
formatterArg
StringBuffer
STRING_BUFFER_SIZE
FormatterElement
feArray
mergeFormatters
test
for
forControl
int
i
i
length
i
block
FormatterElement
fe
feArray
i
if
shouldUse
block
append
FORMATTER
append
getClassname
File
outFile
getOutput
fe
test
if
outFile
block
append
append
outFile
createArgument
setValue
toString
formatterArg
StringBuffer
File
vmWatcher
createTempPropertiesFile
createArgument
setValue
CRASHFILE
getAbsolutePath
File
propsFile
createTempPropertiesFile
createArgument
setValue
PROPSFILE
getAbsolutePath
Hashtable
p
getProject
getProperties
Properties
props
Properties
for
forControl
Enumeration
e
keys
hasMoreElements
block
Object
key
nextElement
put
key
get
key
try
FileOutputStream
outstream
FileOutputStream
propsFile
store
outstream
close
catchClause
e
delete
throw
BuildException
e
getLocation
Execute
execute
Execute
JUnitLogStreamHandler
MSG_INFO
MSG_WARN
watchdog
setCommandline
getCommandline
setAntRun
getProject
if
dir
block
setWorkingDirectory
dir
String
environment
getVariables
if
environment
block
for
forControl
int
i
i
length
i
block
log
environment
i
MSG_VERBOSE
setNewenvironment
newEnvironment
setEnvironment
environment
log
describeCommand
MSG_VERBOSE
TestResultHolder
result
TestResultHolder
try
exitCode
execute
catchClause
e
throw
BuildException
e
getLocation
String
vmCrashString
BufferedReader
br
try
br
BufferedReader
FileReader
vmWatcher
vmCrashString
readLine
catchClause
e
printStackTrace
close
br
if
watchdog
killedProcess
block
timedOut
logTimeout
feArray
test
vmCrashString
if
equals
vmCrashString
block
crashed
logVmCrash
feArray
test
vmCrashString
delete
if
delete
block
throw
BuildException
return
result
createTempPropertiesFile
File
prefix
String
File
propsFile
createTempFile
prefix
tmpDir
tmpDir
getProject
getBaseDir
return
propsFile
handleOutput
output
String
if
startsWith
TESTLISTENER_PREFIX
block
log
output
MSG_VERBOSE
if
runner
block
if
outputToFormatters
block
handleOutput
output
if
showOutput
block
handleOutput
output
block
handleOutput
output
handleInput
int
buffer
byte
offset
int
length
int
if
runner
block
return
handleInput
buffer
offset
length
block
return
handleInput
buffer
offset
length
handleFlush
output
String
if
runner
block
handleFlush
output
if
showOutput
block
handleFlush
output
block
handleFlush
output
handleErrorOutput
output
String
if
runner
block
handleErrorOutput
output
if
showOutput
block
handleErrorOutput
output
block
handleErrorOutput
output
handleErrorFlush
output
String
if
runner
block
handleErrorFlush
output
if
showOutput
block
handleErrorFlush
output
block
handleErrorFlush
output
executeInVM
TestResultHolder
arg
JUnitTest
JUnitTest
test
JUnitTest
clone
setProperties
getProject
getProperties
if
dir
block
log
MSG_WARN
if
newEnvironment
getVariables
block
log
MSG_WARN
if
getCommandline
getBootclasspath
block
log
MSG_WARN
CommandlineJava
SysProperties
sysProperties
getCommandline
getSystemProperties
if
sysProperties
block
setSystem
try
log
getProperties
MSG_VERBOSE
if
splitJunit
block
classLoader
AntClassLoader
getClass
getClassLoader
block
createClassLoader
if
classLoader
block
setThreadContextLoader
runner
newJUnitTestRunner
test
getHaltonerror
getFiltertrace
getHaltonfailure
classLoader
if
summary
block
JUnitTaskMirror
SummaryJUnitResultFormatterMirror
f
newSummaryJUnitResultFormatter
setWithOutAndErr
equalsIgnoreCase
summaryValue
setOutput
getDefaultOutput
addFormatter
f
setPermissions
perm
FormatterElement
feArray
mergeFormatters
test
for
forControl
int
i
i
length
i
block
FormatterElement
fe
feArray
i
if
shouldUse
block
File
outFile
getOutput
fe
test
if
outFile
block
setOutfile
outFile
block
setOutput
getDefaultOutput
addFormatter
createFormatter
classLoader
run
TestResultHolder
result
TestResultHolder
exitCode
getRetCode
return
result
if
sysProperties
block
restoreSystem
if
classLoader
block
resetThreadContextLoader
createWatchdog
ExecuteWatchdog
if
timeout
block
return
return
ExecuteWatchdog
long
intValue
getDefaultOutput
OutputStream
return
LogOutputStream
MSG_INFO
getIndividualTests
Enumeration
int
count
size
Enumeration
enums
Enumeration
count
for
forControl
int
i
i
count
i
block
BatchTest
batchtest
BatchTest
elementAt
i
enums
i
elements
enums
length
elements
return
fromCompound
enums
allTests
Enumeration
Enumeration
enums
elements
elements
return
fromCompound
enums
mergeFormatters
FormatterElement
test
JUnitTest
Vector
feVector
Vector
clone
addFormattersTo
feVector
FormatterElement
feArray
FormatterElement
size
copyInto
feArray
return
feArray
getOutput
File
fe
FormatterElement
test
JUnitTest
if
getUseFile
block
String
base
getOutfile
if
base
block
base
IGNORED_FILE_NAME
String
filename
base
getExtension
File
destFile
File
getTodir
filename
String
absFilename
getAbsolutePath
return
getProject
resolveFile
absFilename
return
addClasspathEntry
boolean
resource
String
if
startsWith
block
resource
substring
block
resource
resource
File
f
getResourceSource
getClass
getClassLoader
resource
if
f
block
log
getAbsolutePath
MSG_DEBUG
createPath
setLocation
f
return
block
log
resource
MSG_DEBUG
return
logTimeout
feArray
FormatterElement
test
JUnitTest
testCase
String
logVmExit
feArray
test
testCase
logVmCrash
feArray
FormatterElement
test
JUnitTest
testCase
String
logVmExit
feArray
test
testCase
logVmExit
feArray
FormatterElement
test
JUnitTest
message
String
testCase
String
try
log
getProperties
MSG_VERBOSE
if
splitJunit
block
classLoader
AntClassLoader
getClass
getClassLoader
block
createClassLoader
if
classLoader
block
setThreadContextLoader
setCounts
setProperties
getProject
getProperties
for
forControl
int
i
i
length
i
block
FormatterElement
fe
feArray
i
File
outFile
getOutput
fe
test
JUnitTaskMirror
JUnitResultFormatterMirror
formatter
createFormatter
classLoader
if
outFile
formatter
block
try
OutputStream
out
FileOutputStream
outFile
addVmExit
test
formatter
out
message
testCase
catchClause
e
if
summary
block
JUnitTaskMirror
SummaryJUnitResultFormatterMirror
f
newSummaryJUnitResultFormatter
setWithOutAndErr
equalsIgnoreCase
summaryValue
addVmExit
test
f
getDefaultOutput
message
testCase
if
classLoader
block
resetThreadContextLoader
createClassLoader
Path
userClasspath
getCommandline
getClasspath
if
userClasspath
block
if
reloading
classLoader
block
deleteClassLoader
Path
classpath
Path
clone
if
includeAntRuntime
block
log
antRuntimeClasses
MSG_VERBOSE
append
antRuntimeClasses
classLoader
getProject
createClassLoader
classpath
if
getClass
getClassLoader
getClass
getClassLoader
getClassLoader
Project
block
setParent
getClass
getClassLoader
setParentFirst
addJavaLibraries
log
getClasspath
MSG_VERBOSE
addSystemPackageRoot
addSystemPackageRoot
addSystemPackageRoot
deleteClassLoader
if
classLoader
block
cleanup
classLoader
getCommandline
CommandlineJava
if
commandline
block
commandline
CommandlineJava
return
commandline
ForkedTestConfiguration
boolean
filterTrace
boolean
haltOnError
boolean
haltOnFailure
String
errorProperty
String
failureProperty
ForkedTestConfiguration
filterTrace
boolean
haltOnError
boolean
haltOnFailure
boolean
errorProperty
String
failureProperty
String
filterTrace
filterTrace
haltOnError
haltOnError
haltOnFailure
haltOnFailure
errorProperty
errorProperty
failureProperty
failureProperty
ForkedTestConfiguration
test
JUnitTest
getFiltertrace
getHaltonerror
getHaltonfailure
getErrorProperty
getFailureProperty
equals
boolean
other
Object
if
other
getClass
ForkedTestConfiguration
block
return
ForkedTestConfiguration
o
ForkedTestConfiguration
other
return
filterTrace
filterTrace
haltOnError
haltOnError
haltOnFailure
haltOnFailure
errorProperty
errorProperty
errorProperty
equals
errorProperty
failureProperty
failureProperty
failureProperty
equals
failureProperty
hashCode
int
return
filterTrace
haltOnError
haltOnFailure
ForkMode
String
ONCE
String
PER_TEST
String
PER_BATCH
ForkMode
ForkMode
value
String
setValue
value
getValues
String
return
String
ONCE
PER_TEST
PER_BATCH
EnumeratedAttribute
executeOrQueue
Collection
testList
Enumeration
runIndividual
boolean
Map
testConfigurations
HashMap
while
hasMoreElements
block
JUnitTest
test
JUnitTest
nextElement
if
shouldRun
getProject
block
if
runIndividual
getFork
block
execute
test
block
ForkedTestConfiguration
c
ForkedTestConfiguration
test
List
l
List
get
c
if
l
block
l
ArrayList
put
c
l
add
test
return
values
actOnTestResult
exitValue
int
wasKilled
boolean
test
JUnitTest
name
String
TestResultHolder
t
TestResultHolder
exitCode
exitValue
timedOut
wasKilled
actOnTestResult
t
test
name
actOnTestResult
result
TestResultHolder
test
JUnitTest
name
String
boolean
fatal
timedOut
crashed
boolean
errorOccurredHere
exitCode
ERRORS
fatal
boolean
failureOccurredHere
exitCode
SUCCESS
fatal
if
errorOccurredHere
failureOccurredHere
block
if
errorOccurredHere
getHaltonerror
failureOccurredHere
getHaltonfailure
block
throw
BuildException
name
timedOut
crashed
getLocation
block
log
name
timedOut
crashed
MSG_ERR
if
errorOccurredHere
getErrorProperty
block
getProject
setNewProperty
getErrorProperty
if
failureOccurredHere
getFailureProperty
block
getProject
setNewProperty
getFailureProperty
TestResultHolder
int
exitCode
ERRORS
boolean
timedOut
boolean
crashed
JUnitLogOutputStream
Task
task
JUnitLogOutputStream
task
Task
level
int
task
level
task
task
processLine
line
String
level
int
if
startsWith
TESTLISTENER_PREFIX
block
log
line
MSG_VERBOSE
block
processLine
line
level
LogOutputStream
JUnitLogStreamHandler
JUnitLogStreamHandler
task
Task
outlevel
int
errlevel
int
JUnitLogOutputStream
task
outlevel
LogOutputStream
task
errlevel
PumpStreamHandler
Task
