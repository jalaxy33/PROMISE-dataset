CBZip2OutputStream
int
MIN_BLOCKSIZE
int
MAX_BLOCKSIZE
int
SETMASK
int
CLEARMASK
SETMASK
int
GREATER_ICOST
int
LESSER_ICOST
int
SMALL_THRESH
int
DEPTH_THRESH
int
WORK_FACTOR
int
QSORT_STACK_SIZE
int
INCS
hbMakeCodeLengths
len
char
freq
int
alphaSize
int
maxLen
int
int
heap
int
MAX_ALPHA_SIZE
int
weight
int
MAX_ALPHA_SIZE
int
parent
int
MAX_ALPHA_SIZE
for
forControl
int
i
alphaSize
i
block
weight
i
freq
i
freq
i
for
forControl
boolean
tooLong
tooLong
block
tooLong
int
nNodes
alphaSize
int
nHeap
heap
weight
parent
for
forControl
int
i
i
alphaSize
i
block
parent
i
nHeap
heap
nHeap
i
int
zz
nHeap
int
tmp
heap
zz
while
weight
tmp
weight
heap
zz
block
heap
zz
heap
zz
zz
heap
zz
tmp
while
nHeap
block
int
n1
heap
heap
heap
nHeap
nHeap
int
yy
int
zz
int
tmp
heap
while
block
yy
zz
if
yy
nHeap
block
break
if
yy
nHeap
weight
heap
yy
weight
heap
yy
block
yy
if
weight
tmp
weight
heap
yy
block
break
heap
zz
heap
yy
zz
yy
heap
zz
tmp
int
n2
heap
heap
heap
nHeap
nHeap
yy
zz
tmp
heap
while
block
yy
zz
if
yy
nHeap
block
break
if
yy
nHeap
weight
heap
yy
weight
heap
yy
block
yy
if
weight
tmp
weight
heap
yy
block
break
heap
zz
heap
yy
zz
yy
heap
zz
tmp
nNodes
parent
n1
parent
n2
nNodes
int
weight_n1
weight
n1
int
weight_n2
weight
n2
weight
nNodes
weight_n1
weight_n2
weight_n1
weight_n2
weight_n1
weight_n2
parent
nNodes
nHeap
heap
nHeap
nNodes
tmp
zz
nHeap
tmp
heap
zz
int
weight_tmp
weight
tmp
while
weight_tmp
weight
heap
zz
block
heap
zz
heap
zz
zz
heap
zz
tmp
for
forControl
int
i
i
alphaSize
i
block
int
j
int
k
i
for
forControl
int
parent_k
parent_k
parent
k
block
k
parent_k
j
len
i
char
j
if
j
maxLen
block
tooLong
if
tooLong
block
for
forControl
int
i
i
alphaSize
i
block
int
j
weight
i
j
j
weight
i
j
hbMakeCodeLengths
len
byte
freq
int
dat
Data
alphaSize
int
maxLen
int
int
heap
heap
int
weight
weight
int
parent
parent
for
forControl
int
i
alphaSize
i
block
weight
i
freq
i
freq
i
for
forControl
boolean
tooLong
tooLong
block
tooLong
int
nNodes
alphaSize
int
nHeap
heap
weight
parent
for
forControl
int
i
i
alphaSize
i
block
parent
i
nHeap
heap
nHeap
i
int
zz
nHeap
int
tmp
heap
zz
while
weight
tmp
weight
heap
zz
block
heap
zz
heap
zz
zz
heap
zz
tmp
while
nHeap
block
int
n1
heap
heap
heap
nHeap
nHeap
int
yy
int
zz
int
tmp
heap
while
block
yy
zz
if
yy
nHeap
block
break
if
yy
nHeap
weight
heap
yy
weight
heap
yy
block
yy
if
weight
tmp
weight
heap
yy
block
break
heap
zz
heap
yy
zz
yy
heap
zz
tmp
int
n2
heap
heap
heap
nHeap
nHeap
yy
zz
tmp
heap
while
block
yy
zz
if
yy
nHeap
block
break
if
yy
nHeap
weight
heap
yy
weight
heap
yy
block
yy
if
weight
tmp
weight
heap
yy
block
break
heap
zz
heap
yy
zz
yy
heap
zz
tmp
nNodes
parent
n1
parent
n2
nNodes
int
weight_n1
weight
n1
int
weight_n2
weight
n2
weight
nNodes
weight_n1
weight_n2
weight_n1
weight_n2
weight_n1
weight_n2
parent
nNodes
nHeap
heap
nHeap
nNodes
tmp
zz
nHeap
tmp
heap
zz
int
weight_tmp
weight
tmp
while
weight_tmp
weight
heap
zz
block
heap
zz
heap
zz
zz
heap
zz
tmp
for
forControl
int
i
i
alphaSize
i
block
int
j
int
k
i
for
forControl
int
parent_k
parent_k
parent
k
block
k
parent_k
j
len
i
byte
j
if
j
maxLen
block
tooLong
if
tooLong
block
for
forControl
int
i
i
alphaSize
i
block
int
j
weight
i
j
j
weight
i
j
int
last
int
origPtr
int
blockSize100k
boolean
blockRandomised
int
bsBuff
int
bsLive
CRC
crc
CRC
int
nInUse
int
nMTF
int
workDone
int
workLimit
boolean
firstAttempt
int
currentChar
int
runLength
int
blockCRC
int
combinedCRC
int
allowableBlockSize
CBZip2OutputStream
Data
data
OutputStream
out
chooseBlockSize
int
inputLength
long
return
inputLength
int
min
inputLength
MAX_BLOCKSIZE
CBZip2OutputStream
out
OutputStream
out
MAX_BLOCKSIZE
CBZip2OutputStream
out
OutputStream
blockSize
int
if
blockSize
block
throw
IllegalArgumentException
blockSize
if
blockSize
block
throw
IllegalArgumentException
blockSize
blockSize100k
blockSize
out
out
init
write
b
int
if
out
block
write0
b
block
throw
IOException
writeRun
int
lastShadow
last
if
lastShadow
allowableBlockSize
block
int
currentCharShadow
currentChar
Data
dataShadow
data
inUse
currentCharShadow
byte
ch
byte
currentCharShadow
int
runLengthShadow
runLength
crc
updateCRC
currentCharShadow
runLengthShadow
switch
runLengthShadow
case
block
lastShadow
ch
last
lastShadow
break
case
block
lastShadow
ch
block
lastShadow
ch
last
lastShadow
break
case
block
byte
block
block
block
lastShadow
ch
block
lastShadow
ch
block
lastShadow
ch
last
lastShadow
break
case
block
runLengthShadow
inUse
runLengthShadow
byte
block
block
block
lastShadow
ch
block
lastShadow
ch
block
lastShadow
ch
block
lastShadow
ch
block
lastShadow
byte
runLengthShadow
last
lastShadow
break
block
endBlock
initBlock
writeRun
finalize
close
finalize
close
OutputStream
outShadow
out
if
outShadow
block
try
if
runLength
block
writeRun
currentChar
endBlock
endCompression
close
out
data
flush
OutputStream
outShadow
out
if
outShadow
block
flush
init
data
Data
blockSize100k
bsPutUByte
bsPutUByte
blockSize100k
combinedCRC
initBlock
initBlock
crc
initialiseCRC
last
boolean
inUse
data
inUse
for
forControl
int
i
i
block
inUse
i
allowableBlockSize
blockSize100k
baseBlockSize
endBlock
blockCRC
crc
getFinalCRC
combinedCRC
combinedCRC
combinedCRC
combinedCRC
blockCRC
if
last
block
return
blockSort
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutInt
blockCRC
if
blockRandomised
block
bsW
block
bsW
moveToFrontCodeAndSend
endCompression
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutUByte
bsPutInt
combinedCRC
bsFinishedWithStream
getBlockSize
int
return
blockSize100k
write
buf
byte
offs
int
len
int
if
offs
block
throw
IndexOutOfBoundsException
offs
if
len
block
throw
IndexOutOfBoundsException
len
if
offs
len
length
block
throw
IndexOutOfBoundsException
offs
len
length
if
out
block
throw
IOException
for
forControl
int
hi
offs
len
offs
hi
block
write0
buf
offs
write0
b
int
if
currentChar
block
b
if
currentChar
b
block
if
runLength
block
writeRun
currentChar
runLength
block
writeRun
runLength
currentChar
b
block
currentChar
b
runLength
hbAssignCodes
code
int
length
byte
minLen
int
maxLen
int
alphaSize
int
int
vec
for
forControl
int
n
minLen
n
maxLen
n
block
for
forControl
int
i
i
alphaSize
i
block
if
length
i
n
block
code
i
vec
vec
vec
bsFinishedWithStream
while
bsLive
block
int
ch
bsBuff
out
write
ch
bsBuff
bsLive
bsW
n
int
v
int
OutputStream
outShadow
out
int
bsLiveShadow
bsLive
int
bsBuffShadow
bsBuff
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsBuff
bsBuffShadow
v
bsLiveShadow
n
bsLive
bsLiveShadow
n
bsPutUByte
c
int
bsW
c
bsPutInt
u
int
bsW
u
bsW
u
bsW
u
bsW
u
sendMTFValues
byte
len
data
sendMTFValues_len
int
alphaSize
nInUse
for
forControl
int
t
N_GROUPS
t
block
byte
len_t
len
t
for
forControl
int
v
alphaSize
v
block
len_t
v
GREATER_ICOST
int
nGroups
nMTF
nMTF
nMTF
nMTF
sendMTFValues0
nGroups
alphaSize
int
nSelectors
sendMTFValues1
nGroups
alphaSize
sendMTFValues2
nGroups
nSelectors
sendMTFValues3
nGroups
alphaSize
sendMTFValues4
sendMTFValues5
nGroups
nSelectors
sendMTFValues6
nGroups
alphaSize
sendMTFValues7
nSelectors
sendMTFValues0
nGroups
int
alphaSize
int
byte
len
data
sendMTFValues_len
int
mtfFreq
data
mtfFreq
int
remF
nMTF
int
gs
for
forControl
int
nPart
nGroups
nPart
nPart
block
int
tFreq
remF
nPart
int
ge
gs
int
aFreq
for
forControl
int
a
alphaSize
aFreq
tFreq
ge
a
block
aFreq
mtfFreq
ge
if
ge
gs
nPart
nGroups
nPart
nGroups
nPart
block
aFreq
mtfFreq
ge
byte
len_np
len
nPart
for
forControl
int
v
alphaSize
v
block
if
v
gs
v
ge
block
len_np
v
LESSER_ICOST
block
len_np
v
GREATER_ICOST
gs
ge
remF
aFreq
sendMTFValues1
int
nGroups
int
alphaSize
int
Data
dataShadow
data
int
rfreq
sendMTFValues_rfreq
int
fave
sendMTFValues_fave
short
cost
sendMTFValues_cost
char
sfmap
sfmap
byte
selector
selector
byte
len
sendMTFValues_len
byte
len_0
len
byte
len_1
len
byte
len_2
len
byte
len_3
len
byte
len_4
len
byte
len_5
len
int
nMTFShadow
nMTF
int
nSelectors
for
forControl
int
iter
iter
N_ITERS
iter
block
for
forControl
int
t
nGroups
t
block
fave
t
int
rfreqt
rfreq
t
for
forControl
int
i
alphaSize
i
block
rfreqt
i
nSelectors
for
forControl
int
gs
gs
nMTF
block
int
ge
min
gs
G_SIZE
nMTFShadow
if
nGroups
N_GROUPS
block
short
cost0
short
cost1
short
cost2
short
cost3
short
cost4
short
cost5
for
forControl
int
i
gs
i
ge
i
block
int
icv
sfmap
i
cost0
len_0
icv
cost1
len_1
icv
cost2
len_2
icv
cost3
len_3
icv
cost4
len_4
icv
cost5
len_5
icv
cost
cost0
cost
cost1
cost
cost2
cost
cost3
cost
cost4
cost
cost5
block
for
forControl
int
t
nGroups
t
block
cost
t
for
forControl
int
i
gs
i
ge
i
block
int
icv
sfmap
i
for
forControl
int
t
nGroups
t
block
cost
t
len
t
icv
int
bt
for
forControl
int
t
nGroups
bc
t
block
int
cost_t
cost
t
if
cost_t
bc
block
bc
cost_t
bt
t
fave
bt
selector
nSelectors
byte
bt
nSelectors
int
rfreq_bt
rfreq
bt
for
forControl
int
i
gs
i
ge
i
block
rfreq_bt
sfmap
i
gs
ge
for
forControl
int
t
t
nGroups
t
block
hbMakeCodeLengths
len
t
rfreq
t
data
alphaSize
return
nSelectors
sendMTFValues2
nGroups
int
nSelectors
int
Data
dataShadow
data
byte
pos
sendMTFValues2_pos
for
forControl
int
i
nGroups
i
block
pos
i
byte
i
for
forControl
int
i
i
nSelectors
i
block
byte
ll_i
selector
i
byte
tmp
pos
int
j
while
ll_i
tmp
block
j
byte
tmp2
tmp
tmp
pos
j
pos
j
tmp2
pos
tmp
selectorMtf
i
byte
j
sendMTFValues3
nGroups
int
alphaSize
int
int
code
data
sendMTFValues_code
byte
len
data
sendMTFValues_len
for
forControl
int
t
t
nGroups
t
block
int
minLen
int
maxLen
byte
len_t
len
t
for
forControl
int
i
alphaSize
i
block
int
l
len_t
i
if
l
maxLen
block
maxLen
l
if
l
minLen
block
minLen
l
hbAssignCodes
code
t
len
t
minLen
maxLen
alphaSize
sendMTFValues4
boolean
inUse
data
inUse
boolean
inUse16
data
sentMTFValues4_inUse16
for
forControl
int
i
i
block
inUse16
i
int
i16
i
for
forControl
int
j
j
block
if
inUse
i16
j
block
inUse16
i
for
forControl
int
i
i
i
block
bsW
inUse16
i
OutputStream
outShadow
out
int
bsLiveShadow
bsLive
int
bsBuffShadow
bsBuff
for
forControl
int
i
i
i
block
if
inUse16
i
block
int
i16
i
for
forControl
int
j
j
j
block
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
if
inUse
i16
j
block
bsBuffShadow
bsLiveShadow
bsLiveShadow
bsBuff
bsBuffShadow
bsLive
bsLiveShadow
sendMTFValues5
nGroups
int
nSelectors
int
bsW
nGroups
bsW
nSelectors
OutputStream
outShadow
out
byte
selectorMtf
data
selectorMtf
int
bsLiveShadow
bsLive
int
bsBuffShadow
bsBuff
for
forControl
int
i
i
nSelectors
i
block
for
forControl
int
j
hj
selectorMtf
i
j
hj
j
block
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsBuffShadow
bsLiveShadow
bsLiveShadow
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsLiveShadow
bsBuff
bsBuffShadow
bsLive
bsLiveShadow
sendMTFValues6
nGroups
int
alphaSize
int
byte
len
data
sendMTFValues_len
OutputStream
outShadow
out
int
bsLiveShadow
bsLive
int
bsBuffShadow
bsBuff
for
forControl
int
t
t
nGroups
t
block
byte
len_t
len
t
int
curr
len_t
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsBuffShadow
curr
bsLiveShadow
bsLiveShadow
for
forControl
int
i
i
alphaSize
i
block
int
lti
len_t
i
while
curr
lti
block
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsBuffShadow
bsLiveShadow
bsLiveShadow
curr
while
curr
lti
block
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsBuffShadow
bsLiveShadow
bsLiveShadow
curr
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
bsLiveShadow
bsBuff
bsBuffShadow
bsLive
bsLiveShadow
sendMTFValues7
nSelectors
int
Data
dataShadow
data
byte
len
sendMTFValues_len
int
code
sendMTFValues_code
OutputStream
outShadow
out
byte
selector
selector
char
sfmap
sfmap
int
nMTFShadow
nMTF
int
selCtr
int
bsLiveShadow
bsLive
int
bsBuffShadow
bsBuff
for
forControl
int
gs
gs
nMTFShadow
block
int
ge
min
gs
G_SIZE
nMTFShadow
int
selector_selCtr
selector
selCtr
int
code_selCtr
code
selector_selCtr
byte
len_selCtr
len
selector_selCtr
while
gs
ge
block
int
sfmap_i
sfmap
gs
while
bsLiveShadow
block
write
bsBuffShadow
bsBuffShadow
bsLiveShadow
int
n
len_selCtr
sfmap_i
bsBuffShadow
code_selCtr
sfmap_i
bsLiveShadow
n
bsLiveShadow
n
gs
gs
ge
selCtr
bsBuff
bsBuffShadow
bsLive
bsLiveShadow
moveToFrontCodeAndSend
bsW
origPtr
generateMTFValues
sendMTFValues
mainSimpleSort
boolean
dataShadow
Data
lo
int
hi
int
d
int
int
bigN
hi
lo
if
bigN
block
return
firstAttempt
workDone
workLimit
int
hp
while
INCS
hp
bigN
block
hp
int
fmap
fmap
char
quadrant
quadrant
byte
block
block
int
lastShadow
last
int
lastPlus1
lastShadow
boolean
firstAttemptShadow
firstAttempt
int
workLimitShadow
workLimit
int
workDoneShadow
workDone
while
hp
block
int
h
INCS
hp
int
mj
lo
h
for
forControl
int
i
lo
h
i
hi
block
for
forControl
int
k
i
hi
k
i
block
int
v
fmap
i
int
vd
v
d
int
j
i
boolean
onceRunned
int
a
while
block
if
onceRunned
block
fmap
j
a
if
j
h
mj
block
break
block
onceRunned
a
fmap
j
h
int
i1
a
d
int
i2
vd
if
block
i1
block
i2
block
if
block
i1
block
i2
block
if
block
i1
block
i2
block
if
block
i1
block
i2
block
if
block
i1
block
i2
block
if
block
i1
block
i2
block
int
x
lastShadow
while
x
block
x
if
block
i1
block
i2
block
if
quadrant
i1
quadrant
i2
block
if
block
i1
block
i2
block
if
quadrant
i1
quadrant
i2
block
if
block
i1
block
i2
block
if
quadrant
i1
quadrant
i2
block
if
block
i1
block
i2
block
if
quadrant
i1
quadrant
i2
block
if
i1
lastPlus1
block
i1
lastPlus1
if
i2
lastPlus1
block
i2
lastPlus1
workDoneShadow
continue
if
quadrant
i1
quadrant
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
quadrant
i1
quadrant
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
quadrant
i1
quadrant
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
quadrant
i1
quadrant
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
break
block
if
block
i1
block
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
if
block
i1
block
i2
block
continue
block
break
fmap
j
v
if
firstAttemptShadow
i
hi
workDoneShadow
workLimitShadow
block
break
workDone
workDoneShadow
return
firstAttemptShadow
workDoneShadow
workLimitShadow
vswap
fmap
int
p1
int
p2
int
n
int
n
p1
while
p1
n
block
int
t
fmap
p1
fmap
p1
fmap
p2
fmap
p2
t
med3
byte
a
byte
b
byte
c
byte
return
a
b
b
c
b
a
c
c
a
b
c
b
a
c
c
a
blockSort
workLimit
WORK_FACTOR
last
workDone
blockRandomised
firstAttempt
mainSort
if
firstAttempt
workDone
workLimit
block
randomiseBlock
workLimit
workDone
firstAttempt
mainSort
int
fmap
data
fmap
origPtr
for
forControl
int
i
lastShadow
last
i
lastShadow
i
block
if
fmap
i
block
origPtr
i
break
mainQSort3
dataShadow
Data
loSt
int
hiSt
int
dSt
int
int
stack_ll
stack_ll
int
stack_hh
stack_hh
int
stack_dd
stack_dd
int
fmap
fmap
byte
block
block
stack_ll
loSt
stack_hh
hiSt
stack_dd
dSt
for
forControl
int
sp
sp
block
int
lo
stack_ll
sp
int
hi
stack_hh
sp
int
d
stack_dd
sp
if
hi
lo
SMALL_THRESH
d
DEPTH_THRESH
block
if
mainSimpleSort
dataShadow
lo
hi
d
block
return
block
int
d1
d
int
med
med3
block
fmap
lo
d1
block
fmap
hi
d1
block
fmap
lo
hi
d1
int
unLo
lo
int
unHi
hi
int
ltLo
lo
int
gtHi
hi
while
block
while
unLo
unHi
block
int
n
int
block
fmap
unLo
d1
med
if
n
block
int
temp
fmap
unLo
fmap
unLo
fmap
ltLo
fmap
ltLo
temp
if
n
block
unLo
block
break
while
unLo
unHi
block
int
n
int
block
fmap
unHi
d1
med
if
n
block
int
temp
fmap
unHi
fmap
unHi
fmap
gtHi
fmap
gtHi
temp
if
n
block
unHi
block
break
if
unLo
unHi
block
int
temp
fmap
unLo
fmap
unLo
fmap
unHi
fmap
unHi
temp
block
break
if
gtHi
ltLo
block
stack_ll
sp
lo
stack_hh
sp
hi
stack_dd
sp
d1
sp
block
int
n
ltLo
lo
unLo
ltLo
ltLo
lo
unLo
ltLo
vswap
fmap
lo
unLo
n
n
int
m
hi
gtHi
gtHi
unHi
hi
gtHi
gtHi
unHi
vswap
fmap
unLo
hi
m
m
n
lo
unLo
ltLo
m
hi
gtHi
unHi
stack_ll
sp
lo
stack_hh
sp
n
stack_dd
sp
d
sp
stack_ll
sp
n
stack_hh
sp
m
stack_dd
sp
d1
sp
stack_ll
sp
m
stack_hh
sp
hi
stack_dd
sp
d
sp
mainSort
Data
dataShadow
data
int
runningOrder
mainSort_runningOrder
int
copy
mainSort_copy
boolean
bigDone
mainSort_bigDone
int
ftab
ftab
byte
block
block
int
fmap
fmap
char
quadrant
quadrant
int
lastShadow
last
int
workLimitShadow
workLimit
boolean
firstAttemptShadow
firstAttempt
for
forControl
int
i
i
block
ftab
i
for
forControl
int
i
i
NUM_OVERSHOOT_BYTES
i
block
block
lastShadow
i
block
i
lastShadow
for
forControl
int
i
lastShadow
NUM_OVERSHOOT_BYTES
i
block
quadrant
i
block
block
lastShadow
int
c1
block
for
forControl
int
i
i
lastShadow
i
block
int
c2
block
i
ftab
c1
c2
c1
c2
for
forControl
int
i
i
i
ftab
i
ftab
i
c1
block
for
forControl
int
i
i
lastShadow
i
block
int
c2
block
i
fmap
ftab
c1
c2
i
c1
c2
fmap
ftab
block
lastShadow
block
lastShadow
for
forControl
int
i
i
block
bigDone
i
runningOrder
i
i
for
forControl
int
h
h
block
h
for
forControl
int
i
h
i
i
block
int
vv
runningOrder
i
int
a
ftab
vv
ftab
vv
int
b
h
int
j
i
for
forControl
int
ro
runningOrder
j
h
ftab
ro
ftab
ro
a
ro
runningOrder
j
h
block
runningOrder
j
ro
j
h
if
j
b
block
break
runningOrder
j
vv
for
forControl
int
i
i
i
block
int
ss
runningOrder
i
for
forControl
int
j
j
j
block
int
sb
ss
j
int
ftab_sb
ftab
sb
if
ftab_sb
SETMASK
SETMASK
block
int
lo
ftab_sb
CLEARMASK
int
hi
ftab
sb
CLEARMASK
if
hi
lo
block
mainQSort3
dataShadow
lo
hi
if
firstAttemptShadow
workDone
workLimitShadow
block
return
ftab
sb
ftab_sb
SETMASK
for
forControl
int
j
j
j
block
copy
j
ftab
j
ss
CLEARMASK
for
forControl
int
j
ftab
ss
CLEARMASK
hj
ftab
ss
CLEARMASK
j
hj
j
block
int
fmap_j
fmap
j
c1
block
fmap_j
if
bigDone
c1
block
fmap
copy
c1
fmap_j
lastShadow
fmap_j
copy
c1
for
forControl
int
j
j
ftab
j
ss
SETMASK
bigDone
ss
if
i
block
int
bbStart
ftab
ss
CLEARMASK
int
bbSize
ftab
ss
CLEARMASK
bbStart
int
shifts
while
bbSize
shifts
block
shifts
for
forControl
int
j
j
bbSize
j
block
int
a2update
fmap
bbStart
j
char
qVal
char
j
shifts
quadrant
a2update
qVal
if
a2update
NUM_OVERSHOOT_BYTES
block
quadrant
a2update
lastShadow
qVal
randomiseBlock
boolean
inUse
data
inUse
byte
block
data
block
int
lastShadow
last
for
forControl
int
i
i
inUse
i
int
rNToGo
int
rTPos
for
forControl
int
i
j
i
lastShadow
i
j
j
block
if
rNToGo
block
rNToGo
char
rNums
rTPos
if
rTPos
block
rTPos
rNToGo
block
j
rNToGo
inUse
block
j
blockRandomised
generateMTFValues
int
lastShadow
last
Data
dataShadow
data
boolean
inUse
inUse
byte
block
block
int
fmap
fmap
char
sfmap
sfmap
int
mtfFreq
mtfFreq
byte
unseqToSeq
unseqToSeq
byte
yy
generateMTFValues_yy
int
nInUseShadow
for
forControl
int
i
i
i
block
if
inUse
i
block
unseqToSeq
i
byte
nInUseShadow
nInUseShadow
nInUse
nInUseShadow
int
eob
nInUseShadow
for
forControl
int
i
eob
i
i
block
mtfFreq
i
for
forControl
int
i
nInUseShadow
i
block
yy
i
byte
i
int
wr
int
zPend
for
forControl
int
i
i
lastShadow
i
block
byte
ll_i
unseqToSeq
block
fmap
i
byte
tmp
yy
int
j
while
ll_i
tmp
block
j
byte
tmp2
tmp
tmp
yy
j
yy
j
tmp2
yy
tmp
if
j
block
zPend
block
if
zPend
block
zPend
while
block
if
zPend
block
sfmap
wr
RUNA
wr
mtfFreq
RUNA
block
sfmap
wr
RUNB
wr
mtfFreq
RUNB
if
zPend
block
zPend
zPend
block
break
zPend
sfmap
wr
char
j
wr
mtfFreq
j
if
zPend
block
zPend
while
block
if
zPend
block
sfmap
wr
RUNA
wr
mtfFreq
RUNA
block
sfmap
wr
RUNB
wr
mtfFreq
RUNB
if
zPend
block
zPend
zPend
block
break
sfmap
wr
char
eob
mtfFreq
eob
nMTF
wr
Data
boolean
inUse
boolean
byte
unseqToSeq
byte
int
mtfFreq
int
MAX_ALPHA_SIZE
byte
selector
byte
MAX_SELECTORS
byte
selectorMtf
byte
MAX_SELECTORS
byte
generateMTFValues_yy
byte
byte
sendMTFValues_len
byte
N_GROUPS
MAX_ALPHA_SIZE
int
sendMTFValues_rfreq
int
N_GROUPS
MAX_ALPHA_SIZE
int
sendMTFValues_fave
int
N_GROUPS
short
sendMTFValues_cost
short
N_GROUPS
int
sendMTFValues_code
int
N_GROUPS
MAX_ALPHA_SIZE
byte
sendMTFValues2_pos
byte
N_GROUPS
boolean
sentMTFValues4_inUse16
boolean
int
stack_ll
int
QSORT_STACK_SIZE
int
stack_hh
int
QSORT_STACK_SIZE
int
stack_dd
int
QSORT_STACK_SIZE
int
mainSort_runningOrder
int
int
mainSort_copy
int
boolean
mainSort_bigDone
boolean
int
heap
int
MAX_ALPHA_SIZE
int
weight
int
MAX_ALPHA_SIZE
int
parent
int
MAX_ALPHA_SIZE
int
ftab
int
byte
block
int
fmap
char
sfmap
char
quadrant
Data
blockSize100k
int
int
n
blockSize100k
baseBlockSize
block
byte
n
NUM_OVERSHOOT_BYTES
fmap
int
n
sfmap
char
n
quadrant
sfmap
Object
OutputStream
BZip2Constants
