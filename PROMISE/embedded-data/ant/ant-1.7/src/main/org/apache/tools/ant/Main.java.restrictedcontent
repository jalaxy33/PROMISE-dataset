Main
String
DEFAULT_BUILD_FILENAME
int
msgOutputLevel
MSG_INFO
File
buildFile
PrintStream
out
out
PrintStream
err
err
Vector
targets
Vector
Properties
definedProps
Properties
Vector
listeners
Vector
Vector
propertyFiles
Vector
boolean
allowInput
boolean
keepGoingMode
String
loggerClassname
String
inputHandlerClassname
boolean
emacsMode
boolean
readyToRun
boolean
projectHelp
boolean
isLogFileUsed
Integer
threadPriority
boolean
proxy
printMessage
t
Throwable
String
message
getMessage
if
message
block
println
message
start
args
String
additionalUserProperties
Properties
coreLoader
ClassLoader
Main
m
Main
startAnt
args
additionalUserProperties
coreLoader
startAnt
args
String
additionalUserProperties
Properties
coreLoader
ClassLoader
try
validateVersion
processArgs
args
catchClause
exc
handleLogfile
printMessage
exc
exit
return
if
additionalUserProperties
block
for
forControl
Enumeration
e
keys
hasMoreElements
block
String
key
String
nextElement
String
property
getProperty
key
put
key
property
int
exitCode
try
try
runBuild
coreLoader
exitCode
catchClause
ese
exitCode
getStatus
if
exitCode
block
throw
ese
catchClause
be
if
err
err
block
printMessage
be
catchClause
exc
printStackTrace
printMessage
exc
handleLogfile
exit
exitCode
exit
exitCode
int
exit
exitCode
handleLogfile
if
isLogFileUsed
block
close
out
close
err
main
args
String
start
args
Main
Main
args
String
processArgs
args
processArgs
args
String
String
searchForThis
PrintStream
logTo
HashMap
launchCommands
HashMap
put
put
put
put
put
put
put
for
forControl
int
i
i
length
i
block
String
arg
args
i
if
equals
equals
block
printUsage
return
if
equals
block
printVersion
return
if
equals
block
doReport
out
return
if
equals
equals
block
msgOutputLevel
MSG_WARN
if
equals
equals
block
printVersion
msgOutputLevel
MSG_VERBOSE
if
equals
equals
block
printVersion
msgOutputLevel
MSG_DEBUG
if
equals
block
allowInput
if
equals
equals
block
try
File
logFile
File
args
i
i
logTo
PrintStream
FileOutputStream
logFile
isLogFileUsed
catchClause
ioe
String
msg
throw
BuildException
msg
catchClause
aioobe
String
msg
throw
BuildException
msg
if
equals
equals
equals
block
try
buildFile
File
args
i
replace
separatorChar
i
catchClause
aioobe
String
msg
throw
BuildException
msg
if
equals
block
try
addElement
args
i
i
catchClause
aioobe
String
msg
throw
BuildException
msg
if
startsWith
block
String
name
substring
length
String
value
int
posEq
indexOf
if
posEq
block
value
substring
posEq
name
substring
posEq
if
i
length
block
value
args
i
block
throw
BuildException
name
put
name
value
if
equals
block
if
loggerClassname
block
throw
BuildException
try
loggerClassname
args
i
catchClause
aioobe
throw
BuildException
if
equals
block
if
inputHandlerClassname
block
throw
BuildException
try
inputHandlerClassname
args
i
catchClause
aioobe
throw
BuildException
if
equals
equals
block
emacsMode
if
equals
equals
block
projectHelp
if
equals
equals
block
if
i
length
block
searchForThis
args
i
block
searchForThis
DEFAULT_BUILD_FILENAME
if
startsWith
block
try
addElement
args
i
i
catchClause
aioobe
String
msg
throw
BuildException
msg
if
equals
equals
block
keepGoingMode
if
equals
block
try
threadPriority
decode
args
i
catchClause
aioobe
throw
BuildException
catchClause
e
throw
BuildException
args
i
i
if
intValue
MIN_PRIORITY
intValue
MAX_PRIORITY
block
throw
BuildException
if
get
arg
block
String
msg
arg
throw
BuildException
msg
if
equals
block
proxy
if
startsWith
block
String
msg
arg
println
msg
printUsage
throw
BuildException
block
addElement
arg
if
buildFile
block
if
searchForThis
block
buildFile
findBuildFile
getProperty
searchForThis
block
buildFile
File
DEFAULT_BUILD_FILENAME
if
exists
block
println
buildFile
throw
BuildException
if
isDirectory
block
println
buildFile
throw
BuildException
for
forControl
int
propertyFileIndex
propertyFileIndex
size
propertyFileIndex
block
String
filename
String
elementAt
propertyFileIndex
Properties
props
Properties
FileInputStream
fis
try
fis
FileInputStream
filename
load
fis
catchClause
e
println
filename
getMessage
close
fis
Enumeration
propertyNames
propertyNames
while
hasMoreElements
block
String
name
String
nextElement
if
getProperty
name
block
put
name
getProperty
name
if
msgOutputLevel
MSG_INFO
block
println
buildFile
if
logTo
block
out
logTo
err
logTo
setOut
out
setErr
err
readyToRun
getParentFile
File
file
File
File
parent
getParentFile
if
parent
msgOutputLevel
MSG_VERBOSE
block
println
getAbsolutePath
return
parent
findBuildFile
File
start
String
suffix
String
if
msgOutputLevel
MSG_INFO
block
println
suffix
File
parent
File
getAbsolutePath
File
start
File
file
File
parent
suffix
while
exists
block
parent
getParentFile
parent
if
parent
block
throw
BuildException
file
File
parent
suffix
return
file
runBuild
coreLoader
ClassLoader
if
readyToRun
block
return
Project
project
Project
setCoreLoader
coreLoader
Throwable
error
try
addBuildListeners
project
addInputHandler
project
PrintStream
savedErr
err
PrintStream
savedOut
out
InputStream
savedIn
in
SecurityManager
oldsm
oldsm
getSecurityManager
try
if
allowInput
block
setDefaultInputStream
in
setIn
DemuxInputStream
project
setOut
PrintStream
DemuxOutputStream
project
setErr
PrintStream
DemuxOutputStream
project
if
projectHelp
block
fireBuildStarted
if
threadPriority
block
try
log
threadPriority
MSG_VERBOSE
currentThread
setPriority
intValue
catchClause
swallowed
log
init
Enumeration
e
keys
while
hasMoreElements
block
String
arg
String
nextElement
String
value
String
get
arg
setUserProperty
arg
value
setUserProperty
ANT_FILE
getAbsolutePath
setKeepGoingMode
keepGoingMode
if
proxy
block
ProxySetup
proxySetup
ProxySetup
project
enableProxies
configureProject
project
buildFile
if
projectHelp
block
printDescription
project
printTargets
project
msgOutputLevel
MSG_INFO
return
if
size
block
if
getDefaultTarget
block
addElement
getDefaultTarget
executeTargets
targets
if
oldsm
block
setSecurityManager
oldsm
setOut
savedOut
setErr
savedErr
setIn
savedIn
catchClause
exc
error
exc
throw
exc
catchClause
e
error
e
throw
e
if
projectHelp
block
fireBuildFinished
error
if
error
block
log
toString
MSG_ERR
addBuildListeners
project
Project
addBuildListener
createLogger
for
forControl
int
i
i
size
i
block
String
className
String
elementAt
i
BuildListener
listener
BuildListener
newInstance
className
getClassLoader
Main
BuildListener
if
project
block
setProjectReference
listener
addBuildListener
listener
addInputHandler
project
Project
InputHandler
handler
if
inputHandlerClassname
block
handler
DefaultInputHandler
block
handler
InputHandler
newInstance
inputHandlerClassname
getClassLoader
Main
InputHandler
if
project
block
setProjectReference
handler
setInputHandler
handler
createLogger
BuildLogger
BuildLogger
logger
if
loggerClassname
block
try
logger
BuildLogger
newInstance
loggerClassname
getClassLoader
Main
BuildLogger
catchClause
e
println
loggerClassname
getMessage
throw
RuntimeException
block
logger
DefaultLogger
setMessageOutputLevel
msgOutputLevel
setOutputPrintStream
out
setErrorPrintStream
err
setEmacsMode
emacsMode
return
logger
printUsage
String
lSep
getProperty
StringBuffer
msg
StringBuffer
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
append
lSep
lSep
append
lSep
lSep
append
lSep
append
lSep
append
println
toString
printVersion
println
getAntVersion
String
antVersion
getAntVersion
String
if
antVersion
block
try
Properties
props
Properties
InputStream
in
getResourceAsStream
Main
load
in
close
StringBuffer
msg
StringBuffer
append
append
getProperty
append
append
getProperty
antVersion
toString
catchClause
ioe
throw
BuildException
getMessage
catchClause
npe
throw
BuildException
return
antVersion
printDescription
project
Project
if
getDescription
block
log
getDescription
printTargets
project
Project
printSubTargets
boolean
int
maxLength
Enumeration
ptargets
getTargets
elements
String
targetName
String
targetDescription
Target
currentTarget
Vector
topNames
Vector
Vector
topDescriptions
Vector
Vector
subNames
Vector
while
hasMoreElements
block
currentTarget
Target
nextElement
targetName
getName
if
equals
block
continue
targetDescription
getDescription
if
targetDescription
block
int
pos
findTargetPosition
subNames
targetName
insertElementAt
targetName
pos
block
int
pos
findTargetPosition
topNames
targetName
insertElementAt
targetName
pos
insertElementAt
targetDescription
pos
if
length
maxLength
block
maxLength
length
printTargets
project
topNames
topDescriptions
maxLength
if
size
block
printSubTargets
if
printSubTargets
block
printTargets
project
subNames
String
defaultTarget
getDefaultTarget
if
defaultTarget
equals
defaultTarget
block
log
defaultTarget
findTargetPosition
int
names
Vector
name
String
int
res
size
for
forControl
int
i
i
size
res
size
i
block
if
compareTo
String
elementAt
i
block
res
i
return
res
printTargets
project
Project
names
Vector
descriptions
Vector
heading
String
maxlen
int
String
lSep
getProperty
String
spaces
while
length
maxlen
block
spaces
spaces
StringBuffer
msg
StringBuffer
append
heading
lSep
lSep
for
forControl
int
i
i
size
i
block
append
append
elementAt
i
if
descriptions
block
append
substring
maxlen
String
elementAt
i
append
elementAt
i
append
lSep
log
toString
MSG_WARN
AntMain
