Concat
int
BUFFER_SIZE
FileUtils
FILE_UTILS
getFileUtils
ResourceSelector
EXISTS
Exists
ResourceSelector
NOT_EXISTS
Not
EXISTS
File
destinationFile
boolean
append
String
encoding
String
outputEncoding
boolean
binary
StringBuffer
textBuffer
Resources
rc
Vector
filterChains
boolean
forceOverwrite
TextElement
footer
TextElement
header
boolean
fixLastLine
String
eolString
Writer
outputWriter
Concat
reset
reset
append
forceOverwrite
destinationFile
encoding
outputEncoding
fixLastLine
filterChains
footer
header
binary
outputWriter
textBuffer
eolString
getProperty
rc
setDestfile
destinationFile
File
destinationFile
destinationFile
setAppend
append
boolean
append
append
setEncoding
encoding
String
encoding
encoding
if
outputEncoding
block
outputEncoding
encoding
setOutputEncoding
outputEncoding
String
outputEncoding
outputEncoding
setForce
force
boolean
forceOverwrite
force
createPath
Path
Path
path
Path
getProject
add
path
return
path
addFileset
set
FileSet
add
set
addFilelist
list
FileList
add
list
add
c
ResourceCollection
rc
rc
Resources
rc
add
c
addFilterChain
filterChain
FilterChain
if
filterChains
block
filterChains
Vector
addElement
filterChain
addText
text
String
if
textBuffer
block
textBuffer
StringBuffer
length
append
text
addHeader
headerToAdd
TextElement
header
headerToAdd
addFooter
footerToAdd
TextElement
footer
footerToAdd
setFixLastLine
fixLastLine
boolean
fixLastLine
fixLastLine
setEol
crlf
FixCRLF
CrLf
String
s
getValue
if
equals
equals
block
eolString
if
equals
equals
block
eolString
if
equals
equals
block
eolString
setWriter
outputWriter
Writer
outputWriter
outputWriter
setBinary
binary
boolean
binary
binary
validate
ResourceCollection
sanitizeText
if
binary
block
if
destinationFile
block
throw
BuildException
if
textBuffer
block
throw
BuildException
if
encoding
outputEncoding
block
throw
BuildException
if
filterChains
block
throw
BuildException
if
fixLastLine
block
throw
BuildException
if
header
footer
block
throw
BuildException
if
destinationFile
outputWriter
block
throw
BuildException
if
rc
textBuffer
block
throw
BuildException
if
rc
block
if
textBuffer
block
throw
BuildException
Restrict
noexistRc
Restrict
add
NOT_EXISTS
add
rc
for
forControl
Iterator
i
iterator
hasNext
block
log
next
MSG_ERR
if
destinationFile
block
for
forControl
Iterator
i
iterator
hasNext
block
Object
o
next
if
o
FileResource
block
File
f
FileResource
o
if
fileNameEquals
f
destinationFile
block
throw
BuildException
f
Restrict
existRc
Restrict
add
EXISTS
add
rc
boolean
outofdate
destinationFile
forceOverwrite
if
outofdate
block
for
forControl
Iterator
i
iterator
outofdate
hasNext
block
Resource
r
Resource
next
outofdate
getLastModified
getLastModified
lastModified
if
outofdate
block
log
destinationFile
MSG_VERBOSE
return
return
existRc
block
StringResource
s
StringResource
setProject
getProject
setValue
toString
return
s
execute
ResourceCollection
c
validate
if
c
block
return
if
size
header
footer
block
log
MSG_INFO
return
if
binary
block
binaryCat
c
block
cat
c
binaryCat
c
ResourceCollection
log
size
destinationFile
FileOutputStream
out
InputStream
in
try
try
out
FileOutputStream
destinationFile
catchClause
t
throw
BuildException
destinationFile
t
in
ConcatResourceInputStream
c
ConcatResourceInputStream
in
Thread
t
Thread
StreamPumper
in
out
start
try
join
catchClause
e
try
join
catchClause
ee
close
in
if
out
block
try
close
catchClause
ex
throw
BuildException
destinationFile
ex
cat
c
ResourceCollection
OutputStream
os
char
buffer
char
BUFFER_SIZE
try
PrintWriter
writer
if
outputWriter
block
writer
PrintWriter
outputWriter
block
if
destinationFile
block
os
LogOutputStream
MSG_WARN
block
File
parent
getParentFile
if
exists
block
mkdirs
os
FileOutputStream
getAbsolutePath
append
if
outputEncoding
block
writer
PrintWriter
BufferedWriter
OutputStreamWriter
os
block
writer
PrintWriter
BufferedWriter
OutputStreamWriter
os
outputEncoding
if
header
block
if
getFiltering
block
concatenate
buffer
writer
StringReader
getValue
block
print
getValue
if
size
block
concatenate
buffer
writer
MultiReader
c
if
footer
block
if
getFiltering
block
concatenate
buffer
writer
StringReader
getValue
block
print
getValue
flush
if
os
block
flush
catchClause
ioex
throw
BuildException
getMessage
ioex
close
os
concatenate
buffer
char
writer
Writer
in
Reader
if
filterChains
block
ChainReaderHelper
helper
ChainReaderHelper
setBufferSize
BUFFER_SIZE
setPrimaryReader
in
setFilterChains
filterChains
setProject
getProject
in
BufferedReader
getAssembledReader
while
block
int
nRead
read
buffer
length
if
nRead
block
break
write
buffer
nRead
flush
sanitizeText
if
textBuffer
block
if
substring
trim
length
block
textBuffer
TextElement
String
value
boolean
trimLeading
boolean
trim
boolean
filtering
String
encoding
setFiltering
filtering
boolean
filtering
filtering
getFiltering
boolean
return
filtering
setEncoding
encoding
String
encoding
encoding
setFile
file
File
if
exists
block
throw
BuildException
file
BufferedReader
reader
try
if
encoding
block
reader
BufferedReader
FileReader
file
block
reader
BufferedReader
InputStreamReader
FileInputStream
file
encoding
value
readFully
reader
catchClause
ex
throw
BuildException
ex
close
reader
addText
value
String
value
getProject
replaceProperties
value
setTrimLeading
strip
boolean
trimLeading
strip
setTrim
trim
boolean
trim
trim
getValue
String
if
value
block
value
if
trim
length
block
value
if
trimLeading
block
char
current
toCharArray
StringBuffer
b
StringBuffer
length
boolean
startOfLine
int
pos
while
pos
length
block
char
ch
current
pos
if
startOfLine
block
if
ch
ch
block
continue
startOfLine
append
ch
if
ch
ch
block
startOfLine
value
toString
if
trim
block
value
trim
return
value
ProjectComponent
MultiReader
Reader
reader
int
lastPos
char
lastChars
char
length
boolean
needAddSeparator
Iterator
i
MultiReader
c
ResourceCollection
i
iterator
getReader
Reader
if
reader
hasNext
block
Resource
r
Resource
next
log
toLongString
MSG_VERBOSE
InputStream
is
getInputStream
reader
BufferedReader
encoding
InputStreamReader
is
InputStreamReader
is
encoding
fill
lastChars
char
return
reader
nextReader
close
reader
read
int
if
needAddSeparator
block
int
ret
charAt
lastPos
if
lastPos
length
block
lastPos
needAddSeparator
return
ret
while
getReader
block
int
ch
getReader
read
if
ch
block
nextReader
if
fixLastLine
isMissingEndOfLine
block
needAddSeparator
lastPos
block
addLastChar
char
ch
return
ch
return
read
int
cbuf
char
off
int
len
int
int
amountRead
while
getReader
needAddSeparator
block
if
needAddSeparator
block
cbuf
off
charAt
lastPos
if
lastPos
length
block
lastPos
needAddSeparator
len
off
amountRead
if
len
block
return
amountRead
continue
int
nRead
getReader
read
cbuf
off
len
if
nRead
nRead
block
nextReader
if
fixLastLine
isMissingEndOfLine
block
needAddSeparator
lastPos
block
if
fixLastLine
block
for
forControl
int
i
nRead
i
nRead
length
i
block
if
i
block
break
addLastChar
cbuf
off
i
len
nRead
off
nRead
amountRead
nRead
if
len
block
return
amountRead
if
amountRead
block
return
block
return
amountRead
close
if
reader
block
close
addLastChar
ch
char
for
forControl
int
i
length
i
i
block
lastChars
i
lastChars
i
lastChars
length
ch
isMissingEndOfLine
boolean
for
forControl
int
i
i
length
i
block
if
lastChars
i
charAt
i
block
return
return
Reader
Task
