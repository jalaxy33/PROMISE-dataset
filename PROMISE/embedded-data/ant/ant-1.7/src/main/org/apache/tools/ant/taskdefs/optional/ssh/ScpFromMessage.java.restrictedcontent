ScpFromMessage
byte
LINE_FEED
int
BUFFER_SIZE
String
remoteFile
File
localFile
boolean
isRecursive
ScpFromMessage
session
Session
session
ScpFromMessage
verbose
boolean
session
Session
verbose
session
ScpFromMessage
verbose
boolean
session
Session
aRemoteFile
String
aLocalFile
File
recursive
boolean
verbose
session
remoteFile
aRemoteFile
localFile
aLocalFile
isRecursive
recursive
ScpFromMessage
session
Session
aRemoteFile
String
aLocalFile
File
recursive
boolean
session
aRemoteFile
aLocalFile
recursive
execute
String
command
if
isRecursive
block
command
command
remoteFile
Channel
channel
openExecChannel
command
try
OutputStream
out
getOutputStream
InputStream
in
getInputStream
connect
sendAck
out
startRemoteCpProtocol
in
out
localFile
if
channel
block
disconnect
log
startRemoteCpProtocol
in
InputStream
out
OutputStream
localFile
File
File
startFile
localFile
while
block
ByteArrayOutputStream
stream
ByteArrayOutputStream
while
block
int
read
read
if
read
block
return
if
byte
read
LINE_FEED
block
break
write
read
String
serverResponse
toString
if
charAt
block
parseAndFetchFile
serverResponse
startFile
out
in
if
charAt
block
startFile
parseAndCreateDirectory
serverResponse
startFile
sendAck
out
if
charAt
block
startFile
getParentFile
sendAck
out
if
charAt
charAt
block
throw
IOException
substring
parseAndCreateDirectory
File
serverResponse
String
localFile
File
int
start
indexOf
start
indexOf
start
String
directoryName
substring
start
if
isDirectory
block
File
dir
File
localFile
directoryName
mkdir
log
dir
return
dir
return
parseAndFetchFile
serverResponse
String
localFile
File
out
OutputStream
in
InputStream
int
start
int
end
indexOf
start
start
end
end
indexOf
start
long
filesize
parseLong
substring
start
end
String
filename
substring
end
log
filename
filesize
File
transferFile
isDirectory
File
localFile
filename
localFile
fetchFile
transferFile
filesize
out
in
waitForAck
in
sendAck
out
fetchFile
localFile
File
filesize
long
out
OutputStream
in
InputStream
byte
buf
byte
BUFFER_SIZE
sendAck
out
FileOutputStream
fos
FileOutputStream
localFile
int
length
long
totalLength
long
startTime
currentTimeMillis
boolean
trackProgress
getVerbose
filesize
long
initFilesize
filesize
int
percentTransmitted
try
while
block
length
read
buf
BUFFER_SIZE
filesize
BUFFER_SIZE
int
filesize
if
length
block
throw
EOFException
write
buf
length
filesize
length
totalLength
length
if
filesize
block
break
if
trackProgress
block
percentTransmitted
trackProgress
initFilesize
totalLength
percentTransmitted
long
endTime
currentTimeMillis
logStats
startTime
endTime
totalLength
flush
close
AbstractSshMessage
