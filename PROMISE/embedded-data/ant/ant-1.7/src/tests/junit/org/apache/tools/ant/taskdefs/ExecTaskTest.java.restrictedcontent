ExecTaskTest
String
BUILD_PATH
String
BUILD_FILE
BUILD_PATH
int
TIME_TO_WAIT
int
MAX_BUILD_TIME
int
SECURITY_MARGIN
FileUtils
FILE_UTILS
getFileUtils
File
logFile
MonitoredBuild
myBuild
boolean
buildFinished
ExecTaskTest
name
String
name
setUp
configureProject
BUILD_FILE
tearDown
if
logFile
exists
block
getProject
setProperty
getAbsolutePath
executeTarget
testNoRedirect
executeTarget
if
getProject
getProperty
block
return
assertEquals
getProject
getProperty
getProject
getProperty
getLog
testRedirect1
executeTarget
if
getProject
getProperty
block
return
String
expectedOut
getProject
getProperty
getProject
getProperty
assertEquals
expectedOut
getFileString
testRedirect2
executeTarget
if
getProject
getProperty
block
return
assertEquals
getProject
getProperty
getFileString
assertEquals
getProject
getProperty
getFileString
testRedirect3
executeTarget
if
getProject
getProperty
block
return
assertEquals
getProject
getProperty
getLog
String
expectedOut
getProject
getProperty
assertEquals
expectedOut
getFileString
assertPropertyEquals
trim
testRedirect4
executeTarget
if
getProject
getProperty
block
return
String
expectedOut
getProject
getProperty
String
expectedErr
getProject
getProperty
assertEquals
expectedOut
getFileString
assertPropertyEquals
trim
assertEquals
expectedErr
getFileString
assertPropertyEquals
trim
testRedirect5
testRedirect5or6
testRedirect6
testRedirect5or6
testRedirect5or6
target
String
executeTarget
target
if
getProject
getProperty
block
return
assertEquals
getFileString
trim
assertEquals
getProject
getProperty
trim
assertNull
getFileString
assertPropertyEquals
testRedirect7
executeTarget
if
getProject
getProperty
block
return
assertEquals
getFileString
trim
assertEquals
getProject
getProperty
trim
assertNull
getFileString
testRedirector1
executeTarget
if
getProject
getProperty
block
return
expectBuildException
testRedirector2
executeTarget
if
getProject
getProperty
block
return
assertEquals
getProject
getProperty
getProject
getProperty
getFileString
testRedirector3
executeTarget
if
getProject
getProperty
block
return
assertEquals
getProject
getProperty
getFileString
assertEquals
getProject
getProperty
getFileString
testRedirector4
executeTarget
if
getProject
getProperty
block
return
String
expectedOut
getProject
getProperty
assertEquals
getProject
getProperty
getLog
assertEquals
expectedOut
getFileString
assertPropertyEquals
trim
testRedirector5
testRedirector5or6
testRedirector6
testRedirector5or6
testRedirector5or6
target
String
executeTarget
target
if
getProject
getProperty
block
return
String
expectedOut
getProject
getProperty
String
expectedErr
getProject
getProperty
assertEquals
expectedOut
getFileString
assertPropertyEquals
trim
assertEquals
expectedErr
getFileString
assertPropertyEquals
trim
testRedirector7
executeTarget
if
getProject
getProperty
block
return
String
expectedOut
getProject
getProperty
String
expectedErr
getProject
getProperty
assertEquals
expectedOut
getFileString
assertPropertyEquals
trim
assertEquals
expectedErr
getFileString
assertPropertyEquals
trim
testRedirector8
executeTarget
if
getProject
getProperty
block
return
assertEquals
getFileString
trim
assertEquals
getProject
getProperty
trim
assertNull
getFileString
assertPropertyEquals
testRedirector9
testRedirector9Thru12
testRedirector10
testRedirector9Thru12
testRedirector11
testRedirector9Thru12
testRedirector12
testRedirector9Thru12
testRedirector9Thru12
target
String
executeTarget
target
if
getProject
getProperty
block
return
String
expectedOut
assertEquals
expectedOut
getFileString
trim
assertPropertyEquals
trim
assertNull
getFileString
assertPropertyEquals
testRedirector13
executeTarget
if
getProject
getProperty
block
return
String
antfile
getProject
getProperty
try
assertEquals
antfile
antfile
getLog
catchClause
cf
assertEquals
antfile
antfile
getLog
testRedirector14
executeTarget
if
getProject
getProperty
block
return
assertEquals
getLog
testRedirector15
executeTarget
if
getProject
getProperty
block
return
assertTrue
contentEquals
getProject
resolveFile
getProject
resolveFile
testRedirector16
executeTarget
testRedirector17
executeTarget
testRedirector18
if
getProject
getProperty
block
return
expectLog
getProject
getProperty
getProject
getProperty
testspawn
executeTarget
if
getProperty
block
return
myBuild
MonitoredBuild
File
getProperty
BUILD_FILE
logFile
createTempFile
getBaseDir
assertTrue
exists
setTimeToWait
TIME_TO_WAIT
setLogFile
getAbsolutePath
addBuildListener
MonitoredBuildListener
start
GregorianCalendar
startwait
GregorianCalendar
while
buildFinished
block
try
sleep
catchClause
e
println
GregorianCalendar
now
GregorianCalendar
if
getTime
getTime
getTime
getTime
MAX_BUILD_TIME
block
println
getTime
getTime
getTime
getTime
break
try
sleep
TIME_TO_WAIT
SECURITY_MARGIN
catchClause
e
println
long
elapsed
getTimeElapsed
assertTrue
TIME_TO_WAIT
SECURITY_MARGIN
elapsed
logFile
File
getAbsolutePath
assertTrue
exists
testExecUnknownOS
executeTarget
testExecOSFamily
executeTarget
testExecInconsistentSettings
executeTarget
MonitoredBuild
Thread
worker
File
myBuildFile
String
target
Project
project
int
timeToWait
String
logFile
GregorianCalendar
timeStarted
GregorianCalendar
timeFinished
setLogFile
logFile
String
logFile
logFile
setProperty
logFile
setTimeToWait
timeToWait
int
timeToWait
timeToWait
setProperty
toString
timeToWait
addBuildListener
bl
BuildListener
addBuildListener
bl
MonitoredBuild
buildFile
File
target
String
myBuildFile
buildFile
target
target
project
Project
project
Project
init
setUserProperty
getAbsolutePath
configureProject
project
myBuildFile
getTimeElapsed
long
return
getTime
getTime
getTime
getTime
start
worker
Thread
toString
target
start
run
startProject
startProject
timeStarted
GregorianCalendar
executeTarget
target
timeFinished
GregorianCalendar
Runnable
MonitoredBuildListener
buildStarted
event
BuildEvent
buildFinished
event
BuildEvent
targetStarted
event
BuildEvent
targetFinished
event
BuildEvent
if
getTarget
getName
equals
block
buildFinished
taskStarted
event
BuildEvent
taskFinished
event
BuildEvent
messageLogged
event
BuildEvent
BuildListener
getFileString
String
filename
String
String
result
FileReader
reader
try
reader
FileReader
getProject
resolveFile
filename
result
readFully
reader
catchClause
eyeOhEx
close
reader
return
result
BuildFileTest
