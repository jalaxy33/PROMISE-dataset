ModifiedSelectorTest
FileUtils
FILE_UTILS
getFileUtils
String
pkg
Path
testclasses
ModifiedSelectorTest
name
String
name
getInstance
BaseSelector
return
ModifiedSelector
setUp
setUp
Project
prj
getProject
if
prj
block
testclasses
Path
prj
getProperty
testValidateWrongCache
String
name
try
ModifiedSelector
CacheName
cacheName
ModifiedSelector
CacheName
setValue
name
fail
catchClause
be
assertEquals
name
getMessage
testValidateWrongAlgorithm
String
name
try
ModifiedSelector
AlgorithmName
algoName
ModifiedSelector
AlgorithmName
setValue
name
fail
catchClause
be
assertEquals
name
getMessage
testValidateWrongComparator
String
name
try
ModifiedSelector
ComparatorName
compName
ModifiedSelector
ComparatorName
setValue
name
fail
catchClause
be
assertEquals
name
getMessage
testIllegalCustomAlgorithm
try
String
algo
getAlgoName
fail
catchClause
e
assertTrue
getClass
getName
e
BuildException
assertEquals
getMessage
testNonExistentCustomAlgorithm
boolean
noExcThrown
try
String
algo
getAlgoName
noExcThrown
catchClause
e
if
noExcThrown
block
fail
assertTrue
getClass
getName
e
BuildException
assertEquals
getMessage
testCustomAlgorithm
String
algo
getAlgoName
assertTrue
algo
startsWith
testCustomAlgorithm2
String
algo
getAlgoName
assertTrue
algo
startsWith
testCustomClasses
BFT
bft
BFT
setUp
try
doTarget
String
fsFullValue
getProperty
String
fsModValue
getProperty
assertNotNull
fsFullValue
assertTrue
equals
fsFullValue
assertTrue
indexOf
assertNotNull
fsModValue
assertTrue
equals
fsModValue
doTarget
deletePropertiesfile
tearDown
testDelayUpdateTaskFinished
doDelayUpdateTest
testDelayUpdateTargetFinished
doDelayUpdateTest
testDelayUpdateBuildFinished
doDelayUpdateTest
doDelayUpdateTest
kind
int
String
kinds
MockProject
project
MockProject
File
base
File
File
file1
File
File
file2
File
ModifiedSelector
sel
ModifiedSelector
setProject
project
setUpdate
setDelayUpdate
setClassLoader
getClass
getClassLoader
addClasspath
testclasses
setAlgorithmClass
setCacheClass
configure
MockCache
cache
MockCache
getCache
assertFalse
saved
isSelected
base
file1
assertFalse
saved
isSelected
base
file2
assertFalse
saved
switch
kind
case
fireTaskFinished
break
case
fireTargetFinished
break
case
fireBuildFinished
break
assertTrue
kinds
kind
saved
getAlgoName
String
classname
String
ModifiedSelector
sel
ModifiedSelector
addClasspath
testclasses
setAlgorithmClass
classname
validate
String
s1
toString
int
posStart
indexOf
int
posEnd
indexOf
String
algo
substring
posStart
posEnd
if
startsWith
algo
substring
if
endsWith
algo
substring
length
return
algo
testPropcacheInvalid
Cache
cache
PropertiesfileCache
if
isValid
fail
testPropertyfileCache
PropertiesfileCache
cache
PropertiesfileCache
File
cachefile
File
setCachefile
cachefile
doTest
cache
assertFalse
exists
testCreatePropertiesCacheDirect
File
cachefile
File
basedir
PropertiesfileCache
cache
PropertiesfileCache
setCachefile
cachefile
put
save
assertTrue
exists
delete
assertFalse
exists
testCreatePropertiesCacheViaModifiedSelector
File
cachefile
File
basedir
try
makeBed
ModifiedSelector
s
ModifiedSelector
getSelector
setDelayUpdate
addParam
cachefile
ModifiedSelector
CacheName
cacheName
ModifiedSelector
CacheName
setValue
setCache
cacheName
setUpdate
String
results
selectionString
s
assertTrue
exists
cleanupBed
if
cachefile
delete
testCreatePropertiesCacheViaCustomSelector
File
cachefile
createTempFile
try
makeBed
ExtendSelector
s
ExtendSelector
setClassname
addParam
createParam
addParam
createParam
getAbsolutePath
addParam
createParam
String
results
selectionString
s
assertTrue
exists
cleanupBed
if
cachefile
delete
_testCustomCache
doTest
cache
Cache
assertTrue
isValid
String
key1
String
value1
String
key2
String
value2
Iterator
it1
iterator
assertFalse
hasNext
put
key1
value1
put
key2
value2
assertEquals
value1
get
key1
assertEquals
value2
get
key2
Iterator
it2
iterator
Object
returned
next
boolean
ok
equals
returned
equals
returned
String
msg
equals
returned
equals
returned
returned
ok
assertTrue
msg
ok
delete
Iterator
it3
iterator
assertFalse
hasNext
testHashvalueAlgorithm
HashvalueAlgorithm
algo
HashvalueAlgorithm
doTest
algo
testDigestAlgorithmMD5
DigestAlgorithm
algo
DigestAlgorithm
setAlgorithm
doTest
algo
testDigestAlgorithmSHA
DigestAlgorithm
algo
DigestAlgorithm
setAlgorithm
doTest
algo
testChecksumAlgorithm
ChecksumAlgorithm
algo
ChecksumAlgorithm
doTest
algo
testChecksumAlgorithmCRC
ChecksumAlgorithm
algo
ChecksumAlgorithm
setAlgorithm
doTest
algo
testChecksumAlgorithmAdler
ChecksumAlgorithm
algo
ChecksumAlgorithm
setAlgorithm
doTest
algo
doTest
algo
Algorithm
assertTrue
isValid
try
makeBed
for
forControl
int
i
i
length
i
block
File
file
files
i
if
isFile
block
String
hash1
getValue
file
String
hash2
getValue
file
String
hash3
getValue
file
String
hash4
getValue
file
String
hash5
getValue
File
getAbsolutePath
assertNotNull
getAbsolutePath
hash1
assertNotNull
getAbsolutePath
hash2
assertNotNull
getAbsolutePath
hash3
assertNotNull
getAbsolutePath
hash4
assertNotNull
getAbsolutePath
hash5
assertEquals
getAbsolutePath
hash1
hash2
assertEquals
getAbsolutePath
hash1
hash3
assertEquals
getAbsolutePath
hash1
hash4
assertEquals
getAbsolutePath
hash1
hash5
cleanupBed
testEqualComparator
EqualComparator
comp
EqualComparator
doTest
comp
testRuleComparator
RuleBasedCollator
comp
RuleBasedCollator
getInstance
doTest
comp
testEqualComparatorViaSelector
ModifiedSelector
s
ModifiedSelector
getSelector
ModifiedSelector
ComparatorName
compName
ModifiedSelector
ComparatorName
setValue
setComparator
compName
try
performTests
s
getCache
delete
_testRuleComparatorViaSelector
ModifiedSelector
s
ModifiedSelector
getSelector
ModifiedSelector
ComparatorName
compName
ModifiedSelector
ComparatorName
setValue
setComparator
compName
try
performTests
s
getCache
delete
_testCustomComparator
testResourceSelectorSimple
BFT
bft
BFT
doTarget
deleteCachefile
testResourceSelectorSelresTrue
BFT
bft
BFT
doTarget
assertLogContaining
deleteCachefile
testResourceSelectorSelresFalse
BFT
bft
BFT
doTarget
deleteCachefile
testResourceSelectorScenarioSimple
BFT
bft
BFT
doTarget
doTarget
deleteCachefile
doTest
comp
Comparator
Object
o1
String
Object
o2
String
Object
o3
String
assertTrue
compare
o1
o2
assertTrue
compare
o1
o3
assertTrue
compare
o2
o3
testSeldirs
ModifiedSelector
s
ModifiedSelector
getSelector
try
makeBed
StringBuffer
sbTrue
StringBuffer
StringBuffer
sbFalse
StringBuffer
for
forControl
int
i
i
length
i
block
if
files
i
isDirectory
block
append
append
block
append
append
setSeldirs
performTests
s
toString
getCache
delete
setSeldirs
performTests
s
toString
getCache
delete
cleanupBed
if
s
getCache
delete
testScenario1
BFT
bft
ModifiedSelector
s
try
makeBed
String
results
s
ModifiedSelector
getSelector
performTests
s
performTests
s
String
f2name
String
f3name
String
f4name
bft
BFT
writeProperties
f2name
writeProperties
f3name
writeProperties
f4name
doTarget
results
selectionString
s
StringBuffer
expected
StringBuffer
for
forControl
int
i
i
length
i
block
String
ch
if
files
i
isDirectory
ch
if
filenames
i
equalsIgnoreCase
f3name
ch
if
filenames
i
equalsIgnoreCase
f4name
ch
append
ch
assertEquals
resolve
diff
toString
results
toString
results
cleanupBed
if
s
getCache
delete
if
bft
deletePropertiesfile
_testScenario2
ExtendSelector
s
ExtendSelector
BFT
bft
BFT
String
cachefile
getProperty
try
makeBed
setClassname
addParam
createParam
cachefile
addParam
createParam
addParam
createParam
addParam
createParam
addParam
createParam
addParam
createParam
performTests
s
performTests
s
String
f2name
String
f3name
String
f4name
writeProperties
f2name
writeProperties
f3name
writeProperties
f4name
doTarget
String
results
selectionString
s
StringBuffer
expected
StringBuffer
for
forControl
int
i
i
length
i
block
String
ch
if
files
i
isDirectory
ch
if
filenames
i
equalsIgnoreCase
f3name
ch
if
filenames
i
equalsIgnoreCase
f4name
ch
append
ch
assertEquals
resolve
diff
toString
results
toString
results
cleanupBed
delete
java
io
File
cachefile
if
bft
deletePropertiesfile
testScenarioCoreSelectorDefaults
doScenarioTest
testScenarioCoreSelectorSettings
doScenarioTest
testScenarioCustomSelectorSettings
doScenarioTest
doScenarioTest
target
String
cachefilename
String
BFT
bft
BFT
setUp
File
cachefile
File
basedir
cachefilename
try
doTarget
doTarget
target
File
to1
File
basedir
File
to2
File
basedir
File
to3
File
basedir
assertTrue
exists
assertTrue
list
length
assertTrue
list
length
assertTrue
list
length
doTarget
deletePropertiesfile
tearDown
delete
createParam
Parameter
name
String
value
String
Parameter
p
Parameter
setName
name
setValue
value
return
p
BFT
String
buildfile
BFT
BFT
name
String
name
String
propfile
boolean
isConfigured
setUp
configureProject
buildfile
isConfigured
tearDown
try
tearDown
catchClause
e
doTarget
target
String
if
isConfigured
setUp
executeTarget
target
getProperty
String
property
String
return
getProperty
property
writeProperties
line
String
if
isConfigured
setUp
File
dir
getProject
getBaseDir
File
file
File
dir
propfile
try
java
io
FileWriter
out
java
io
FileWriter
getAbsolutePath
write
line
write
getProperty
flush
close
catchClause
e
printStackTrace
deletePropertiesfile
if
isConfigured
setUp
delete
File
getProject
getBaseDir
propfile
deleteCachefile
File
basedir
getParentFile
File
buildfile
File
cacheFile
File
basedir
delete
getBuildfile
String
return
buildfile
setBuildfile
buildfile
String
buildfile
buildfile
org
apache
tools
ant
BuildFileTest
MockProject
Task
task
Target
target
MockProject
task
Task
execute
setTaskName
target
Target
setName
setProject
addTask
task
setOwningTarget
target
fireBuildFinished
fireBuildFinished
fireSubBuildFinished
fireSubBuildFinished
fireTargetStarted
fireTargetStarted
target
fireTargetFinished
fireTargetFinished
target
fireTaskStarted
fireTaskStarted
task
fireTaskFinished
fireTaskFinished
task
Project
BaseSelectorTest
