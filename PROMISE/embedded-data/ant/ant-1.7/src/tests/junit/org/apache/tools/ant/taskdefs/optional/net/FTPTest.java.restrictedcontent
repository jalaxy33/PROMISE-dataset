FTPTest
boolean
supportsSymlinks
isFamily
FTPClient
ftp
boolean
connectionSucceeded
boolean
loginSuceeded
String
tmpDir
String
remoteTmpDir
String
ftpFileSep
myFTP
myFTPTask
myFTP
FTPTest
name
String
name
setUp
configureProject
getProject
executeTarget
tmpDir
getProject
getProperty
ftp
FTPClient
ftpFileSep
getProject
getProperty
setSeparator
ftpFileSep
setProject
getProject
remoteTmpDir
resolveFile
tmpDir
String
remoteHost
getProject
getProperty
int
port
parseInt
getProject
getProperty
String
remoteUser
getProject
getProperty
String
password
getProject
getProperty
try
connect
remoteHost
port
catchClause
ex
connectionSucceeded
loginSuceeded
println
remoteHost
port
if
connectionSucceeded
block
try
login
remoteUser
password
catchClause
ioe
loginSuceeded
println
remoteHost
remoteUser
tearDown
try
disconnect
catchClause
ioe
getProject
executeTarget
changeRemoteDir
boolean
remoteDir
String
boolean
result
try
cwd
remoteDir
catchClause
ex
println
remoteTmpDir
result
return
result
test1
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
test2
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
test3
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
scan
compareFiles
ds
String
String
testFullPathMatchesCaseSensitive
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
testFullPathMatchesCaseInsensitive
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setCaseSensitive
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
test2ButCaseInsensitive
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setCaseSensitive
scan
compareFiles
ds
String
String
test2bisButCaseInsensitive
if
loginSuceeded
block
if
changeRemoteDir
remoteTmpDir
block
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setCaseSensitive
scan
compareFiles
ds
String
String
testGetWithSelector
expectLogContaining
FileSet
fsDestination
FileSet
getProject
getReference
DirectoryScanner
dsDestination
getDirectoryScanner
getProject
scan
String
sortedDestinationDirectories
getIncludedDirectories
String
sortedDestinationFiles
getIncludedFiles
for
forControl
int
counter
counter
length
counter
block
sortedDestinationDirectories
counter
sortedDestinationDirectories
counter
replace
separatorChar
for
forControl
int
counter
counter
length
counter
block
sortedDestinationFiles
counter
sortedDestinationFiles
counter
replace
separatorChar
FileSet
fsSource
FileSet
getProject
getReference
DirectoryScanner
dsSource
getDirectoryScanner
getProject
scan
compareFiles
dsSource
sortedDestinationFiles
sortedDestinationDirectories
testGetFollowSymlinksTrue
if
supportsSymlinks
block
return
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FileSet
fsDestination
FileSet
getProject
getReference
DirectoryScanner
dsDestination
getDirectoryScanner
getProject
scan
compareFiles
dsDestination
String
String
testGetFollowSymlinksFalse
if
supportsSymlinks
block
return
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FileSet
fsDestination
FileSet
getProject
getReference
DirectoryScanner
dsDestination
getDirectoryScanner
getProject
scan
compareFiles
dsDestination
String
String
testAllowSymlinks
if
supportsSymlinks
block
return
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setFollowSymlinks
scan
compareFiles
ds
String
String
testProhibitSymlinks
if
supportsSymlinks
block
return
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setFollowSymlinks
scan
compareFiles
ds
String
String
testFileSymlink
if
supportsSymlinks
block
return
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setFollowSymlinks
scan
compareFiles
ds
String
String
testOrderOfIncludePatternsIrrelevant
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
String
expectedFiles
String
expectedDirectories
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
expectedFiles
expectedDirectories
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
expectedFiles
expectedDirectories
testPatternsDifferInCaseScanningSensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
testPatternsDifferInCaseScanningInsensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setCaseSensitive
scan
compareFiles
ds
String
String
testFullpathDiffersInCaseScanningSensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
testFullpathDiffersInCaseScanningInsensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setCaseSensitive
scan
compareFiles
ds
String
String
testParentDiffersInCaseScanningSensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
scan
compareFiles
ds
String
String
testParentDiffersInCaseScanningInsensitive
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setCaseSensitive
scan
compareFiles
ds
String
String
testExcludeOneFile
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setExcludes
String
scan
compareFiles
ds
String
String
testExcludeHasPrecedence
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setExcludes
String
scan
compareFiles
ds
String
String
testAlternateIncludeExclude
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setIncludes
String
setExcludes
String
scan
compareFiles
ds
String
String
testAlternateExcludeInclude
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setExcludes
String
setIncludes
String
scan
compareFiles
ds
String
String
testChildrenOfExcludedDirectory
if
loginSuceeded
block
return
if
changeRemoteDir
remoteTmpDir
block
return
getProject
executeTarget
FTP
FTPDirectoryScanner
ds
newScanner
ftp
setBasedir
File
getProject
getBaseDir
setExcludes
String
scan
compareFiles
ds
String
String
ds
newScanner
ftp
if
changeRemoteDir
remoteTmpDir
block
return
setBasedir
File
getProject
getBaseDir
setExcludes
String
scan
compareFiles
ds
String
String
CountLogListener
Vector
lastMatchGroups
RegexpMatcher
matcher
newRegexpMatcher
RegexpMatcherFactory
CountLogListener
pattern
String
matcher
setPattern
pattern
messageLogged
event
BuildEvent
String
message
getMessage
if
matcher
matches
message
block
lastMatchGroups
matcher
getGroups
message
messageLogged
event
getCount
int
if
lastMatchGroups
block
return
return
parseInt
String
lastMatchGroups
get
DefaultLogger
LogCounter
Map
searchMap
HashMap
int
matchCount
addLogMessageToSearch
message
String
put
message
Integer
messageLogged
event
BuildEvent
String
message
getMessage
Integer
mcnt
Integer
get
message
if
mcnt
block
put
message
Integer
intValue
messageLogged
event
getMatchCount
int
message
String
Integer
mcnt
Integer
get
message
if
mcnt
block
return
intValue
return
DefaultLogger
testTimezonePut
CountLogListener
log
CountLogListener
getProject
executeTarget
getProject
addBuildListener
log
getProject
executeTarget
assertEquals
getCount
testTimezoneGet
CountLogListener
log
CountLogListener
getProject
executeTarget
getProject
addBuildListener
log
getProject
executeTarget
assertEquals
getCount
testConfiguration1
int
expectedCounts
performConfigTest
expectedCounts
testConfiguration2
int
expectedCounts
performConfigTest
expectedCounts
testConfiguration3
int
expectedCounts
performConfigTest
expectedCounts
testConfigurationLang
int
expectedCounts
performConfigTest
expectedCounts
try
performConfigTest
expectedCounts
fail
catchClause
bx
assertTrue
bx
BuildException
testConfigurationNone
int
expectedCounts
performConfigTest
expectedCounts
performConfigTest
target
String
expectedCounts
int
String
messages
String
getProject
getProperty
LogCounter
counter
LogCounter
for
forControl
int
i
i
length
i
block
addLogMessageToSearch
messages
i
getProject
addBuildListener
counter
getProject
executeTarget
target
for
forControl
int
i
i
length
i
block
assertEquals
target
i
expectedCounts
i
getMatchCount
messages
i
testFTPDelete
getProject
executeTarget
compareFiles
ds
DirectoryScanner
expectedFiles
String
expectedDirectories
String
String
includedFiles
getIncludedFiles
String
includedDirectories
getIncludedDirectories
assertEquals
length
length
assertEquals
length
length
for
forControl
int
counter
counter
length
counter
block
includedFiles
counter
includedFiles
counter
replace
separatorChar
sort
includedFiles
for
forControl
int
counter
counter
length
counter
block
includedDirectories
counter
includedDirectories
counter
replace
separatorChar
sort
includedDirectories
for
forControl
int
counter
counter
length
counter
block
assertEquals
expectedFiles
counter
includedFiles
counter
for
forControl
int
counter
counter
length
counter
block
assertEquals
expectedDirectories
counter
includedDirectories
counter
counter
myFTP
newScanner
FTP
FTPDirectoryScanner
client
FTPClient
return
FTP
FTPDirectoryScanner
client
resolveFile
String
file
String
return
resolveFile
file
FTP
myRetryableFTP
int
numberOfFailuresToSimulate
int
simulatedFailuresLeft
myRetryableFTP
numberOfFailuresToSimulate
int
numberOfFailuresToSimulate
numberOfFailuresToSimulate
simulatedFailuresLeft
numberOfFailuresToSimulate
getFile
ftp
FTPClient
dir
String
filename
String
if
simulatedFailuresLeft
block
simulatedFailuresLeft
throw
IOException
getFile
ftp
dir
filename
executeRetryable
h
RetryHandler
r
Retryable
filename
String
simulatedFailuresLeft
numberOfFailuresToSimulate
executeRetryable
h
r
filename
FTP
oneFailureFTP
oneFailureFTP
myRetryableFTP
twoFailureFTP
twoFailureFTP
myRetryableFTP
threeFailureFTP
threeFailureFTP
myRetryableFTP
randomFailureFTP
randomFailureFTP
nextInt
MAX_VALUE
Random
myRetryableFTP
testGetWithSelectorRetryable1
getProject
addTaskDefinition
oneFailureFTP
try
getProject
executeTarget
catchClause
bx
fail
testGetWithSelectorRetryable2
getProject
addTaskDefinition
twoFailureFTP
try
getProject
executeTarget
catchClause
bx
fail
testGetWithSelectorRetryable3
getProject
addTaskDefinition
threeFailureFTP
try
getProject
executeTarget
fail
catchClause
bx
testGetWithSelectorRetryableRandom
getProject
addTaskDefinition
randomFailureFTP
try
getProject
setProperty
getProject
executeTarget
catchClause
bx
fail
testInitialCommand
performCommandTest
int
testSiteAction
performCommandTest
int
performCommandTest
target
String
expectedCounts
int
String
messages
String
LogCounter
counter
LogCounter
for
forControl
int
i
i
length
i
block
addLogMessageToSearch
messages
i
getProject
addBuildListener
counter
getProject
executeTarget
target
for
forControl
int
i
i
length
i
block
assertEquals
target
i
expectedCounts
i
getMatchCount
messages
i
BuildFileTest
