package
org
.
apache
.
lucene
.
util
.
cache
;
public
abstract
class
Cache
{
static
class
SynchronizedCache
extends
Cache
{
Object
mutex
;
Cache
cache
;
SynchronizedCache
(
Cache
cache
)
{
this
.
cache
=
cache
;
this
.
mutex
=
this
;
}
SynchronizedCache
(
Cache
cache
,
Object
mutex
)
{
this
.
cache
=
cache
;
this
.
mutex
=
mutex
;
}
public
void
put
(
Object
key
,
Object
value
)
{
synchronized
(
mutex
)
{
cache
.
put
(
key
,
value
)
;
}
}
public
Object
get
(
Object
key
)
{
synchronized
(
mutex
)
{
return
cache
.
get
(
key
)
;
}
}
public
boolean
containsKey
(
Object
key
)
{
synchronized
(
mutex
)
{
return
cache
.
containsKey
(
key
)
;
}
}
public
void
close
(
)
{
synchronized
(
mutex
)
{
cache
.
close
(
)
;
}
}
Cache
getSynchronizedCache
(
)
{
return
this
;
}
}
public
static
Cache
synchronizedCache
(
Cache
cache
)
{
return
cache
.
getSynchronizedCache
(
)
;
}
Cache
getSynchronizedCache
(
)
{
return
new
SynchronizedCache
(
this
)
;
}
public
abstract
void
put
(
Object
key
,
Object
value
)
;
public
abstract
Object
get
(
Object
key
)
;
public
abstract
boolean
containsKey
(
Object
key
)
;
public
abstract
void
close
(
)
;
}
