package
org
.
apache
.
lucene
.
document
;
import
java
.
util
.
*
;
import
org
.
apache
.
lucene
.
search
.
ScoreDoc
;
import
org
.
apache
.
lucene
.
search
.
Searcher
;
import
org
.
apache
.
lucene
.
index
.
IndexReader
;
public
final
class
Document
implements
java
.
io
.
Serializable
{
List
fields
=
new
ArrayList
(
)
;
private
float
boost
=
1.0f
;
public
Document
(
)
{
}
public
void
setBoost
(
float
boost
)
{
this
.
boost
=
boost
;
}
public
float
getBoost
(
)
{
return
boost
;
}
public
final
void
add
(
Fieldable
field
)
{
fields
.
add
(
field
)
;
}
public
final
void
removeField
(
String
name
)
{
Iterator
it
=
fields
.
iterator
(
)
;
while
(
it
.
hasNext
(
)
)
{
Fieldable
field
=
(
Fieldable
)
it
.
next
(
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
{
it
.
remove
(
)
;
return
;
}
}
}
public
final
void
removeFields
(
String
name
)
{
Iterator
it
=
fields
.
iterator
(
)
;
while
(
it
.
hasNext
(
)
)
{
Fieldable
field
=
(
Fieldable
)
it
.
next
(
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
{
it
.
remove
(
)
;
}
}
}
public
final
Field
getField
(
String
name
)
{
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Field
field
=
(
Field
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
return
field
;
}
return
null
;
}
public
Fieldable
getFieldable
(
String
name
)
{
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
return
field
;
}
return
null
;
}
public
final
String
get
(
String
name
)
{
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
&&
(
!
field
.
isBinary
(
)
)
)
return
field
.
stringValue
(
)
;
}
return
null
;
}
public
final
Enumeration
fields
(
)
{
return
new
Enumeration
(
)
{
final
Iterator
iter
=
fields
.
iterator
(
)
;
public
boolean
hasMoreElements
(
)
{
return
iter
.
hasNext
(
)
;
}
public
Object
nextElement
(
)
{
return
iter
.
next
(
)
;
}
}
;
}
public
final
List
getFields
(
)
{
return
fields
;
}
private
final
static
Field
[
]
NO_FIELDS
=
new
Field
[
0
]
;
public
final
Field
[
]
getFields
(
String
name
)
{
List
result
=
new
ArrayList
(
)
;
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Field
field
=
(
Field
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
{
result
.
add
(
field
)
;
}
}
if
(
result
.
size
(
)
==
0
)
return
NO_FIELDS
;
return
(
Field
[
]
)
result
.
toArray
(
new
Field
[
result
.
size
(
)
]
)
;
}
private
final
static
Fieldable
[
]
NO_FIELDABLES
=
new
Fieldable
[
0
]
;
public
Fieldable
[
]
getFieldables
(
String
name
)
{
List
result
=
new
ArrayList
(
)
;
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
)
{
result
.
add
(
field
)
;
}
}
if
(
result
.
size
(
)
==
0
)
return
NO_FIELDABLES
;
return
(
Fieldable
[
]
)
result
.
toArray
(
new
Fieldable
[
result
.
size
(
)
]
)
;
}
private
final
static
String
[
]
NO_STRINGS
=
new
String
[
0
]
;
public
final
String
[
]
getValues
(
String
name
)
{
List
result
=
new
ArrayList
(
)
;
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
&&
(
!
field
.
isBinary
(
)
)
)
result
.
add
(
field
.
stringValue
(
)
)
;
}
if
(
result
.
size
(
)
==
0
)
return
NO_STRINGS
;
return
(
String
[
]
)
result
.
toArray
(
new
String
[
result
.
size
(
)
]
)
;
}
private
final
static
byte
[
]
[
]
NO_BYTES
=
new
byte
[
0
]
[
]
;
public
final
byte
[
]
[
]
getBinaryValues
(
String
name
)
{
List
result
=
new
ArrayList
(
)
;
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
&&
(
field
.
isBinary
(
)
)
)
result
.
add
(
field
.
binaryValue
(
)
)
;
}
if
(
result
.
size
(
)
==
0
)
return
NO_BYTES
;
return
(
byte
[
]
[
]
)
result
.
toArray
(
new
byte
[
result
.
size
(
)
]
[
]
)
;
}
public
final
byte
[
]
getBinaryValue
(
String
name
)
{
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
if
(
field
.
name
(
)
.
equals
(
name
)
&&
(
field
.
isBinary
(
)
)
)
return
field
.
binaryValue
(
)
;
}
return
null
;
}
public
final
String
toString
(
)
{
StringBuffer
buffer
=
new
StringBuffer
(
)
;
buffer
.
append
(
"Document<"
)
;
for
(
int
i
=
0
;
i
<
fields
.
size
(
)
;
i
++
)
{
Fieldable
field
=
(
Fieldable
)
fields
.
get
(
i
)
;
buffer
.
append
(
field
.
toString
(
)
)
;
if
(
i
!=
fields
.
size
(
)
-
1
)
buffer
.
append
(
" "
)
;
}
buffer
.
append
(
">"
)
;
return
buffer
.
toString
(
)
;
}
}
