package
org
.
apache
.
lucene
.
search
.
spans
;
import
org
.
apache
.
lucene
.
index
.
IndexReader
;
import
org
.
apache
.
lucene
.
index
.
Term
;
import
org
.
apache
.
lucene
.
util
.
ToStringUtils
;
import
java
.
io
.
IOException
;
import
java
.
util
.
ArrayList
;
import
java
.
util
.
Collection
;
import
java
.
util
.
Set
;
public
class
SpanTermQuery
extends
SpanQuery
{
protected
Term
term
;
public
SpanTermQuery
(
Term
term
)
{
this
.
term
=
term
;
}
public
Term
getTerm
(
)
{
return
term
;
}
public
String
getField
(
)
{
return
term
.
field
(
)
;
}
public
Collection
getTerms
(
)
{
Collection
terms
=
new
ArrayList
(
)
;
terms
.
add
(
term
)
;
return
terms
;
}
public
void
extractTerms
(
Set
terms
)
{
terms
.
add
(
term
)
;
}
public
String
toString
(
String
field
)
{
StringBuffer
buffer
=
new
StringBuffer
(
)
;
if
(
term
.
field
(
)
.
equals
(
field
)
)
buffer
.
append
(
term
.
text
(
)
)
;
else
buffer
.
append
(
term
.
toString
(
)
)
;
buffer
.
append
(
ToStringUtils
.
boost
(
getBoost
(
)
)
)
;
return
buffer
.
toString
(
)
;
}
public
boolean
equals
(
Object
o
)
{
if
(
!
(
o
instanceof
SpanTermQuery
)
)
return
false
;
SpanTermQuery
other
=
(
SpanTermQuery
)
o
;
return
(
this
.
getBoost
(
)
==
other
.
getBoost
(
)
)
&&
this
.
term
.
equals
(
other
.
term
)
;
}
public
int
hashCode
(
)
{
return
Float
.
floatToIntBits
(
getBoost
(
)
)
^
term
.
hashCode
(
)
^
0xD23FE494
;
}
public
Spans
getSpans
(
final
IndexReader
reader
)
throws
IOException
{
return
new
TermSpans
(
reader
.
termPositions
(
term
)
,
term
)
;
}
}
