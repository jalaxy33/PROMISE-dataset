package
org
.
apache
.
lucene
.
search
;
import
java
.
io
.
Serializable
;
import
java
.
util
.
Locale
;
public
class
SortField
implements
Serializable
{
public
static
final
int
SCORE
=
0
;
public
static
final
int
DOC
=
1
;
public
static
final
int
AUTO
=
2
;
public
static
final
int
STRING
=
3
;
public
static
final
int
INT
=
4
;
public
static
final
int
FLOAT
=
5
;
public
static
final
int
CUSTOM
=
9
;
public
static
final
SortField
FIELD_SCORE
=
new
SortField
(
null
,
SCORE
)
;
public
static
final
SortField
FIELD_DOC
=
new
SortField
(
null
,
DOC
)
;
private
String
field
;
private
int
type
=
AUTO
;
private
Locale
locale
;
boolean
reverse
=
false
;
private
SortComparatorSource
factory
;
public
SortField
(
String
field
)
{
this
.
field
=
field
.
intern
(
)
;
}
public
SortField
(
String
field
,
boolean
reverse
)
{
this
.
field
=
field
.
intern
(
)
;
this
.
reverse
=
reverse
;
}
public
SortField
(
String
field
,
int
type
)
{
this
.
field
=
(
field
!=
null
)
?
field
.
intern
(
)
:
field
;
this
.
type
=
type
;
}
public
SortField
(
String
field
,
int
type
,
boolean
reverse
)
{
this
.
field
=
(
field
!=
null
)
?
field
.
intern
(
)
:
field
;
this
.
type
=
type
;
this
.
reverse
=
reverse
;
}
public
SortField
(
String
field
,
Locale
locale
)
{
this
.
field
=
field
.
intern
(
)
;
this
.
type
=
STRING
;
this
.
locale
=
locale
;
}
public
SortField
(
String
field
,
Locale
locale
,
boolean
reverse
)
{
this
.
field
=
field
.
intern
(
)
;
this
.
type
=
STRING
;
this
.
locale
=
locale
;
this
.
reverse
=
reverse
;
}
public
SortField
(
String
field
,
SortComparatorSource
comparator
)
{
this
.
field
=
(
field
!=
null
)
?
field
.
intern
(
)
:
field
;
this
.
type
=
CUSTOM
;
this
.
factory
=
comparator
;
}
public
SortField
(
String
field
,
SortComparatorSource
comparator
,
boolean
reverse
)
{
this
.
field
=
(
field
!=
null
)
?
field
.
intern
(
)
:
field
;
this
.
type
=
CUSTOM
;
this
.
reverse
=
reverse
;
this
.
factory
=
comparator
;
}
public
String
getField
(
)
{
return
field
;
}
public
int
getType
(
)
{
return
type
;
}
public
Locale
getLocale
(
)
{
return
locale
;
}
public
boolean
getReverse
(
)
{
return
reverse
;
}
public
SortComparatorSource
getFactory
(
)
{
return
factory
;
}
public
String
toString
(
)
{
StringBuffer
buffer
=
new
StringBuffer
(
)
;
switch
(
type
)
{
case
SCORE
:
buffer
.
append
(
"<score>"
)
;
break
;
case
DOC
:
buffer
.
append
(
"<doc>"
)
;
break
;
case
CUSTOM
:
buffer
.
append
(
"<custom:\""
+
field
+
"\": "
+
factory
+
">"
)
;
break
;
default
:
buffer
.
append
(
"\""
+
field
+
"\""
)
;
break
;
}
if
(
locale
!=
null
)
buffer
.
append
(
"("
+
locale
+
")"
)
;
if
(
reverse
)
buffer
.
append
(
'!'
)
;
return
buffer
.
toString
(
)
;
}
}
