package
org
.
apache
.
poi
.
util
;
import
org
.
apache
.
poi
.
util
.
LittleEndian
.
BufferUnderrunException
;
import
java
.
io
.
*
;
public
class
ByteField
implements
FixedField
{
private
static
final
byte
_default_value
=
0
;
private
byte
_value
;
private
final
int
_offset
;
public
ByteField
(
final
int
offset
)
throws
ArrayIndexOutOfBoundsException
{
this
(
offset
,
_default_value
)
;
}
public
ByteField
(
final
int
offset
,
final
byte
value
)
throws
ArrayIndexOutOfBoundsException
{
if
(
offset
<
0
)
{
throw
new
ArrayIndexOutOfBoundsException
(
"offset cannot be negative"
)
;
}
_offset
=
offset
;
set
(
value
)
;
}
public
ByteField
(
final
int
offset
,
final
byte
[
]
data
)
throws
ArrayIndexOutOfBoundsException
{
this
(
offset
)
;
readFromBytes
(
data
)
;
}
public
ByteField
(
final
int
offset
,
final
byte
value
,
final
byte
[
]
data
)
throws
ArrayIndexOutOfBoundsException
{
this
(
offset
,
value
)
;
writeToBytes
(
data
)
;
}
public
byte
get
(
)
{
return
_value
;
}
public
void
set
(
final
byte
value
)
{
_value
=
value
;
}
public
void
set
(
final
byte
value
,
final
byte
[
]
data
)
throws
ArrayIndexOutOfBoundsException
{
set
(
value
)
;
writeToBytes
(
data
)
;
}
public
void
readFromBytes
(
final
byte
[
]
data
)
throws
ArrayIndexOutOfBoundsException
{
_value
=
data
[
_offset
]
;
}
public
void
readFromStream
(
final
InputStream
stream
)
throws
IOException
,
BufferUnderrunException
{
_value
=
(
LittleEndian
.
readFromStream
(
stream
,
LittleEndianConsts
.
BYTE_SIZE
)
)
[
0
]
;
}
public
void
writeToBytes
(
final
byte
[
]
data
)
throws
ArrayIndexOutOfBoundsException
{
data
[
_offset
]
=
_value
;
}
public
String
toString
(
)
{
return
String
.
valueOf
(
_value
)
;
}
}
