package
fr
.
jayasoft
.
ivy
.
latest
;
import
java
.
util
.
Comparator
;
import
fr
.
jayasoft
.
ivy
.
ArtifactInfo
;
public
class
LatestLexicographicStrategy
extends
ComparatorLatestStrategy
{
private
static
Comparator
COMPARATOR
=
new
Comparator
(
)
{
public
int
compare
(
Object
o1
,
Object
o2
)
{
String
rev1
=
(
(
ArtifactInfo
)
o1
)
.
getRevision
(
)
;
String
rev2
=
(
(
ArtifactInfo
)
o2
)
.
getRevision
(
)
;
if
(
rev1
.
startsWith
(
"latest"
)
)
{
return
1
;
}
if
(
rev1
.
endsWith
(
"+"
)
&&
rev2
.
startsWith
(
rev1
.
substring
(
0
,
rev1
.
length
(
)
-
1
)
)
)
{
return
1
;
}
if
(
rev2
.
startsWith
(
"latest"
)
)
{
return
-
1
;
}
if
(
rev2
.
endsWith
(
"+"
)
&&
rev1
.
startsWith
(
rev2
.
substring
(
0
,
rev2
.
length
(
)
-
1
)
)
)
{
return
-
1
;
}
return
rev1
.
compareTo
(
rev2
)
;
}
}
;
public
LatestLexicographicStrategy
(
)
{
super
(
COMPARATOR
)
;
setName
(
"latest-lexico"
)
;
}
}
