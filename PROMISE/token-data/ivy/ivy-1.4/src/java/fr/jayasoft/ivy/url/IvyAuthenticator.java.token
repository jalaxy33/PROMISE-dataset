package
fr
.
jayasoft
.
ivy
.
url
;
import
java
.
net
.
Authenticator
;
import
java
.
net
.
PasswordAuthentication
;
import
fr
.
jayasoft
.
ivy
.
util
.
Credentials
;
import
fr
.
jayasoft
.
ivy
.
util
.
Message
;
public
final
class
IvyAuthenticator
extends
Authenticator
{
public
final
static
IvyAuthenticator
INSTANCE
=
new
IvyAuthenticator
(
)
;
private
IvyAuthenticator
(
)
{
Authenticator
.
setDefault
(
this
)
;
}
protected
PasswordAuthentication
getPasswordAuthentication
(
)
{
Credentials
c
=
CredentialsStore
.
INSTANCE
.
getCredentials
(
getRequestingPrompt
(
)
,
getRequestingHost
(
)
)
;
Message
.
debug
(
"authentication: k='"
+
Credentials
.
buildKey
(
getRequestingPrompt
(
)
,
getRequestingHost
(
)
)
+
"' c='"
+
c
+
"'"
)
;
return
c
!=
null
?
new
PasswordAuthentication
(
c
.
getUserName
(
)
,
c
.
getPasswd
(
)
.
toCharArray
(
)
)
:
null
;
}
}
