package
fr
.
jayasoft
.
ivy
.
repository
;
import
java
.
io
.
File
;
public
class
TransferEvent
{
public
static
final
int
TRANSFER_INITIATED
=
0
;
public
final
static
int
TRANSFER_STARTED
=
1
;
public
final
static
int
TRANSFER_COMPLETED
=
2
;
public
final
static
int
TRANSFER_PROGRESS
=
3
;
public
final
static
int
TRANSFER_ERROR
=
4
;
public
final
static
int
REQUEST_GET
=
5
;
public
final
static
int
REQUEST_PUT
=
6
;
private
Resource
_resource
;
private
int
_eventType
;
private
int
_requestType
;
private
Exception
_exception
;
private
File
_localFile
;
private
Repository
_repository
;
private
byte
[
]
_buffer
;
private
long
_length
;
private
long
_totalLength
;
public
TransferEvent
(
final
Repository
repository
,
final
Resource
resource
,
final
int
eventType
,
final
int
requestType
)
{
_repository
=
repository
;
_resource
=
resource
;
setEventType
(
eventType
)
;
setRequestType
(
requestType
)
;
}
public
TransferEvent
(
final
Repository
repository
,
final
Resource
resource
,
final
Exception
exception
,
final
int
requestType
)
{
this
(
repository
,
resource
,
TRANSFER_ERROR
,
requestType
)
;
_exception
=
exception
;
}
public
TransferEvent
(
final
Repository
repository
,
final
Resource
resource
,
byte
[
]
buffer
,
long
length
,
final
int
requestType
)
{
this
(
repository
,
resource
,
TRANSFER_PROGRESS
,
requestType
)
;
_buffer
=
buffer
;
_length
=
length
;
_totalLength
=
length
;
}
public
Resource
getResource
(
)
{
return
_resource
;
}
public
Exception
getException
(
)
{
return
_exception
;
}
public
int
getRequestType
(
)
{
return
_requestType
;
}
protected
void
setRequestType
(
final
int
requestType
)
{
switch
(
requestType
)
{
case
REQUEST_PUT
:
break
;
case
REQUEST_GET
:
break
;
default
:
throw
new
IllegalArgumentException
(
"Illegal request type: "
+
requestType
)
;
}
_requestType
=
requestType
;
}
public
int
getEventType
(
)
{
return
_eventType
;
}
protected
void
setEventType
(
final
int
eventType
)
{
switch
(
eventType
)
{
case
TRANSFER_INITIATED
:
break
;
case
TRANSFER_STARTED
:
break
;
case
TRANSFER_COMPLETED
:
break
;
case
TRANSFER_PROGRESS
:
break
;
case
TRANSFER_ERROR
:
break
;
default
:
throw
new
IllegalArgumentException
(
"Illegal event type: "
+
eventType
)
;
}
this
.
_eventType
=
eventType
;
}
protected
void
setResource
(
final
Resource
resource
)
{
_resource
=
resource
;
}
public
File
getLocalFile
(
)
{
return
_localFile
;
}
protected
void
setLocalFile
(
File
localFile
)
{
_localFile
=
localFile
;
}
public
byte
[
]
getBuffer
(
)
{
return
_buffer
;
}
protected
void
setBuffer
(
byte
[
]
buffer
)
{
_buffer
=
buffer
;
}
public
long
getLength
(
)
{
return
_length
;
}
protected
void
setLength
(
long
length
)
{
_length
=
length
;
}
public
long
getTotalLength
(
)
{
return
_totalLength
;
}
protected
void
setTotalLength
(
long
totalLength
)
{
_totalLength
=
totalLength
;
}
public
void
setException
(
Exception
exception
)
{
_exception
=
exception
;
}
}
