package
org
.
apache
.
xml
.
serialize
;
import
java
.
io
.
Writer
;
import
java
.
io
.
OutputStream
;
import
java
.
io
.
OutputStreamWriter
;
import
java
.
io
.
UnsupportedEncodingException
;
class
Encodings
{
static
final
int
DefaultLastPrintable
=
0x7F
;
static
Writer
getWriter
(
OutputStream
output
,
String
encoding
)
throws
UnsupportedEncodingException
{
for
(
int
i
=
0
;
i
<
_encodings
.
length
;
++
i
)
{
if
(
_encodings
[
i
]
.
name
.
equals
(
encoding
)
)
return
new
OutputStreamWriter
(
output
,
_encodings
[
i
]
.
javaName
)
;
}
return
new
OutputStreamWriter
(
output
,
encoding
)
;
}
static
int
getLastPrintable
(
String
encoding
)
{
for
(
int
i
=
0
;
i
<
_encodings
.
length
;
++
i
)
{
if
(
_encodings
[
i
]
.
name
.
equalsIgnoreCase
(
encoding
)
)
return
_encodings
[
i
]
.
lastPrintable
;
}
return
DefaultLastPrintable
;
}
static
int
getLastPrintable
(
)
{
return
DefaultLastPrintable
;
}
static
final
class
EncodingInfo
{
final
String
name
;
final
String
javaName
;
final
int
lastPrintable
;
EncodingInfo
(
String
name
,
String
javaName
,
int
lastPrintable
)
{
this
.
name
=
name
;
this
.
javaName
=
javaName
;
this
.
lastPrintable
=
lastPrintable
;
}
}
private
static
final
EncodingInfo
[
]
_encodings
=
new
EncodingInfo
[
]
{
new
EncodingInfo
(
"ASCII"
,
"ASCII"
,
0x7F
)
,
new
EncodingInfo
(
"ISO-Latin-1"
,
"ASCII"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-1"
,
"ISO8859_1"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-2"
,
"ISO8859_2"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-3"
,
"ISO8859_3"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-4"
,
"ISO8859_4"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-5"
,
"ISO8859_5"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-6"
,
"ISO8859_6"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-7"
,
"ISO8859_7"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-8"
,
"ISO8859_8"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-9"
,
"ISO8859_9"
,
0xFF
)
,
new
EncodingInfo
(
"UTF-8"
,
"UTF8"
,
0xFFFF
)
,
new
EncodingInfo
(
"UNICODE"
,
"Unicode"
,
0xFFFF
)
}
;
}
