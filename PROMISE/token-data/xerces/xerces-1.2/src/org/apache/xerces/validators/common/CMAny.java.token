package
org
.
apache
.
xerces
.
validators
.
common
;
import
org
.
apache
.
xerces
.
framework
.
XMLContentSpec
;
import
org
.
apache
.
xerces
.
utils
.
ImplementationMessages
;
import
org
.
apache
.
xerces
.
utils
.
QName
;
import
org
.
apache
.
xerces
.
utils
.
StringPool
;
public
class
CMAny
extends
CMNode
{
private
int
fType
;
private
int
fURI
;
private
int
fPosition
=
-
1
;
public
CMAny
(
int
type
,
int
uri
,
int
position
)
throws
CMException
{
super
(
type
)
;
fType
=
type
;
fURI
=
uri
;
fPosition
=
position
;
}
final
int
getType
(
)
{
return
fType
;
}
final
int
getURI
(
)
{
return
fURI
;
}
final
int
getPosition
(
)
{
return
fPosition
;
}
final
void
setPosition
(
int
newPosition
)
{
fPosition
=
newPosition
;
}
boolean
isNullable
(
)
throws
CMException
{
return
(
fPosition
==
-
1
)
;
}
String
toString
(
StringPool
stringPool
)
{
StringBuffer
strRet
=
new
StringBuffer
(
)
;
strRet
.
append
(
"("
)
;
strRet
.
append
(
"##any:uri="
)
;
strRet
.
append
(
stringPool
.
toString
(
fURI
)
)
;
strRet
.
append
(
')'
)
;
if
(
fPosition
>=
0
)
{
strRet
.
append
(
" (Pos:"
+
new
Integer
(
fPosition
)
.
toString
(
)
+
")"
)
;
}
return
strRet
.
toString
(
)
;
}
protected
void
calcFirstPos
(
CMStateSet
toSet
)
throws
CMException
{
if
(
fPosition
==
-
1
)
toSet
.
zeroBits
(
)
;
else
toSet
.
setBit
(
fPosition
)
;
}
protected
void
calcLastPos
(
CMStateSet
toSet
)
throws
CMException
{
if
(
fPosition
==
-
1
)
toSet
.
zeroBits
(
)
;
else
toSet
.
setBit
(
fPosition
)
;
}
}
