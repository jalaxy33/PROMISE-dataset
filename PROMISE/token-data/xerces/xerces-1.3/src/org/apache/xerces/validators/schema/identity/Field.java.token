package
org
.
apache
.
xerces
.
validators
.
schema
.
identity
;
import
org
.
apache
.
xerces
.
utils
.
NamespacesScope
;
import
org
.
apache
.
xerces
.
utils
.
StringPool
;
import
org
.
apache
.
xerces
.
validators
.
datatype
.
DatatypeValidator
;
import
org
.
xml
.
sax
.
SAXException
;
public
class
Field
{
protected
Field
.
XPath
fXPath
;
protected
DatatypeValidator
fDatatypeValidator
;
protected
IdentityConstraint
fIdentityConstraint
;
public
Field
(
Field
.
XPath
xpath
,
DatatypeValidator
datatypeValidator
,
IdentityConstraint
identityConstraint
)
{
fXPath
=
xpath
;
fDatatypeValidator
=
datatypeValidator
;
fIdentityConstraint
=
identityConstraint
;
}
public
org
.
apache
.
xerces
.
validators
.
schema
.
identity
.
XPath
getXPath
(
)
{
return
fXPath
;
}
public
DatatypeValidator
getDatatypeValidator
(
)
{
return
fDatatypeValidator
;
}
public
IdentityConstraint
getIdentityConstraint
(
)
{
return
fIdentityConstraint
;
}
public
XPathMatcher
createMatcher
(
ValueStore
store
)
{
return
new
Field
.
Matcher
(
fXPath
,
store
)
;
}
public
String
toString
(
)
{
return
fXPath
.
toString
(
)
;
}
public
static
class
XPath
extends
org
.
apache
.
xerces
.
validators
.
schema
.
identity
.
XPath
{
public
XPath
(
String
xpath
,
StringPool
stringPool
,
NamespacesScope
context
)
throws
XPathException
{
super
(
"./"
+
xpath
,
stringPool
,
context
)
;
}
}
protected
class
Matcher
extends
XPathMatcher
{
protected
ValueStore
fStore
;
public
Matcher
(
Field
.
XPath
xpath
,
ValueStore
store
)
{
super
(
xpath
)
;
fStore
=
store
;
}
protected
void
matched
(
String
content
)
throws
Exception
{
super
.
matched
(
content
)
;
fStore
.
addValue
(
Field
.
this
,
content
)
;
}
}
}
