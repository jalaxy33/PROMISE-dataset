package
org
.
apache
.
xml
.
serialize
;
import
java
.
io
.
Writer
;
import
java
.
io
.
OutputStream
;
import
java
.
io
.
OutputStreamWriter
;
import
java
.
io
.
UnsupportedEncodingException
;
class
Encodings
{
static
final
int
DefaultLastPrintable
=
0x7F
;
static
EncodingInfo
getEncodingInfo
(
String
encoding
)
{
if
(
encoding
==
null
)
return
new
EncodingInfo
(
null
,
DefaultLastPrintable
)
;
for
(
int
i
=
0
;
i
<
_encodings
.
length
;
i
++
)
{
if
(
_encodings
[
i
]
.
name
.
equalsIgnoreCase
(
encoding
)
)
return
_encodings
[
i
]
;
}
return
new
SieveEncodingInfo
(
encoding
,
DefaultLastPrintable
)
;
}
static
final
String
JIS_DANGER_CHARS
=
"\\~¢£¥¬"
+
"—―‖…‾‾∥∯〜"
+
"＼～￠￡￢￣"
;
private
static
final
EncodingInfo
[
]
_encodings
=
new
EncodingInfo
[
]
{
new
EncodingInfo
(
"ASCII"
,
0x7F
)
,
new
EncodingInfo
(
"US-ASCII"
,
0x7F
)
,
new
EncodingInfo
(
"ISO-8859-1"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-2"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-3"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-4"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-5"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-6"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-7"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-8"
,
0xFF
)
,
new
EncodingInfo
(
"ISO-8859-9"
,
0xFF
)
,
new
EncodingInfo
(
"UTF-8"
,
"UTF8"
,
0x10FFFF
)
,
new
SieveEncodingInfo
(
"Shift_JIS"
,
"SJIS"
,
0x7F
,
JIS_DANGER_CHARS
)
,
new
SieveEncodingInfo
(
"Windows-31J"
,
"MS932"
,
0x7F
,
JIS_DANGER_CHARS
)
,
new
SieveEncodingInfo
(
"EUC-JP"
,
null
,
0x7F
,
JIS_DANGER_CHARS
)
,
new
SieveEncodingInfo
(
"ISO-2022-JP"
,
null
,
0x7F
,
JIS_DANGER_CHARS
)
,
}
;
}
