package
org
.
apache
.
xerces
.
dom
;
import
org
.
w3c
.
dom
.
*
;
public
class
TextImpl
extends
CharacterDataImpl
implements
Text
{
static
final
long
serialVersionUID
=
-
5294980852957403469L
;
protected
boolean
ignorableWhitespace
;
public
TextImpl
(
DocumentImpl
ownerDoc
,
String
data
)
{
super
(
ownerDoc
,
data
)
;
}
public
short
getNodeType
(
)
{
return
Node
.
TEXT_NODE
;
}
public
String
getNodeName
(
)
{
return
"#text"
;
}
public
Node
cloneNode
(
boolean
deep
)
{
return
ownerDocument
.
createTextNode
(
getNodeValue
(
)
)
;
}
public
void
setIgnorableWhitespace
(
boolean
ignore
)
{
if
(
syncData
)
{
synchronizeData
(
)
;
}
ignorableWhitespace
=
ignore
;
}
public
boolean
isIgnorableWhitespace
(
)
{
if
(
syncData
)
{
synchronizeData
(
)
;
}
return
ignorableWhitespace
;
}
public
Text
splitText
(
int
offset
)
throws
DOMException
{
if
(
readOnly
)
{
throw
new
DOMExceptionImpl
(
DOMException
.
NO_MODIFICATION_ALLOWED_ERR
,
"NO_MODIFICATION_ALLOWED_ERR"
)
;
}
if
(
syncData
)
{
synchronizeData
(
)
;
}
if
(
offset
<
0
||
offset
>
value
.
length
(
)
-
1
)
{
throw
new
DOMExceptionImpl
(
DOMException
.
INDEX_SIZE_ERR
,
"INDEX_SIZE_ERR"
)
;
}
Text
newText
=
ownerDocument
.
createTextNode
(
value
.
substring
(
offset
)
)
;
setNodeValue
(
value
.
substring
(
0
,
offset
)
)
;
if
(
parentNode
!=
null
)
{
parentNode
.
insertBefore
(
newText
,
nextSibling
)
;
}
return
newText
;
}
}
