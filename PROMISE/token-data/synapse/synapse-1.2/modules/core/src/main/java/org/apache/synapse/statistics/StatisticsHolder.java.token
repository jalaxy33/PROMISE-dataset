package
org
.
apache
.
synapse
.
statistics
;
public
class
StatisticsHolder
{
private
int
statisticsCategory
;
private
String
key
;
private
Statistics
inFlowStatistics
;
private
Statistics
outFlowStatistics
;
public
synchronized
void
update
(
boolean
isResponse
,
long
inTime
,
long
outTime
,
boolean
isFault
)
{
if
(
isResponse
)
{
if
(
outFlowStatistics
==
null
)
{
outFlowStatistics
=
new
Statistics
(
)
;
}
outFlowStatistics
.
update
(
inTime
,
outTime
,
isFault
)
;
}
else
{
if
(
inFlowStatistics
==
null
)
{
inFlowStatistics
=
new
Statistics
(
)
;
}
inFlowStatistics
.
update
(
inTime
,
outTime
,
isFault
)
;
}
}
public
synchronized
Statistics
getInFlowStatistics
(
)
{
return
inFlowStatistics
;
}
public
synchronized
Statistics
getOutFlowStatistics
(
)
{
return
outFlowStatistics
;
}
public
int
getStatisticsCategory
(
)
{
return
statisticsCategory
;
}
public
void
setStatisticsCategory
(
int
statisticsCategory
)
{
this
.
statisticsCategory
=
statisticsCategory
;
}
public
String
getKey
(
)
{
return
key
;
}
public
void
setKey
(
String
key
)
{
this
.
key
=
key
;
}
public
synchronized
void
clearStatistics
(
)
{
this
.
inFlowStatistics
=
null
;
this
.
outFlowStatistics
=
null
;
}
}
