package
org
.
apache
.
synapse
.
core
.
axis2
;
import
org
.
apache
.
synapse
.
config
.
SynapseConfigUtils
;
import
org
.
apache
.
synapse
.
config
.
SynapseConfiguration
;
import
org
.
apache
.
ws
.
commons
.
schema
.
resolver
.
URIResolver
;
import
org
.
xml
.
sax
.
InputSource
;
public
class
CustomURIResolver
implements
URIResolver
{
private
ResourceMap
resourceMap
;
private
SynapseConfiguration
synCfg
;
public
CustomURIResolver
(
)
{
}
public
CustomURIResolver
(
ResourceMap
resourceMap
,
SynapseConfiguration
synCfg
)
{
this
(
)
;
this
.
resourceMap
=
resourceMap
;
this
.
synCfg
=
synCfg
;
}
public
InputSource
resolveEntity
(
String
targetNamespace
,
String
schemaLocation
,
String
baseUri
)
{
InputSource
result
=
null
;
if
(
resourceMap
!=
null
)
{
result
=
resourceMap
.
resolve
(
synCfg
,
schemaLocation
)
;
}
if
(
result
==
null
)
{
result
=
new
InputSource
(
SynapseConfigUtils
.
resolveRelativeURI
(
baseUri
,
schemaLocation
)
)
;
}
return
result
;
}
}
