package
org
.
apache
.
synapse
.
config
.
xml
;
import
org
.
apache
.
synapse
.
mediators
.
AbstractListMediator
;
import
org
.
apache
.
synapse
.
MessageContext
;
import
org
.
apache
.
commons
.
logging
.
Log
;
import
org
.
apache
.
commons
.
logging
.
LogFactory
;
import
java
.
util
.
regex
.
Pattern
;
import
java
.
util
.
regex
.
Matcher
;
public
class
SwitchCase
{
private
static
final
Log
log
=
LogFactory
.
getLog
(
SwitchCase
.
class
)
;
private
Pattern
regex
=
null
;
private
AnonymousListMediator
caseMediator
;
public
SwitchCase
(
)
{
}
public
boolean
mediate
(
MessageContext
synCtx
)
{
if
(
caseMediator
!=
null
)
{
return
caseMediator
.
mediate
(
synCtx
)
;
}
return
true
;
}
public
AnonymousListMediator
getCaseMediator
(
)
{
return
caseMediator
;
}
public
void
setCaseMediator
(
AnonymousListMediator
caseMediator
)
{
this
.
caseMediator
=
caseMediator
;
}
public
Pattern
getRegex
(
)
{
return
regex
;
}
public
void
setRegex
(
Pattern
regex
)
{
this
.
regex
=
regex
;
}
public
boolean
matches
(
String
value
)
{
Matcher
matcher
=
regex
.
matcher
(
value
)
;
if
(
matcher
==
null
)
{
return
false
;
}
boolean
retVal
=
matcher
.
matches
(
)
;
log
.
debug
(
"Case : "
+
regex
.
pattern
(
)
+
" evaluated to : "
+
retVal
)
;
return
retVal
;
}
}
