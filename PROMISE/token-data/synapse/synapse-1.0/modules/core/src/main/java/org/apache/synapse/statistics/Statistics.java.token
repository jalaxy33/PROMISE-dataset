package
org
.
apache
.
synapse
.
statistics
;
public
class
Statistics
{
private
long
maxProcessingTime
=
0
;
private
long
minProcessingTime
=
-
1
;
private
double
avgProcessingTime
=
0
;
private
double
totalProcessingTime
;
private
int
count
=
0
;
private
int
faultCount
=
0
;
public
void
update
(
long
inTime
,
long
outTime
,
boolean
isFault
)
{
count
++
;
if
(
isFault
)
{
faultCount
++
;
}
long
responseTime
=
outTime
-
inTime
;
if
(
maxProcessingTime
<
responseTime
)
{
maxProcessingTime
=
responseTime
;
}
if
(
minProcessingTime
>
responseTime
)
{
minProcessingTime
=
responseTime
;
}
if
(
minProcessingTime
==
-
1
)
{
minProcessingTime
=
responseTime
;
}
totalProcessingTime
=
totalProcessingTime
+
responseTime
;
avgProcessingTime
=
totalProcessingTime
/
count
;
}
public
long
getMaxProcessingTime
(
)
{
return
maxProcessingTime
;
}
public
double
getAvgProcessingTime
(
)
{
return
avgProcessingTime
;
}
public
long
getMinProcessingTime
(
)
{
return
minProcessingTime
;
}
public
int
getFaultCount
(
)
{
return
faultCount
;
}
public
int
getCount
(
)
{
return
count
;
}
}
