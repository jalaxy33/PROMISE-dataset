package
org
.
apache
.
synapse
.
config
.
xml
.
endpoints
;
import
org
.
apache
.
synapse
.
config
.
XMLToObjectMapper
;
import
org
.
apache
.
synapse
.
SynapseException
;
import
org
.
apache
.
axiom
.
om
.
OMNode
;
import
org
.
apache
.
axiom
.
om
.
OMElement
;
public
class
XMLToEndpointMapper
implements
XMLToObjectMapper
{
private
static
XMLToEndpointMapper
instance
=
new
XMLToEndpointMapper
(
)
;
private
XMLToEndpointMapper
(
)
{
}
public
static
XMLToEndpointMapper
getInstance
(
)
{
return
instance
;
}
public
Object
getObjectFromOMNode
(
OMNode
om
)
{
if
(
om
instanceof
OMElement
)
{
OMElement
epElement
=
(
OMElement
)
om
;
return
EndpointAbstractFactory
.
getEndpointFactroy
(
epElement
)
.
createEndpoint
(
epElement
,
false
)
;
}
else
{
throw
new
SynapseException
(
"Configuration is not in proper format."
)
;
}
}
}
