package
org
.
apache
.
velocity
.
runtime
.
resource
.
loader
;
import
java
.
io
.
InputStream
;
import
org
.
apache
.
velocity
.
runtime
.
RuntimeServices
;
import
org
.
apache
.
velocity
.
runtime
.
resource
.
Resource
;
import
org
.
apache
.
velocity
.
exception
.
ResourceNotFoundException
;
import
org
.
apache
.
commons
.
collections
.
ExtendedProperties
;
public
abstract
class
ResourceLoader
{
protected
boolean
isCachingOn
=
false
;
protected
long
modificationCheckInterval
=
2
;
protected
String
className
=
null
;
protected
RuntimeServices
rsvc
=
null
;
public
void
commonInit
(
RuntimeServices
rs
,
ExtendedProperties
configuration
)
{
this
.
rsvc
=
rs
;
isCachingOn
=
configuration
.
getBoolean
(
"cache"
,
false
)
;
modificationCheckInterval
=
configuration
.
getLong
(
"modificationCheckInterval"
,
0
)
;
className
=
configuration
.
getString
(
"class"
)
;
}
public
abstract
void
init
(
ExtendedProperties
configuration
)
;
public
abstract
InputStream
getResourceStream
(
String
source
)
throws
ResourceNotFoundException
;
public
abstract
boolean
isSourceModified
(
Resource
resource
)
;
public
abstract
long
getLastModified
(
Resource
resource
)
;
public
String
getClassName
(
)
{
return
className
;
}
public
void
setCachingOn
(
boolean
value
)
{
isCachingOn
=
value
;
}
public
boolean
isCachingOn
(
)
{
return
isCachingOn
;
}
public
void
setModificationCheckInterval
(
long
modificationCheckInterval
)
{
this
.
modificationCheckInterval
=
modificationCheckInterval
;
}
public
long
getModificationCheckInterval
(
)
{
return
modificationCheckInterval
;
}
}
