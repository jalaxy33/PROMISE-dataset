package
org
.
apache
.
camel
.
builder
;
import
org
.
apache
.
camel
.
model
.
ProcessorType
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
ArtixDSContentType
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
ArtixDSDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
CsvDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
DataFormatType
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
JaxbDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
SerializationDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
StringDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
XMLBeansDataFormat
;
import
org
.
apache
.
camel
.
model
.
dataformat
.
XStreamDataFormat
;
import
org
.
apache
.
camel
.
spi
.
DataFormat
;
public
class
DataFormatClause
<
T
extends
ProcessorType
>
{
private
final
T
processorType
;
private
final
Operation
operation
;
public
enum
Operation
{
Marshal
,
Unmarshal
}
public
DataFormatClause
(
T
processorType
,
Operation
operation
)
{
this
.
processorType
=
processorType
;
this
.
operation
=
operation
;
}
public
T
artixDS
(
)
{
return
dataFormat
(
new
ArtixDSDataFormat
(
)
)
;
}
public
T
artixDS
(
Class
<
?
>
dataObjectType
)
{
return
dataFormat
(
new
ArtixDSDataFormat
(
dataObjectType
)
)
;
}
public
T
artixDS
(
Class
<
?
>
elementType
,
ArtixDSContentType
contentType
)
{
return
dataFormat
(
new
ArtixDSDataFormat
(
elementType
,
contentType
)
)
;
}
public
T
artixDS
(
ArtixDSContentType
contentType
)
{
return
dataFormat
(
new
ArtixDSDataFormat
(
contentType
)
)
;
}
public
T
csv
(
)
{
return
dataFormat
(
new
CsvDataFormat
(
)
)
;
}
public
T
jaxb
(
)
{
return
dataFormat
(
new
JaxbDataFormat
(
)
)
;
}
public
T
jaxb
(
boolean
prettyPrint
)
{
return
dataFormat
(
new
JaxbDataFormat
(
prettyPrint
)
)
;
}
public
T
serialization
(
)
{
return
dataFormat
(
new
SerializationDataFormat
(
)
)
;
}
public
T
string
(
)
{
return
string
(
null
)
;
}
public
T
string
(
String
charset
)
{
StringDataFormat
sdf
=
new
StringDataFormat
(
)
;
sdf
.
setCharset
(
charset
)
;
return
dataFormat
(
sdf
)
;
}
public
T
xmlBeans
(
)
{
return
dataFormat
(
new
XMLBeansDataFormat
(
)
)
;
}
public
T
xstream
(
)
{
return
dataFormat
(
new
XStreamDataFormat
(
)
)
;
}
private
T
dataFormat
(
DataFormatType
dataFormatType
)
{
switch
(
operation
)
{
case
Unmarshal
:
return
(
T
)
processorType
.
unmarshal
(
dataFormatType
)
;
case
Marshal
:
return
(
T
)
processorType
.
marshal
(
dataFormatType
)
;
default
:
throw
new
IllegalArgumentException
(
"Unknown DataFormat operation: "
+
operation
)
;
}
}
}
