package
org
.
apache
.
camel
.
processor
.
interceptor
;
import
org
.
apache
.
camel
.
Processor
;
import
org
.
apache
.
camel
.
model
.
ProcessorType
;
import
org
.
apache
.
camel
.
spi
.
InterceptStrategy
;
import
org
.
apache
.
camel
.
spi
.
RouteContext
;
public
final
class
StreamCaching
implements
InterceptStrategy
{
private
StreamCaching
(
)
{
super
(
)
;
}
@
SuppressWarnings
(
"unchecked"
)
public
Processor
wrapProcessorInInterceptors
(
ProcessorType
processorType
,
Processor
target
)
throws
Exception
{
return
new
StreamCachingInterceptor
(
target
)
;
}
public
static
void
enable
(
RouteContext
context
)
{
for
(
InterceptStrategy
strategy
:
context
.
getInterceptStrategies
(
)
)
{
if
(
strategy
instanceof
StreamCaching
)
{
return
;
}
}
context
.
addInterceptStrategy
(
new
StreamCaching
(
)
)
;
}
}
