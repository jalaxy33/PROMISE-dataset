package
org
.
apache
.
tools
.
ant
;
import
java
.
io
.
*
;
public
class
BuildException
extends
RuntimeException
{
private
Throwable
cause
;
private
Location
location
=
Location
.
UNKNOWN_LOCATION
;
public
BuildException
(
)
{
super
(
)
;
}
public
BuildException
(
String
msg
)
{
super
(
msg
)
;
}
public
BuildException
(
String
msg
,
Throwable
cause
)
{
super
(
msg
)
;
this
.
cause
=
cause
;
}
public
BuildException
(
String
msg
,
Throwable
cause
,
Location
location
)
{
this
(
msg
,
cause
)
;
this
.
location
=
location
;
}
public
BuildException
(
Throwable
cause
)
{
super
(
cause
.
toString
(
)
)
;
this
.
cause
=
cause
;
}
public
BuildException
(
String
msg
,
Location
location
)
{
super
(
msg
)
;
this
.
location
=
location
;
}
public
BuildException
(
Throwable
cause
,
Location
location
)
{
this
(
cause
)
;
this
.
location
=
location
;
}
public
Throwable
getException
(
)
{
return
cause
;
}
public
String
toString
(
)
{
return
location
.
toString
(
)
+
getMessage
(
)
;
}
public
void
setLocation
(
Location
location
)
{
this
.
location
=
location
;
}
public
Location
getLocation
(
)
{
return
location
;
}
public
void
printStackTrace
(
)
{
printStackTrace
(
System
.
err
)
;
}
public
void
printStackTrace
(
PrintStream
ps
)
{
synchronized
(
ps
)
{
super
.
printStackTrace
(
ps
)
;
if
(
cause
!=
null
)
{
ps
.
println
(
"--- Nested Exception ---"
)
;
cause
.
printStackTrace
(
ps
)
;
}
}
}
public
void
printStackTrace
(
PrintWriter
pw
)
{
synchronized
(
pw
)
{
super
.
printStackTrace
(
pw
)
;
if
(
cause
!=
null
)
{
pw
.
println
(
"--- Nested Exception ---"
)
;
cause
.
printStackTrace
(
pw
)
;
}
}
}
}
