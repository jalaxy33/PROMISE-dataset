package
org
.
apache
.
tools
.
ant
.
taskdefs
.
optional
.
dotnet
;
import
org
.
apache
.
tools
.
ant
.
BuildException
;
public
class
JSharp
extends
DotnetCompile
{
String
baseAddress
;
boolean
pureJava
=
true
;
boolean
secureScoping
=
false
;
public
JSharp
(
)
{
setExecutable
(
"vjc"
)
;
}
public
void
setBaseAddress
(
String
baseAddress
)
{
this
.
baseAddress
=
baseAddress
;
}
public
void
setPureJava
(
boolean
pureJava
)
{
this
.
pureJava
=
pureJava
;
}
public
void
setSecureScoping
(
boolean
secureScoping
)
{
this
.
secureScoping
=
secureScoping
;
}
public
String
getReferenceDelimiter
(
)
{
return
";"
;
}
public
String
getFileExtension
(
)
{
return
".java"
;
}
protected
void
addCompilerSpecificOptions
(
NetCommand
command
)
{
if
(
pureJava
)
{
command
.
addArgument
(
"/x:all"
)
;
}
if
(
secureScoping
)
{
command
.
addArgument
(
"/securescoping"
)
;
}
}
protected
void
createResourceParameter
(
NetCommand
command
,
DotnetResource
resource
)
{
resource
.
getParameters
(
getProject
(
)
,
command
,
true
)
;
}
protected
void
validate
(
)
throws
BuildException
{
super
.
validate
(
)
;
if
(
getDestFile
(
)
==
null
)
{
throw
new
BuildException
(
"DestFile was not specified"
)
;
}
}
}
