package
org
.
apache
.
log4j
.
helpers
;
import
org
.
apache
.
log4j
.
spi
.
ErrorHandler
;
public
class
OnlyOnceErrorHandler
implements
ErrorHandler
{
final
String
WARN_PREFIX
=
"log4j warning: "
;
final
String
ERROR_PREFIX
=
"log4j error: "
;
boolean
firstTime
=
true
;
public
String
[
]
getOptionStrings
(
)
{
return
null
;
}
public
void
setOption
(
String
key
,
String
value
)
{
}
public
void
activateOptions
(
)
{
}
public
void
error
(
String
message
,
Exception
e
,
int
errorCode
)
{
if
(
firstTime
)
{
LogLog
.
error
(
message
,
e
)
;
firstTime
=
false
;
}
}
public
void
error
(
String
message
)
{
if
(
firstTime
)
{
LogLog
.
error
(
message
)
;
firstTime
=
false
;
}
}
}
